var PO=Object.defineProperty,kO=Object.defineProperties;var OO=Object.getOwnPropertyDescriptors;var IE=Object.getOwnPropertySymbols,FO=Object.getPrototypeOf,LO=Object.prototype.hasOwnProperty,VO=Object.prototype.propertyIsEnumerable,jO=Reflect.get;var EE=(n,e,t)=>e in n?PO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,k=(n,e)=>{for(var t in e||={})LO.call(e,t)&&EE(n,t,e[t]);if(IE)for(var t of IE(e))VO.call(e,t)&&EE(n,t,e[t]);return n},ce=(n,e)=>kO(n,OO(e));var gr=(n,e,t)=>jO(FO(n),t,e);var v=(n,e,t)=>new Promise((i,r)=>{var o=c=>{try{a(t.next(c))}catch(u){r(u)}},s=c=>{try{a(t.throw(c))}catch(u){r(u)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});function CE(n,e){return Object.is(n,e)}var ht=null,Bu=!1,$u=1,xi=Symbol("SIGNAL");function Ie(n){let e=ht;return ht=n,e}function DE(){return ht}var pc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function bm(n){if(Bu)throw new Error("");if(ht===null)return;ht.consumerOnSignalRead(n);let e=ht.nextProducerIndex++;if(Gu(ht),e<ht.producerNode.length&&ht.producerNode[e]!==n&&fc(ht)){let t=ht.producerNode[e];qu(t,ht.producerIndexOfThis[e])}ht.producerNode[e]!==n&&(ht.producerNode[e]=n,ht.producerIndexOfThis[e]=fc(ht)?xE(n,ht,e):0),ht.producerLastReadVersion[e]=n.version}function UO(){$u++}function TE(n){if(!(fc(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===$u)){if(!n.producerMustRecompute(n)&&!Im(n)){n.dirty=!1,n.lastCleanEpoch=$u;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=$u}}function SE(n){if(n.liveConsumerNode===void 0)return;let e=Bu;Bu=!0;try{for(let t of n.liveConsumerNode)t.dirty||BO(t)}finally{Bu=e}}function AE(){return ht?.consumerAllowSignalWrites!==!1}function BO(n){n.dirty=!0,SE(n),n.consumerMarkedDirty?.(n)}function Hu(n){return n&&(n.nextProducerIndex=0),Ie(n)}function wm(n,e){if(Ie(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(fc(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)qu(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Im(n){Gu(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(TE(t),i!==t.version))return!0}return!1}function Em(n){if(Gu(n),fc(n))for(let e=0;e<n.producerNode.length;e++)qu(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function xE(n,e,t){if(RE(n),n.liveConsumerNode.length===0&&ME(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=xE(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function qu(n,e){if(RE(n),n.liveConsumerNode.length===1&&ME(n))for(let i=0;i<n.producerNode.length;i++)qu(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Gu(r),r.producerIndexOfThis[i]=e}}function fc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Gu(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function RE(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function ME(n){return n.producerNode!==void 0}function NE(n){let e=Object.create($O);e.computation=n;let t=()=>{if(TE(e),bm(e),e.value===zu)throw e.error;return e.value};return t[xi]=e,t}var vm=Symbol("UNSET"),ym=Symbol("COMPUTING"),zu=Symbol("ERRORED"),$O=ce(k({},pc),{value:vm,dirty:!0,error:null,equal:CE,producerMustRecompute(n){return n.value===vm||n.value===ym},producerRecomputeValue(n){if(n.value===ym)throw new Error("Detected cycle in computations.");let e=n.value;n.value=ym;let t=Hu(n),i;try{i=n.computation()}catch(r){i=zu,n.error=r}finally{wm(n,t)}if(e!==vm&&e!==zu&&i!==zu&&n.equal(e,i)){n.value=e;return}n.value=i,n.version++}});function zO(){throw new Error}var PE=zO;function kE(){PE()}function OE(n){PE=n}var HO=null;function FE(n){let e=Object.create(VE);e.value=n;let t=()=>(bm(e),e.value);return t[xi]=e,t}function Cm(n,e){AE()||kE(),n.equal(n.value,e)||(n.value=e,qO(n))}function LE(n,e){AE()||kE(),Cm(n,e(n.value))}var VE=ce(k({},pc),{equal:CE,value:void 0});function qO(n){n.version++,UO(),SE(n),HO?.()}function J(n){return typeof n=="function"}function fs(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Wu=fs(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function so(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Pe=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(J(i))try{i()}catch(o){e=o instanceof Wu?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{jE(o)}catch(s){e=e??[],s instanceof Wu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Wu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)jE(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&so(t,e)}remove(e){let{_finalizers:t}=this;t&&so(t,e),e instanceof n&&e._removeParent(this)}};Pe.EMPTY=(()=>{let n=new Pe;return n.closed=!0,n})();var Dm=Pe.EMPTY;function Ku(n){return n instanceof Pe||n&&"closed"in n&&J(n.remove)&&J(n.add)&&J(n.unsubscribe)}function jE(n){J(n)?n():n.unsubscribe()}var Sn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ps={setTimeout(n,e,...t){let{delegate:i}=ps;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ps;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Yu(n){ps.setTimeout(()=>{let{onUnhandledError:e}=Sn;if(e)e(n);else throw n})}function mc(){}var UE=Tm("C",void 0,void 0);function BE(n){return Tm("E",void 0,n)}function $E(n){return Tm("N",n,void 0)}function Tm(n,e,t){return{kind:n,value:e,error:t}}var ao=null;function ms(n){if(Sn.useDeprecatedSynchronousErrorHandling){let e=!ao;if(e&&(ao={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=ao;if(ao=null,t)throw i}}else n()}function zE(n){Sn.useDeprecatedSynchronousErrorHandling&&ao&&(ao.errorThrown=!0,ao.error=n)}var co=class extends Pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ku(e)&&e.add(this)):this.destination=KO}static create(e,t,i){return new Ri(e,t,i)}next(e){this.isStopped?Am($E(e),this):this._next(e)}error(e){this.isStopped?Am(BE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Am(UE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},GO=Function.prototype.bind;function Sm(n,e){return GO.call(n,e)}var xm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Qu(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Qu(i)}else Qu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Qu(t)}}},Ri=class extends co{constructor(e,t,i){super();let r;if(J(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&Sn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Sm(e.next,o),error:e.error&&Sm(e.error,o),complete:e.complete&&Sm(e.complete,o)}):r=e}this.destination=new xm(r)}};function Qu(n){Sn.useDeprecatedSynchronousErrorHandling?zE(n):Yu(n)}function WO(n){throw n}function Am(n,e){let{onStoppedNotification:t}=Sn;t&&ps.setTimeout(()=>t(n,e))}var KO={closed:!0,next:mc,error:WO,complete:mc};var gs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function $t(n){return n}function Rm(...n){return Mm(n)}function Mm(n){return n.length===0?$t:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var te=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=QO(t)?t:new Ri(t,i,r);return ms(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=HE(i),new i((r,o)=>{let s=new Ri({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[gs](){return this}pipe(...t){return Mm(t)(this)}toPromise(t){return t=HE(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function HE(n){var e;return(e=n??Sn.Promise)!==null&&e!==void 0?e:Promise}function YO(n){return n&&J(n.next)&&J(n.error)&&J(n.complete)}function QO(n){return n&&n instanceof co||YO(n)&&Ku(n)}function Nm(n){return J(n?.lift)}function de(n){return e=>{if(Nm(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function le(n,e,t,i,r){return new Pm(n,e,t,i,r)}var Pm=class extends co{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function _s(){return de((n,e)=>{let t=null;n._refCount++;let i=le(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var vs=class extends te{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Nm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pe;let t=this.getSubject();e.add(this.source.subscribe(le(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pe.EMPTY)}return e}refCount(){return _s()(this)}};var qE=fs(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=(()=>{class n extends te{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new Zu(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new qE}next(t){ms(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){ms(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){ms(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Dm:(this.currentObservers=null,o.push(t),new Pe(()=>{this.currentObservers=null,so(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new te;return t.source=this,t}}return n.create=(e,t)=>new Zu(e,t),n})(),Zu=class extends se{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:Dm}};var ft=class extends se{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var km={now(){return(km.delegate||Date).now()},delegate:void 0};var Xu=class extends Pe{constructor(e,t){super()}schedule(e,t=0){return this}};var gc={setInterval(n,e,...t){let{delegate:i}=gc;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=gc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ys=class extends Xu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return gc.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&gc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,so(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var bs=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};bs.now=km.now;var ws=class extends bs{constructor(e,t=bs.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var _r=new ws(ys),Om=_r;var Ju=class extends ys{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}};var ed=class extends ws{};var Fm=new ed(Ju);var zt=new te(n=>n.complete());function td(n){return n&&J(n.schedule)}function Lm(n){return n[n.length-1]}function nd(n){return J(Lm(n))?n.pop():void 0}function Gn(n){return td(Lm(n))?n.pop():void 0}function GE(n,e){return typeof Lm(n)=="number"?n.pop():e}function Vm(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function KE(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{u(i.next(h))}catch(p){s(p)}}function c(h){try{u(i.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):r(h.value).then(a,c)}u((i=i.apply(n,e||[])).next())})}function WE(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function lo(n){return this instanceof lo?(this.v=n,this):new lo(n)}function YE(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(_){return function(I){return Promise.resolve(I).then(_,p)}}function a(_,I){i[_]&&(r[_]=function(x){return new Promise(function(M,V){o.push([_,x,M,V])>1||c(_,x)})},I&&(r[_]=I(r[_])))}function c(_,I){try{u(i[_](I))}catch(x){g(o[0][3],x)}}function u(_){_.value instanceof lo?Promise.resolve(_.value.v).then(h,p):g(o[0][2],_)}function h(_){c("next",_)}function p(_){c("throw",_)}function g(_,I){_(I),o.shift(),o.length&&c(o[0][0],o[0][1])}}function QE(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof WE=="function"?WE(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),r(a,c,s.done,s.value)})}}function r(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var Is=n=>n&&typeof n.length=="number"&&typeof n!="function";function id(n){return J(n?.then)}function rd(n){return J(n[gs])}function od(n){return Symbol.asyncIterator&&J(n?.[Symbol.asyncIterator])}function sd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ZO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ad=ZO();function cd(n){return J(n?.[ad])}function ld(n){return YE(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield lo(t.read());if(r)return yield lo(void 0);yield yield lo(i)}}finally{t.releaseLock()}})}function ud(n){return J(n?.getReader)}function ke(n){if(n instanceof te)return n;if(n!=null){if(rd(n))return XO(n);if(Is(n))return JO(n);if(id(n))return e1(n);if(od(n))return ZE(n);if(cd(n))return t1(n);if(ud(n))return n1(n)}throw sd(n)}function XO(n){return new te(e=>{let t=n[gs]();if(J(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function JO(n){return new te(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function e1(n){return new te(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Yu)})}function t1(n){return new te(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function ZE(n){return new te(e=>{i1(n,e).catch(t=>e.error(t))})}function n1(n){return ZE(ld(n))}function i1(n,e){var t,i,r,o;return KE(this,void 0,void 0,function*(){try{for(t=QE(n);i=yield t.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})}function Wt(n,e,t,i=0,r=!1){let o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function vr(n,e=0){return de((t,i)=>{t.subscribe(le(i,r=>Wt(i,n,()=>i.next(r),e),()=>Wt(i,n,()=>i.complete(),e),r=>Wt(i,n,()=>i.error(r),e)))})}function yr(n,e=0){return de((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function XE(n,e){return ke(n).pipe(yr(e),vr(e))}function JE(n,e){return ke(n).pipe(yr(e),vr(e))}function eC(n,e){return new te(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function tC(n,e){return new te(t=>{let i;return Wt(t,e,()=>{i=n[ad](),Wt(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>J(i?.return)&&i.return()})}function dd(n,e){if(!n)throw new Error("Iterable cannot be null");return new te(t=>{Wt(t,e,()=>{let i=n[Symbol.asyncIterator]();Wt(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function nC(n,e){return dd(ld(n),e)}function iC(n,e){if(n!=null){if(rd(n))return XE(n,e);if(Is(n))return eC(n,e);if(id(n))return JE(n,e);if(od(n))return dd(n,e);if(cd(n))return tC(n,e);if(ud(n))return nC(n,e)}throw sd(n)}function He(n,e){return e?iC(n,e):ke(n)}function K(...n){let e=Gn(n);return He(n,e)}function br(n,e){let t=J(n)?n:()=>n,i=r=>r.error(t());return new te(e?r=>e.schedule(i,0,r):i)}function hd(n){return!!n&&(n instanceof te||J(n.lift)&&J(n.subscribe))}var Mi=fs(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function rC(n){return n instanceof Date&&!isNaN(n)}function Q(n,e){return de((t,i)=>{let r=0;t.subscribe(le(i,o=>{i.next(n.call(e,o,r++))}))})}var{isArray:r1}=Array;function o1(n,e){return r1(e)?n(...e):n(e)}function Es(n){return Q(e=>o1(n,e))}var{isArray:s1}=Array,{getPrototypeOf:a1,prototype:c1,keys:l1}=Object;function fd(n){if(n.length===1){let e=n[0];if(s1(e))return{args:e,keys:null};if(u1(e)){let t=l1(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function u1(n){return n&&typeof n=="object"&&a1(n)===c1}function pd(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Cs(...n){let e=Gn(n),t=nd(n),{args:i,keys:r}=fd(n);if(i.length===0)return He([],e);let o=new te(d1(i,e,r?s=>pd(r,s):$t));return t?o.pipe(Es(t)):o}function d1(n,e,t=$t){return i=>{oC(e,()=>{let{length:r}=n,o=new Array(r),s=r,a=r;for(let c=0;c<r;c++)oC(e,()=>{let u=He(n[c],e),h=!1;u.subscribe(le(i,p=>{o[c]=p,h||(h=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function oC(n,e,t){n?Wt(t,n,e):e()}function sC(n,e,t,i,r,o,s,a){let c=[],u=0,h=0,p=!1,g=()=>{p&&!c.length&&!u&&e.complete()},_=x=>u<i?I(x):c.push(x),I=x=>{o&&e.next(x),u++;let M=!1;ke(t(x,h++)).subscribe(le(e,V=>{r?.(V),o?_(V):e.next(V)},()=>{M=!0},void 0,()=>{if(M)try{for(u--;c.length&&u<i;){let V=c.shift();s?Wt(e,s,()=>I(V)):I(V)}g()}catch(V){e.error(V)}}))};return n.subscribe(le(e,_,()=>{p=!0,g()})),()=>{a?.()}}function tt(n,e,t=1/0){return J(e)?tt((i,r)=>Q((o,s)=>e(i,o,r,s))(ke(n(i,r))),t):(typeof e=="number"&&(t=e),de((i,r)=>sC(i,r,n,t)))}function _c(n=1/0){return tt($t,n)}function aC(){return _c(1)}function wr(...n){return aC()(He(n,Gn(n)))}function Ir(n){return new te(e=>{ke(n()).subscribe(e)})}function vc(...n){let e=nd(n),{args:t,keys:i}=fd(n),r=new te(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let h=0;h<s;h++){let p=!1;ke(t[h]).subscribe(le(o,g=>{p||(p=!0,u--),a[h]=g},()=>c--,void 0,()=>{(!c||!p)&&(u||o.next(i?pd(i,a):a),o.complete())}))}});return e?r.pipe(Es(e)):r}var h1=["addListener","removeListener"],f1=["addEventListener","removeEventListener"],p1=["on","off"];function yc(n,e,t,i){if(J(t)&&(i=t,t=void 0),i)return yc(n,e,t).pipe(Es(i));let[r,o]=_1(n)?f1.map(s=>a=>n[s](e,a,t)):m1(n)?h1.map(cC(n,e)):g1(n)?p1.map(cC(n,e)):[];if(!r&&Is(n))return tt(s=>yc(s,e,t))(ke(n));if(!r)throw new TypeError("Invalid event target");return new te(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function cC(n,e){return t=>i=>n[t](e,i)}function m1(n){return J(n.addListener)&&J(n.removeListener)}function g1(n){return J(n.on)&&J(n.off)}function _1(n){return J(n.addEventListener)&&J(n.removeEventListener)}function lC(n=0,e,t=Om){let i=-1;return e!=null&&(td(e)?t=e:i=e),new te(r=>{let o=rC(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function bc(...n){let e=Gn(n),t=GE(n,1/0),i=n;return i.length?i.length===1?ke(i[0]):_c(t)(He(i,e)):zt}function qe(n,e){return de((t,i)=>{let r=0;t.subscribe(le(i,o=>n.call(e,o,r++)&&i.next(o)))})}function uC(n){return de((e,t)=>{let i=!1,r=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let u=r;r=null,t.next(u)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(le(t,u=>{i=!0,r=u,o||ke(n(u)).subscribe(o=le(t,a,c))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}function md(n,e=_r){return uC(()=>lC(n,e))}function Wn(n){return de((e,t)=>{let i=null,r=!1,o;i=e.subscribe(le(t,void 0,void 0,s=>{o=ke(n(s,Wn(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function dC(n,e,t,i,r){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(le(s,h=>{let p=u++;c=a?n(c,h,p):(a=!0,h),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}function Er(n,e){return J(e)?tt(n,e,1):tt(n,1)}function gd(n,e=_r){return de((t,i)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let u=o;o=null,i.next(u)}};function c(){let u=s+n,h=e.now();if(h<u){r=this.schedule(void 0,u-h),i.add(r);return}a()}t.subscribe(le(i,u=>{o=u,s=e.now(),r||(r=e.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function Cr(n){return de((e,t)=>{let i=!1;e.subscribe(le(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function nt(n){return n<=0?()=>zt:de((e,t)=>{let i=0;e.subscribe(le(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function jm(n){return Q(()=>n)}function _d(n,e=$t){return n=n??v1,de((t,i)=>{let r,o=!0;t.subscribe(le(i,s=>{let a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function v1(n,e){return n===e}function vd(n=y1){return de((e,t)=>{let i=!1;e.subscribe(le(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function y1(){return new Mi}function Dr(n){return de((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Kn(n,e){let t=arguments.length>=2;return i=>i.pipe(n?qe((r,o)=>n(r,o,i)):$t,nt(1),t?Cr(e):vd(()=>new Mi))}function Ds(n){return n<=0?()=>zt:de((e,t)=>{let i=[];e.subscribe(le(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Um(n,e){let t=arguments.length>=2;return i=>i.pipe(n?qe((r,o)=>n(r,o,i)):$t,Ds(1),t?Cr(e):vd(()=>new Mi))}function Bm(n,e){return de(dC(n,e,arguments.length>=2,!0))}function zm(n={}){let{connector:e=()=>new se,resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,c,u=0,h=!1,p=!1,g=()=>{a?.unsubscribe(),a=void 0},_=()=>{g(),s=c=void 0,h=p=!1},I=()=>{let x=s;_(),x?.unsubscribe()};return de((x,M)=>{u++,!p&&!h&&g();let V=c=c??e();M.add(()=>{u--,u===0&&!p&&!h&&(a=$m(I,r))}),V.subscribe(M),!s&&u>0&&(s=new Ri({next:z=>V.next(z),error:z=>{p=!0,g(),a=$m(_,t,z),V.error(z)},complete:()=>{h=!0,g(),a=$m(_,i),V.complete()}}),ke(x).subscribe(s))})(o)}}function $m(n,e,...t){if(e===!0){n();return}if(e===!1)return;let i=new Ri({next:()=>{i.unsubscribe(),n()}});return ke(e(...t)).subscribe(i)}function wc(n){return qe((e,t)=>n<=t)}function Yn(...n){let e=Gn(n);return de((t,i)=>{(e?wr(n,t,e):wr(n,t)).subscribe(i)})}function Xt(n,e){return de((t,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();t.subscribe(le(i,c=>{r?.unsubscribe();let u=0,h=o++;ke(n(c,h)).subscribe(r=le(i,p=>i.next(e?e(c,p,h,u++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Qn(n){return de((e,t)=>{ke(n).subscribe(le(t,()=>t.complete(),mc)),!t.closed&&e.subscribe(t)})}function Ge(n,e,t){let i=J(n)||e||t?{next:n,error:e,complete:t}:n;return i?de((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(le(o,c=>{var u;(u=i.next)===null||u===void 0||u.call(i,c),o.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),o.complete()},c=>{var u;a=!1,(u=i.error)===null||u===void 0||u.call(i,c),o.error(c)},()=>{var c,u;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(u=i.finalize)===null||u===void 0||u.call(i)}))}):$t}var XC="https://g.co/ng/security#xss",Y=class extends Error{constructor(e,t){super(c_(e,t)),this.code=e}};function c_(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function kc(n){return{toString:n}.toString()}var yd="__parameters__";function b1(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function JC(n,e,t){return kc(()=>{let i=b1(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(c,u,h){let p=c.hasOwnProperty(yd)?c[yd]:Object.defineProperty(c,yd,{value:[]})[yd];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var Dc=globalThis;function Be(n){for(let e in n)if(n[e]===Be)return e;throw Error("Could not find renamed property on target object.")}function w1(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function qt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(qt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function ig(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var I1=Be({__forward_ref__:Be});function Io(n){return n.__forward_ref__=Io,n.toString=function(){return qt(this())},n}function Ht(n){return eD(n)?n():n}function eD(n){return typeof n=="function"&&n.hasOwnProperty(I1)&&n.__forward_ref__===Io}function F(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function it(n){return{providers:n.providers||[],imports:n.imports||[]}}function th(n){return hC(n,nD)||hC(n,iD)}function tD(n){return th(n)!==null}function hC(n,e){return n.hasOwnProperty(e)?n[e]:null}function E1(n){let e=n&&(n[nD]||n[iD]);return e||null}function fC(n){return n&&(n.hasOwnProperty(pC)||n.hasOwnProperty(C1))?n[pC]:null}var nD=Be({\u0275prov:Be}),pC=Be({\u0275inj:Be}),iD=Be({ngInjectableDef:Be}),C1=Be({ngInjectorDef:Be}),U=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=F({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function rD(n){return n&&!!n.\u0275providers}var D1=Be({\u0275cmp:Be}),T1=Be({\u0275dir:Be}),S1=Be({\u0275pipe:Be}),A1=Be({\u0275mod:Be}),Nd=Be({\u0275fac:Be}),Cc=Be({__NG_ELEMENT_ID__:Be}),mC=Be({__NG_ENV_ID__:Be});function nh(n){return typeof n=="string"?n:n==null?"":String(n)}function x1(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():nh(n)}function R1(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Y(-200,n)}function l_(n,e){throw new Y(-201,!1)}var me=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(me||{}),rg;function oD(){return rg}function fn(n){let e=rg;return rg=n,e}function sD(n,e,t){let i=th(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&me.Optional)return null;if(e!==void 0)return e;l_(n,"Injector")}var M1={},Tc=M1,og="__NG_DI_FLAG__",Pd="ngTempTokenPath",N1="ngTokenPath",P1=/\n/gm,k1="\u0275",gC="__source",xs;function O1(){return xs}function Tr(n){let e=xs;return xs=n,e}function F1(n,e=me.Default){if(xs===void 0)throw new Y(-203,!1);return xs===null?sD(n,void 0,e):xs.get(n,e&me.Optional?null:void 0,e)}function R(n,e=me.Default){return(oD()||F1)(Ht(n),e)}function O(n,e=me.Default){return R(n,ih(e))}function ih(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function sg(n){let e=[];for(let t=0;t<n.length;t++){let i=Ht(n[t]);if(Array.isArray(i)){if(i.length===0)throw new Y(900,!1);let r,o=me.Default;for(let s=0;s<i.length;s++){let a=i[s],c=L1(a);typeof c=="number"?c===-1?r=a.token:o|=c:r=a}e.push(R(r,o))}else e.push(R(i))}return e}function aD(n,e){return n[og]=e,n.prototype[og]=e,n}function L1(n){return n[og]}function V1(n,e,t,i){let r=n[Pd];throw e[gC]&&r.unshift(e[gC]),n.message=j1(`
`+n.message,r,t,i),n[N1]=r,n[Pd]=null,n}function j1(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==k1?n.slice(2):n;let r=qt(e);if(Array.isArray(e))r=e.map(qt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):qt(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(P1,`
  `)}`}var $e=aD(JC("Optional"),8);var u_=aD(JC("SkipSelf"),4);function Ms(n,e){let t=n.hasOwnProperty(Nd);return t?n[Nd]:null}function U1(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function B1(n){return n.flat(Number.POSITIVE_INFINITY)}function d_(n,e){n.forEach(t=>Array.isArray(t)?d_(t,e):e(t))}function cD(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function kd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function $1(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function z1(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let o=r-2;n[r]=n[o],r--}n[e]=t,n[e+1]=i}}function h_(n,e,t){let i=Oc(n,e);return i>=0?n[i|1]=t:(i=~i,z1(n,i,e,t)),i}function Hm(n,e){let t=Oc(n,e);if(t>=0)return n[t|1]}function Oc(n,e){return H1(n,e,1)}function H1(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}var Ns={},Kt=[],Ps=new U(""),lD=new U("",-1),uD=new U(""),Od=class{get(e,t=Tc){if(t===Tc){let i=new Error(`NullInjectorError: No provider for ${qt(e)}!`);throw i.name="NullInjectorError",i}return t}},dD=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(dD||{}),Jn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Jn||{}),xr=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(xr||{});function q1(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function ag(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{let o=r,s=t[++i];G1(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function hD(n){return n===3||n===4||n===6}function G1(n){return n.charCodeAt(0)===64}function Sc(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?_C(n,t,r,null,e[++i]):_C(n,t,r,null,null))}}return n}function _C(n,e,t,i,r){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(i===null){r!==null&&(n[o+1]=r);return}else if(i===n[o+1]){n[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i),r!==null&&n.splice(o++,0,r)}var fD="ng-template";function W1(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&q1(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(f_(n))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function f_(n){return n.type===4&&n.value!==fD}function K1(n,e,t){let i=n.type===4&&!t?fD:n.value;return e===i}function Y1(n,e,t){let i=4,r=n.attrs,o=r!==null?X1(r):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!An(i)&&!An(c))return!1;if(s&&An(c))continue;s=!1,i=c|i&1;continue}if(!s)if(i&4){if(i=2|i&1,c!==""&&!K1(n,c,t)||c===""&&e.length===1){if(An(i))return!1;s=!0}}else if(i&8){if(r===null||!W1(n,r,c,t)){if(An(i))return!1;s=!0}}else{let u=e[++a],h=Q1(c,r,f_(n),t);if(h===-1){if(An(i))return!1;s=!0;continue}if(u!==""){let p;if(h>o?p="":p=r[h+1].toLowerCase(),i&2&&u!==p){if(An(i))return!1;s=!0}}}}return An(i)||s}function An(n){return(n&1)===0}function Q1(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){let s=e[r];if(s===n)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return J1(e,n)}function pD(n,e,t=!1){for(let i=0;i<e.length;i++)if(Y1(n,e[i],t))return!0;return!1}function Z1(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function X1(n){for(let e=0;e<n.length;e++){let t=n[e];if(hD(t))return e}return n.length}function J1(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function eF(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function vC(n,e){return n?":not("+e.trim()+")":e}function tF(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(i&2){let a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!An(s)&&(e+=vC(o,r),r=""),i=s,o=o||!An(i);t++}return r!==""&&(e+=vC(o,r)),e}function nF(n){return n.map(tF).join(",")}function iF(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&e.push(o,n[++i]):r===8&&t.push(o);else{if(!An(r))break;r=o}i++}return{attrs:e,classes:t}}function Te(n){return kc(()=>{let e=yD(n),t=ce(k({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===dD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Jn.Emulated,styles:n.styles||Kt,_:null,schemas:n.schemas||null,tView:null,id:""});bD(t);let i=n.dependencies;return t.directiveDefs=bC(i,!1),t.pipeDefs=bC(i,!0),t.id=sF(t),t})}function rF(n){return ho(n)||mD(n)}function oF(n){return n!==null}function rt(n){return kc(()=>({type:n.type,bootstrap:n.bootstrap||Kt,declarations:n.declarations||Kt,imports:n.imports||Kt,exports:n.exports||Kt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function yC(n,e){if(n==null)return Ns;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,s,a=xr.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(t[o]=a!==xr.None?[i,a]:i,e[o]=s):t[o]=i}return t}function ge(n){return kc(()=>{let e=yD(n);return bD(e),e})}function ho(n){return n[D1]||null}function mD(n){return n[T1]||null}function gD(n){return n[S1]||null}function _D(n){let e=ho(n)||mD(n)||gD(n);return e!==null?e.standalone:!1}function vD(n,e){let t=n[A1]||null;if(!t&&e===!0)throw new Error(`Type ${qt(n)} does not have '\u0275mod' property.`);return t}function yD(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Ns,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Kt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:yC(n.inputs,e),outputs:yC(n.outputs),debugInfo:null}}function bD(n){n.features?.forEach(e=>e(n))}function bC(n,e){if(!n)return null;let t=e?gD:rF;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(oF)}function sF(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Yt(n){return{\u0275providers:n}}function aF(...n){return{\u0275providers:wD(!0,n),\u0275fromNgModule:!0}}function wD(n,...e){let t=[],i=new Set,r,o=s=>{t.push(s)};return d_(e,s=>{let a=s;cg(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&ID(r,o),t}function ID(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];p_(r,o=>{e(o,i)})}}function cg(n,e,t,i){if(n=Ht(n),!n)return!1;let r=null,o=fC(n),s=!o&&ho(n);if(!o&&!s){let c=n.ngModule;if(o=fC(c),o)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=n}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)cg(u,e,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let u;try{d_(o.imports,h=>{cg(h,e,t,i)&&(u||=[],u.push(h))})}finally{}u!==void 0&&ID(u,e)}if(!a){let u=Ms(r)||(()=>new r);e({provide:r,useFactory:u,deps:Kt},r),e({provide:uD,useValue:r,multi:!0},r),e({provide:Ps,useValue:()=>R(r),multi:!0},r)}let c=o.providers;if(c!=null&&!a){let u=n;p_(c,h=>{e(h,u)})}}else return!1;return r!==n&&n.providers!==void 0}function p_(n,e){for(let t of n)rD(t)&&(t=t.\u0275providers),Array.isArray(t)?p_(t,e):e(t)}var cF=Be({provide:String,useValue:Be});function ED(n){return n!==null&&typeof n=="object"&&cF in n}function lF(n){return!!(n&&n.useExisting)}function uF(n){return!!(n&&n.useFactory)}function ks(n){return typeof n=="function"}function dF(n){return!!n.useClass}var rh=new U(""),Td={},hF={},qm;function m_(){return qm===void 0&&(qm=new Od),qm}var en=class{},Ac=class extends en{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ug(e,s=>this.processProvider(s)),this.records.set(lD,Ts(void 0,this)),r.has("environment")&&this.records.set(en,Ts(void 0,this));let o=this.records.get(rh);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(uD,Kt,me.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ie(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ie(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Tr(this),i=fn(void 0),r;try{return e()}finally{Tr(t),fn(i)}}get(e,t=Tc,i=me.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(mC))return e[mC](this);i=ih(i);let r,o=Tr(this),s=fn(void 0);try{if(!(i&me.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=_F(e)&&th(e);u&&this.injectableDefInScope(u)?c=Ts(lg(e),Td):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=i&me.Self?m_():this.parent;return t=i&me.Optional&&t===Tc?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Pd]=a[Pd]||[]).unshift(qt(e)),o)throw a;return V1(a,e,"R3InjectorError",this.source)}else throw a}finally{fn(s),Tr(o)}}resolveInjectorInitializers(){let e=Ie(null),t=Tr(this),i=fn(void 0),r;try{let o=this.get(Ps,Kt,me.Self);for(let s of o)s()}finally{Tr(t),fn(i),Ie(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(qt(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Y(205,!1)}processProvider(e){e=Ht(e);let t=ks(e)?e:Ht(e&&e.provide),i=pF(e);if(!ks(e)&&e.multi===!0){let r=this.records.get(t);r||(r=Ts(void 0,Td,!0),r.factory=()=>sg(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=Ie(null);try{return t.value===Td&&(t.value=hF,t.value=t.factory()),typeof t.value=="object"&&t.value&&gF(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ie(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ht(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function lg(n){let e=th(n),t=e!==null?e.factory:Ms(n);if(t!==null)return t;if(n instanceof U)throw new Y(204,!1);if(n instanceof Function)return fF(n);throw new Y(204,!1)}function fF(n){if(n.length>0)throw new Y(204,!1);let t=E1(n);return t!==null?()=>t.factory(n):()=>new n}function pF(n){if(ED(n))return Ts(void 0,n.useValue);{let e=CD(n);return Ts(e,Td)}}function CD(n,e,t){let i;if(ks(n)){let r=Ht(n);return Ms(r)||lg(r)}else if(ED(n))i=()=>Ht(n.useValue);else if(uF(n))i=()=>n.useFactory(...sg(n.deps||[]));else if(lF(n))i=()=>R(Ht(n.useExisting));else{let r=Ht(n&&(n.useClass||n.provide));if(mF(n))i=()=>new r(...sg(n.deps));else return Ms(r)||lg(r)}return i}function Ts(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function mF(n){return!!n.deps}function gF(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function _F(n){return typeof n=="function"||typeof n=="object"&&n instanceof U}function ug(n,e){for(let t of n)Array.isArray(t)?ug(t,e):t&&rD(t)?ug(t.\u0275providers,e):e(t)}function Oi(n,e){n instanceof Ac&&n.assertNotDestroyed();let t,i=Tr(n),r=fn(void 0);try{return e()}finally{Tr(i),fn(r)}}function vF(){return oD()!==void 0||O1()!=null}function yF(n){return typeof n=="function"}var Fi=0,pe=1,oe=2,Rt=3,Rn=4,Qt=5,xc=6,Fd=7,Mn=8,Os=9,ei=10,Xe=11,Rc=12,wC=13,Us=14,mn=15,fo=16,Ss=17,Ni=18,oh=19,DD=20,Sr=21,Gm=22,pn=23,ti=25,TD=1;var po=7,Ld=8,Fs=9,Jt=10,Vd=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Vd||{});function Ar(n){return Array.isArray(n)&&typeof n[TD]=="object"}function Li(n){return Array.isArray(n)&&n[TD]===!0}function SD(n){return(n.flags&4)!==0}function sh(n){return n.componentOffset>-1}function g_(n){return(n.flags&1)===1}function Rr(n){return!!n.template}function dg(n){return(n[oe]&512)!==0}var hg=class{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function AD(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}function nn(){return xD}function xD(n){return n.type.prototype.ngOnChanges&&(n.setInput=wF),bF}nn.ngInherit=!0;function bF(){let n=MD(this),e=n?.current;if(e){let t=n.previous;if(t===Ns)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function wF(n,e,t,i,r){let o=this.declaredInputs[i],s=MD(n)||IF(n,{previous:Ns,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new hg(u&&u.currentValue,t,c===Ns),AD(n,e,r,t)}var RD="__ngSimpleChanges__";function MD(n){return n[RD]||null}function IF(n,e){return n[RD]=e}var IC=null;var Zn=function(n,e,t){IC?.(n,e,t)},EF="svg",CF="math";function ni(n){for(;Array.isArray(n);)n=n[Fi];return n}function ND(n,e){return ni(e[n])}function _n(n,e){return ni(e[n.index])}function PD(n,e){return n.data[e]}function Nr(n,e){let t=e[n];return Ar(t)?t:t[Fi]}function DF(n){return(n[oe]&4)===4}function __(n){return(n[oe]&128)===128}function TF(n){return Li(n[Rt])}function jd(n,e){return e==null?null:n[e]}function kD(n){n[Ss]=0}function OD(n){n[oe]&1024||(n[oe]|=1024,__(n)&&ch(n))}function SF(n,e){for(;n>0;)e=e[Us],n--;return e}function ah(n){return!!(n[oe]&9216||n[pn]?.dirty)}function fg(n){n[ei].changeDetectionScheduler?.notify(8),n[oe]&64&&(n[oe]|=1024),ah(n)&&ch(n)}function ch(n){n[ei].changeDetectionScheduler?.notify(0);let e=mo(n);for(;e!==null&&!(e[oe]&8192||(e[oe]|=8192,!__(e)));)e=mo(e)}function FD(n,e){if((n[oe]&256)===256)throw new Y(911,!1);n[Sr]===null&&(n[Sr]=[]),n[Sr].push(e)}function AF(n,e){if(n[Sr]===null)return;let t=n[Sr].indexOf(e);t!==-1&&n[Sr].splice(t,1)}function mo(n){let e=n[Rt];return Li(e)?e[Rt]:e}var _e={lFrame:KD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var LD=!1;function xF(){return _e.lFrame.elementDepthCount}function RF(){_e.lFrame.elementDepthCount++}function MF(){_e.lFrame.elementDepthCount--}function VD(){return _e.bindingsEnabled}function jD(){return _e.skipHydrationRootTNode!==null}function NF(n){return _e.skipHydrationRootTNode===n}function PF(){_e.skipHydrationRootTNode=null}function Ee(){return _e.lFrame.lView}function pt(){return _e.lFrame.tView}function Bs(n){return _e.lFrame.contextLView=n,n[Mn]}function $s(n){return _e.lFrame.contextLView=null,n}function Mt(){let n=UD();for(;n!==null&&n.type===64;)n=n.parent;return n}function UD(){return _e.lFrame.currentTNode}function kF(){let n=_e.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Fc(n,e){let t=_e.lFrame;t.currentTNode=n,t.isParent=e}function BD(){return _e.lFrame.isParent}function $D(){_e.lFrame.isParent=!1}function zD(){return LD}function EC(n){LD=n}function OF(n){return _e.lFrame.bindingIndex=n}function Lc(){return _e.lFrame.bindingIndex++}function HD(n){let e=_e.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function FF(){return _e.lFrame.inI18n}function LF(n,e){let t=_e.lFrame;t.bindingIndex=t.bindingRootIndex=n,pg(e)}function VF(){return _e.lFrame.currentDirectiveIndex}function pg(n){_e.lFrame.currentDirectiveIndex=n}function jF(n){let e=_e.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function qD(){return _e.lFrame.currentQueryIndex}function v_(n){_e.lFrame.currentQueryIndex=n}function UF(n){let e=n[pe];return e.type===2?e.declTNode:e.type===1?n[Qt]:null}function GD(n,e,t){if(t&me.SkipSelf){let r=e,o=n;for(;r=r.parent,r===null&&!(t&me.Host);)if(r=UF(o),r===null||(o=o[Us],r.type&10))break;if(r===null)return!1;e=r,n=o}let i=_e.lFrame=WD();return i.currentTNode=e,i.lView=n,!0}function y_(n){let e=WD(),t=n[pe];_e.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function WD(){let n=_e.lFrame,e=n===null?null:n.child;return e===null?KD(n):e}function KD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function YD(){let n=_e.lFrame;return _e.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var QD=YD;function b_(){let n=YD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function BF(n){return(_e.lFrame.contextLView=SF(n,_e.lFrame.contextLView))[Mn]}function Eo(){return _e.lFrame.selectedIndex}function go(n){_e.lFrame.selectedIndex=n}function lh(){let n=_e.lFrame;return PD(n.tView,n.selectedIndex)}function $F(){return _e.lFrame.currentNamespace}var ZD=!0;function w_(){return ZD}function I_(n){ZD=n}function zF(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=xD(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function E_(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Sd(n,e,t){XD(n,e,3,t)}function Ad(n,e,t,i){(n[oe]&3)===t&&XD(n,e,t,i)}function Wm(n,e){let t=n[oe];(t&3)===e&&(t&=16383,t+=1,n[oe]=t)}function XD(n,e,t,i){let r=i!==void 0?n[Ss]&65535:0,o=i??-1,s=e.length-1,a=0;for(let c=r;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(n[Ss]+=65536),(a<o||o==-1)&&(HF(n,t,e,c),n[Ss]=(n[Ss]&4294901760)+c+2),c++}function CC(n,e){Zn(4,n,e);let t=Ie(null);try{e.call(n)}finally{Ie(t),Zn(5,n,e)}}function HF(n,e,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=n[s];r?n[oe]>>14<n[Ss]>>16&&(n[oe]&3)===e&&(n[oe]+=16384,CC(a,o)):CC(a,o)}var Rs=-1,_o=class{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function qF(n){return n instanceof _o}function GF(n){return(n.flags&8)!==0}function WF(n){return(n.flags&16)!==0}var Km={},mg=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=ih(i);let r=this.injector.get(e,Km,i);return r!==Km||t===Km?r:this.parentInjector.get(e,t,i)}};function JD(n){return n!==Rs}function Ud(n){return n&32767}function KF(n){return n>>16}function Bd(n,e){let t=KF(n),i=e;for(;t>0;)i=i[Us],t--;return i}var gg=!0;function DC(n){let e=gg;return gg=n,e}var YF=256,eT=YF-1,tT=5,QF=0,Xn={};function ZF(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(Cc)&&(i=t[Cc]),i==null&&(i=t[Cc]=QF++);let r=i&eT,o=1<<r;e.data[n+(r>>tT)]|=o}function $d(n,e){let t=nT(n,e);if(t!==-1)return t;let i=e[pe];i.firstCreatePass&&(n.injectorIndex=e.length,Ym(i.data,n),Ym(e,null),Ym(i.blueprint,null));let r=C_(n,e),o=n.injectorIndex;if(JD(r)){let s=Ud(r),a=Bd(r,e),c=a[pe].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=r,o}function Ym(n,e){n.push(0,0,0,0,0,0,0,0,e)}function nT(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function C_(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=aT(r),i===null)return Rs;if(t++,r=r[Us],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return Rs}function _g(n,e,t){ZF(n,e,t)}function XF(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,r=0;for(;r<i;){let o=t[r];if(hD(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(o===e)return t[r+1];r=r+2}}}return null}function iT(n,e,t){if(t&me.Optional||n!==void 0)return n;l_(e,"NodeInjector")}function rT(n,e,t,i){if(t&me.Optional&&i===void 0&&(i=null),!(t&(me.Self|me.Host))){let r=n[Os],o=fn(void 0);try{return r?r.get(e,i,t&me.Optional):sD(e,i,t&me.Optional)}finally{fn(o)}}return iT(i,e,t)}function oT(n,e,t,i=me.Default,r){if(n!==null){if(e[oe]&2048&&!(i&me.Self)){let s=nL(n,e,t,i,Xn);if(s!==Xn)return s}let o=sT(n,e,t,i,Xn);if(o!==Xn)return o}return rT(e,t,i,r)}function sT(n,e,t,i,r){let o=eL(t);if(typeof o=="function"){if(!GD(e,n,i))return i&me.Host?iT(r,t,i):rT(e,t,i,r);try{let s;if(s=o(i),s==null&&!(i&me.Optional))l_(t);else return s}finally{QD()}}else if(typeof o=="number"){let s=null,a=nT(n,e),c=Rs,u=i&me.Host?e[mn][Qt]:null;for((a===-1||i&me.SkipSelf)&&(c=a===-1?C_(n,e):e[a+8],c===Rs||!SC(i,!1)?a=-1:(s=e[pe],a=Ud(c),e=Bd(c,e)));a!==-1;){let h=e[pe];if(TC(o,a,h.data)){let p=JF(a,e,t,s,i,u);if(p!==Xn)return p}c=e[a+8],c!==Rs&&SC(i,e[pe].data[a+8]===u)&&TC(o,a,e)?(s=h,a=Ud(c),e=Bd(c,e)):a=-1}}return r}function JF(n,e,t,i,r,o){let s=e[pe],a=s.data[n+8],c=i==null?sh(a)&&gg:i!=s&&(a.type&3)!==0,u=r&me.Host&&o===a,h=xd(a,s,t,c,u);return h!==null?vo(e,s,h,a):Xn}function xd(n,e,t,i,r){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,u=n.directiveEnd,h=o>>20,p=i?a:a+h,g=r?a+h:u;for(let _=p;_<g;_++){let I=s[_];if(_<c&&t===I||_>=c&&I.type===t)return _}if(r){let _=s[c];if(_&&Rr(_)&&_.type===t)return c}return null}function vo(n,e,t,i){let r=n[t],o=e.data;if(qF(r)){let s=r;s.resolving&&R1(x1(o[t]));let a=DC(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?fn(s.injectImpl):null,h=GD(n,i,me.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&zF(t,o[t],e)}finally{u!==null&&fn(u),DC(a),s.resolving=!1,QD()}}return r}function eL(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Cc)?n[Cc]:void 0;return typeof e=="number"?e>=0?e&eT:tL:e}function TC(n,e,t){let i=1<<n;return!!(t[e+(n>>tT)]&i)}function SC(n,e){return!(n&me.Self)&&!(n&me.Host&&e)}var uo=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return oT(this._tNode,this._lView,e,ih(i),t)}};function tL(){return new uo(Mt(),Ee())}function oi(n){return kc(()=>{let e=n.prototype.constructor,t=e[Nd]||vg(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[Nd]||vg(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function vg(n){return eD(n)?()=>{let e=vg(Ht(n));return e&&e()}:Ms(n)}function nL(n,e,t,i,r){let o=n,s=e;for(;o!==null&&s!==null&&s[oe]&2048&&!(s[oe]&512);){let a=sT(o,s,t,i|me.Self,Xn);if(a!==Xn)return a;let c=o.parent;if(!c){let u=s[DD];if(u){let h=u.get(t,Xn,i);if(h!==Xn)return h}c=aT(s),s=s[Us]}o=c}return r}function aT(n){let e=n[pe],t=e.type;return t===2?e.declTNode:t===1?n[Qt]:null}function Vc(n){return XF(Mt(),n)}function AC(n,e=null,t=null,i){let r=cT(n,e,t,i);return r.resolveInjectorInitializers(),r}function cT(n,e=null,t=null,i,r=new Set){let o=[t||Kt,aF(n)];return i=i||(typeof n=="object"?void 0:qt(n)),new Ac(o,e||m_(),i||null,r)}var Oe=class n{static{this.THROW_IF_NOT_FOUND=Tc}static{this.NULL=new Od}static create(e,t){if(Array.isArray(e))return AC({name:""},t,e,"");{let i=e.name??"";return AC({name:i},e.parent,e.providers,i)}}static{this.\u0275prov=F({token:n,providedIn:"any",factory:()=>R(lD)})}static{this.__NG_ELEMENT_ID__=-1}};var iL=new U("");iL.__NG_ELEMENT_ID__=n=>{let e=Mt();if(e===null)throw new Y(204,!1);if(e.type&2)return e.value;if(n&me.Optional)return null;throw new Y(204,!1)};var rL="ngOriginalError";function Qm(n){return n[rL]}var lT=!0,uT=(()=>{class n{static{this.__NG_ELEMENT_ID__=oL}static{this.__NG_ENV_ID__=t=>t}}return n})(),yg=class extends uT{constructor(e){super(),this._lView=e}onDestroy(e){return FD(this._lView,e),()=>AF(this._lView,e)}};function oL(){return new yg(Ee())}var zs=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ft(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=F({token:n,providedIn:"root",factory:()=>new n})}}return n})();var bg=class extends se{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,vF()&&(this.destroyRef=O(uT,{optional:!0})??void 0,this.pendingTasks=O(zs,{optional:!0})??void 0)}emit(e){let t=Ie(null);try{super.next(e)}finally{Ie(t)}}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof Pe&&e.add(a),a}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(t),i!==void 0&&this.pendingTasks?.remove(i)})}}},xe=bg;function zd(...n){}function dT(n){let e,t;function i(){n=zd;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function xC(n){return queueMicrotask(()=>n()),()=>{n=zd}}var D_="isAngularZone",Hd=D_+"_ID",sL=0,W=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xe(!1),this.onMicrotaskEmpty=new xe(!1),this.onStable=new xe(!1),this.onError=new xe(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=lT}=e;if(typeof Zone>"u")throw new Y(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,lL(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(D_)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new Y(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new Y(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,aL,zd,zd);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},aL={};function T_(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function cL(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){dT(()=>{n.callbackScheduled=!1,wg(n),n.isCheckStableRunning=!0,T_(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),wg(n)}function lL(n){let e=()=>{cL(n)},t=sL++;n._inner=n._inner.fork({name:"angular",properties:{[D_]:!0,[Hd]:t,[Hd+t]:!0},onInvokeTask:(i,r,o,s,a,c)=>{if(uL(c))return i.invokeTask(o,s,a,c);try{return RC(n),i.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),MC(n)}},onInvoke:(i,r,o,s,a,c,u)=>{try{return RC(n),i.invoke(o,s,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!dL(c)&&e(),MC(n)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,wg(n),T_(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function wg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function RC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function MC(n){n._nesting--,T_(n)}var Ig=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xe,this.onMicrotaskEmpty=new xe,this.onStable=new xe,this.onError=new xe}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function uL(n){return hT(n,"__ignore_ng_zone__")}function dL(n){return hT(n,"__scheduler_tick__")}function hT(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var tn=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Qm(e);for(;t&&Qm(t);)t=Qm(t);return t||null}},hL=new U("",{providedIn:"root",factory:()=>{let n=O(W),e=O(tn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function fL(){return Hs(Mt(),Ee())}function Hs(n,e){return new ve(_n(n,e))}var ve=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=fL}}return n})();function pL(n){return n instanceof ve?n.nativeElement:n}function mL(){return this._results[Symbol.iterator]()}var qd=class n{get changes(){return this._changes??=new xe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=mL)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=B1(e);(this._changesDetected=!U1(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function fT(n){return(n.flags&128)===128}var pT=new Map,gL=0;function _L(){return gL++}function vL(n){pT.set(n[oh],n)}function Eg(n){pT.delete(n[oh])}var NC="__ngContext__";function yo(n,e){Ar(e)?(n[NC]=e[oh],vL(e)):n[NC]=e}function mT(n){return _T(n[Rc])}function gT(n){return _T(n[Rn])}function _T(n){for(;n!==null&&!Li(n);)n=n[Rn];return n}var Cg;function vT(n){Cg=n}function yL(){if(Cg!==void 0)return Cg;if(typeof document<"u")return document;throw new Y(210,!1)}var uh=new U("",{providedIn:"root",factory:()=>bL}),bL="ng",S_=new U(""),si=new U("",{providedIn:"platform",factory:()=>"unknown"});var Nn=new U(""),jc=new U("",{providedIn:"root",factory:()=>yL().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var wL="h",IL="b";var EL=()=>null;function A_(n,e,t=!1){return EL(n,e,t)}var yT=!1,CL=new U("",{providedIn:"root",factory:()=>yT});var bd;function DL(){if(bd===void 0&&(bd=null,Dc.trustedTypes))try{bd=Dc.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return bd}function dh(n){return DL()?.createHTML(n)||n}var wd;function TL(){if(wd===void 0&&(wd=null,Dc.trustedTypes))try{wd=Dc.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return wd}function PC(n){return TL()?.createScriptURL(n)||n}var Pi=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${XC})`}},Dg=class extends Pi{getTypeName(){return"HTML"}},Tg=class extends Pi{getTypeName(){return"Style"}},Sg=class extends Pi{getTypeName(){return"Script"}},Ag=class extends Pi{getTypeName(){return"URL"}},xg=class extends Pi{getTypeName(){return"ResourceURL"}};function Pn(n){return n instanceof Pi?n.changingThisBreaksApplicationSecurity:n}function Pr(n,e){let t=SL(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${XC})`)}return t===e}function SL(n){return n instanceof Pi&&n.getTypeName()||null}function bT(n){return new Dg(n)}function wT(n){return new Tg(n)}function IT(n){return new Sg(n)}function ET(n){return new Ag(n)}function CT(n){return new xg(n)}function AL(n){let e=new Mg(n);return xL()?new Rg(e):e}var Rg=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(dh(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},Mg=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=dh(e),t}};function xL(){try{return!!new window.DOMParser().parseFromString(dh(""),"text/html")}catch{return!1}}var RL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function hh(n){return n=String(n),n.match(RL)?n:"unsafe:"+n}function Vi(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Uc(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var DT=Vi("area,br,col,hr,img,wbr"),TT=Vi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ST=Vi("rp,rt"),ML=Uc(ST,TT),NL=Uc(TT,Vi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),PL=Uc(ST,Vi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),kC=Uc(DT,NL,PL,ML),AT=Vi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),kL=Vi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),OL=Vi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),FL=Uc(AT,kL,OL),LL=Vi("script,style,template"),Ng=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=UL(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=jL(t);if(o){t=o;break}t=r.pop()}}return this.buf.join("")}startElement(e){let t=OC(e).toLowerCase();if(!kC.hasOwnProperty(t))return this.sanitizedSomething=!0,!LL.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!FL.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;AT[a]&&(c=hh(c)),this.buf.push(" ",s,'="',FC(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=OC(e).toLowerCase();kC.hasOwnProperty(t)&&!DT.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(FC(e))}};function VL(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function jL(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw xT(e);return e}function UL(n){let e=n.firstChild;if(e&&VL(n,e))throw xT(e);return e}function OC(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function xT(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var BL=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$L=/([^\#-~ |!])/g;function FC(n){return n.replace(/&/g,"&amp;").replace(BL,function(e){let t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace($L,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Id;function RT(n,e){let t=null;try{Id=Id||AL(n);let i=e?String(e):"";t=Id.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=Id.getInertBodyElement(i)}while(i!==o);let a=new Ng().sanitizeChildren(LC(t)||t);return dh(a)}finally{if(t){let i=LC(t)||t;for(;i.firstChild;)i.firstChild.remove()}}}function LC(n){return"content"in n&&zL(n)?n.content:null}function zL(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Nt=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Nt||{});function x_(n){let e=NT();return e?e.sanitize(Nt.URL,n)||"":Pr(n,"URL")?Pn(n):hh(nh(n))}function HL(n){let e=NT();if(e)return PC(e.sanitize(Nt.RESOURCE_URL,n)||"");if(Pr(n,"ResourceURL"))return PC(Pn(n));throw new Y(904,!1)}function qL(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?HL:x_}function MT(n,e,t){return qL(e,t)(n)}function NT(){let n=Ee();return n&&n[ei].sanitizer}function PT(n){return n instanceof Function?n():n}var ki=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ki||{}),GL;function R_(n,e){return GL(n,e)}function As(n,e,t,i,r){if(i!=null){let o,s=!1;Li(i)?o=i:Ar(i)&&(s=!0,i=i[Fi]);let a=ni(i);n===0&&t!==null?r==null?jT(e,t,a):Gd(e,t,a,r||null,!0):n===1&&t!==null?Gd(e,t,a,r||null,!0):n===2?oV(e,a,s):n===3&&e.destroyNode(a),o!=null&&aV(e,n,o,t,r)}}function WL(n,e){return n.createText(e)}function KL(n,e,t){n.setValue(e,t)}function kT(n,e,t){return n.createElement(e,t)}function YL(n,e){OT(n,e),e[Fi]=null,e[Qt]=null}function QL(n,e,t,i,r,o){i[Fi]=r,i[Qt]=e,fh(n,i,t,1,r,o)}function OT(n,e){e[ei].changeDetectionScheduler?.notify(9),fh(n,e,e[Xe],2,null,null)}function ZL(n){let e=n[Rc];if(!e)return Zm(n[pe],n);for(;e;){let t=null;if(Ar(e))t=e[Rc];else{let i=e[Jt];i&&(t=i)}if(!t){for(;e&&!e[Rn]&&e!==n;)Ar(e)&&Zm(e[pe],e),e=e[Rt];e===null&&(e=n),Ar(e)&&Zm(e[pe],e),t=e&&e[Rn]}e=t}}function XL(n,e,t,i){let r=Jt+i,o=t.length;i>0&&(t[r-1][Rn]=e),i<o-Jt?(e[Rn]=t[r],cD(t,Jt+i,e)):(t.push(e),e[Rn]=null),e[Rt]=t;let s=e[fo];s!==null&&t!==s&&FT(s,e);let a=e[Ni];a!==null&&a.insertView(n),fg(e),e[oe]|=128}function FT(n,e){let t=n[Fs],i=e[Rt];if(Ar(i))n[oe]|=Vd.HasTransplantedViews;else{let r=i[Rt][mn];e[mn]!==r&&(n[oe]|=Vd.HasTransplantedViews)}t===null?n[Fs]=[e]:t.push(e)}function M_(n,e){let t=n[Fs],i=t.indexOf(e);t.splice(i,1)}function Pg(n,e){if(n.length<=Jt)return;let t=Jt+e,i=n[t];if(i){let r=i[fo];r!==null&&r!==n&&M_(r,i),e>0&&(n[t-1][Rn]=i[Rn]);let o=kd(n,Jt+e);YL(i[pe],i);let s=o[Ni];s!==null&&s.detachView(o[pe]),i[Rt]=null,i[Rn]=null,i[oe]&=-129}return i}function LT(n,e){if(!(e[oe]&256)){let t=e[Xe];t.destroyNode&&fh(n,e,t,3,null,null),ZL(e)}}function Zm(n,e){if(e[oe]&256)return;let t=Ie(null);try{e[oe]&=-129,e[oe]|=256,e[pn]&&Em(e[pn]),eV(n,e),JL(n,e),e[pe].type===1&&e[Xe].destroy();let i=e[fo];if(i!==null&&Li(e[Rt])){i!==e[Rt]&&M_(i,e);let r=e[Ni];r!==null&&r.detachView(n)}Eg(e)}finally{Ie(t)}}function JL(n,e){let t=n.cleanup,i=e[Fd];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[t[o+1]];t[o].call(s)}i!==null&&(e[Fd]=null);let r=e[Sr];if(r!==null){e[Sr]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function eV(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof _o)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],c=o[s+1];Zn(4,a,c);try{c.call(a)}finally{Zn(5,a,c)}}else{Zn(4,r,o);try{o.call(r)}finally{Zn(5,r,o)}}}}}function VT(n,e,t){return tV(n,e.parent,t)}function tV(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[Fi];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=n.data[i.directiveStart+r];if(o===Jn.None||o===Jn.Emulated)return null}return _n(i,t)}}function Gd(n,e,t,i,r){n.insertBefore(e,t,i,r)}function jT(n,e,t){n.appendChild(e,t)}function VC(n,e,t,i,r){i!==null?Gd(n,e,t,i,r):jT(n,e,t)}function UT(n,e){return n.parentNode(e)}function nV(n,e){return n.nextSibling(e)}function BT(n,e,t){return rV(n,e,t)}function iV(n,e,t){return n.type&40?_n(n,t):null}var rV=iV,jC;function N_(n,e,t,i){let r=VT(n,i,e),o=e[Xe],s=i.parent||e[Qt],a=BT(s,i,e);if(r!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)VC(o,r,t[c],a,!1);else VC(o,r,t,a,!1);jC!==void 0&&jC(o,i,e,t,r)}function Ic(n,e){if(e!==null){let t=e.type;if(t&3)return _n(e,n);if(t&4)return kg(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return Ic(n,i);{let r=n[e.index];return Li(r)?kg(-1,r):ni(r)}}else{if(t&128)return Ic(n,e.next);if(t&32)return R_(e,n)()||ni(n[e.index]);{let i=$T(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=mo(n[mn]);return Ic(r,i)}else return Ic(n,e.next)}}}return null}function $T(n,e){if(e!==null){let i=n[mn][Qt],r=e.projection;return i.projection[r]}return null}function kg(n,e){let t=Jt+n+1;if(t<e.length){let i=e[t],r=i[pe].firstChild;if(r!==null)return Ic(i,r)}return e[po]}function oV(n,e,t){n.removeChild(null,e,t)}function P_(n,e,t,i,r,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=i[t.index],c=t.type;if(s&&e===0&&(a&&yo(ni(a),i),t.flags|=2),(t.flags&32)!==32)if(c&8)P_(n,e,t.child,i,r,o,!1),As(e,n,r,a,o);else if(c&32){let u=R_(t,i),h;for(;h=u();)As(e,n,r,h,o);As(e,n,r,a,o)}else c&16?zT(n,e,i,t,r,o):As(e,n,r,a,o);t=s?t.projectionNext:t.next}}function fh(n,e,t,i,r,o){P_(t,i,n.firstChild,e,r,o,!1)}function sV(n,e,t){let i=e[Xe],r=VT(n,t,e),o=t.parent||e[Qt],s=BT(o,t,e);zT(i,0,e,t,r,s)}function zT(n,e,t,i,r,o){let s=t[mn],c=s[Qt].projection[i.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let h=c[u];As(e,n,r,h,o)}else{let u=c,h=s[Rt];fT(i)&&(u.flags|=128),P_(n,e,u,h,r,o,!0)}}function aV(n,e,t,i,r){let o=t[po],s=ni(t);o!==s&&As(e,n,i,o,r);for(let a=Jt;a<t.length;a++){let c=t[a];fh(c[pe],c,n,e,i,o)}}function cV(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:ki.DashCase;r==null?n.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=ki.Important),n.setStyle(t,i,r,o))}}function lV(n,e,t){n.setAttribute(e,"style",t)}function HT(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function qT(n,e,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&ag(n,e,i),r!==null&&HT(n,e,r),o!==null&&lV(n,e,o)}var kr={};function Se(n=1){GT(pt(),Ee(),Eo()+n,!1)}function GT(n,e,t,i){if(!i)if((e[oe]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Sd(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Ad(e,o,0,t)}go(t)}function N(n,e=me.Default){let t=Ee();if(t===null)return R(n,e);let i=Mt();return oT(i,t,Ht(n),e)}function k_(){let n="invalid";throw new Error(n)}function WT(n,e,t,i,r,o){let s=Ie(null);try{let a=null;r&xr.SignalBased&&(a=e[i][xi]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&xr.HasDecoratorInputTransform&&(o=n.inputTransforms[i].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,i):AD(e,a,i,o)}finally{Ie(s)}}function uV(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)go(~r);else{let o=r,s=t[++i],a=t[++i];LF(s,o);let c=e[o];a(2,c)}}}finally{go(-1)}}function ph(n,e,t,i,r,o,s,a,c,u,h){let p=e.blueprint.slice();return p[Fi]=r,p[oe]=i|4|128|8|64,(u!==null||n&&n[oe]&2048)&&(p[oe]|=2048),kD(p),p[Rt]=p[Us]=n,p[Mn]=t,p[ei]=s||n&&n[ei],p[Xe]=a||n&&n[Xe],p[Os]=c||n&&n[Os]||null,p[Qt]=o,p[oh]=_L(),p[xc]=h,p[DD]=u,p[mn]=e.type==2?n[mn]:p,p}function Bc(n,e,t,i,r){let o=n.data[e];if(o===null)o=dV(n,e,t,i,r),FF()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=kF();o.injectorIndex=s===null?-1:s.injectorIndex}return Fc(o,!0),o}function dV(n,e,t,i,r){let o=UD(),s=BD(),a=s?o:o&&o.parent,c=n.data[e]=_V(n,a,t,e,i,r);return n.firstChild===null&&(n.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function KT(n,e,t,i){if(t===0)return-1;let r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function YT(n,e,t,i,r){let o=Eo(),s=i&2;try{go(-1),s&&e.length>ti&&GT(n,e,ti,!1),Zn(s?2:0,r),t(i,r)}finally{go(o),Zn(s?3:1,r)}}function QT(n,e,t){if(SD(e)){let i=Ie(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{Ie(i)}}}function ZT(n,e,t){VD()&&(EV(n,e,t,_n(t,e)),(t.flags&64)===64&&nS(n,e,t))}function XT(n,e,t=_n){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(e,n):n[s];n[r++]=a}}}function JT(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=O_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function O_(n,e,t,i,r,o,s,a,c,u,h){let p=ti+i,g=p+r,_=hV(p,g),I=typeof u=="function"?u():u;return _[pe]={type:n,blueprint:_,template:t,queries:null,viewQuery:a,declTNode:e,data:_.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:I,incompleteFirstPass:!1,ssrId:h}}function hV(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:kr);return t}function fV(n,e,t,i){let o=i.get(CL,yT)||t===Jn.ShadowDom,s=n.selectRootElement(e,o);return pV(s),s}function pV(n){mV(n)}var mV=()=>null;function gV(n,e,t,i){let r=oS(e);r.push(t),n.firstCreatePass&&sS(n).push(i,r.length-1)}function _V(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return jD()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function UC(n,e,t,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;i??={};let a,c=xr.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let u=o;if(r!==null){if(!r.hasOwnProperty(o))continue;u=r[o]}n===0?BC(i,t,u,a,c):BC(i,t,u,a)}return i}function BC(n,e,t,i,r){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,i):o=n[t]=[e,i],r!==void 0&&o.push(r)}function vV(n,e,t){let i=e.directiveStart,r=e.directiveEnd,o=n.data,s=e.attrs,a=[],c=null,u=null;for(let h=i;h<r;h++){let p=o[h],g=t?t.get(p):null,_=g?g.inputs:null,I=g?g.outputs:null;c=UC(0,p.inputs,h,c,_),u=UC(1,p.outputs,h,u,I);let x=c!==null&&s!==null&&!f_(e)?kV(c,h,s):null;a.push(x)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function yV(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function F_(n,e,t,i,r,o,s,a){let c=_n(e,t),u=e.inputs,h;!a&&u!=null&&(h=u[i])?(L_(n,t,h,i,r),sh(e)&&bV(t,e.index)):e.type&3?(i=yV(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(c,i,r)):e.type&12}function bV(n,e){let t=Nr(e,n);t[oe]&16||(t[oe]|=64)}function eS(n,e,t,i){if(VD()){let r=i===null?null:{"":-1},o=DV(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&tS(n,e,t,s,r,a),r&&TV(t,i,r)}t.mergedAttrs=Sc(t.mergedAttrs,t.attrs)}function tS(n,e,t,i,r,o){for(let u=0;u<i.length;u++)_g($d(t,e),n,i[u].type);AV(t,n.data.length,i.length);for(let u=0;u<i.length;u++){let h=i[u];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,c=KT(n,e,i.length,null);for(let u=0;u<i.length;u++){let h=i[u];t.mergedAttrs=Sc(t.mergedAttrs,h.hostAttrs),xV(n,t,e,c,h),SV(c,h,r),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}vV(n,t,o)}function wV(n,e,t,i,r){let o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;IV(s)!=a&&s.push(a),s.push(t,i,o)}}function IV(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function EV(n,e,t,i){let r=t.directiveStart,o=t.directiveEnd;sh(t)&&RV(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||$d(t,e),yo(i,e);let s=t.initialInputs;for(let a=r;a<o;a++){let c=n.data[a],u=vo(e,n,a,t);if(yo(u,e),s!==null&&PV(e,a-r,u,c,t,s),Rr(c)){let h=Nr(t.index,e);h[Mn]=vo(e,n,a,t)}}}function nS(n,e,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=VF();try{go(o);for(let a=i;a<r;a++){let c=n.data[a],u=e[a];pg(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&CV(c,u)}}finally{go(-1),pg(s)}}function CV(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function DV(n,e){let t=n.directiveRegistry,i=null,r=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(pD(e,s.selectors,!1))if(i||(i=[]),Rr(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let c=a.length;Og(n,e,c)}else i.unshift(s),Og(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function Og(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function TV(n,e,t){if(e){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let o=t[e[r+1]];if(o==null)throw new Y(-301,!1);i.push(e[r],o)}}}function SV(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Rr(e)&&(t[""]=n)}}function AV(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function xV(n,e,t,i,r){n.data[i]=r;let o=r.factory||(r.factory=Ms(r.type,!0)),s=new _o(o,Rr(r),N);n.blueprint[i]=s,t[i]=s,wV(n,e,i,KT(n,t,r.hostVars,kr),r)}function RV(n,e,t){let i=_n(e,n),r=JT(t),o=n[ei].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=mh(n,ph(n,r,null,s,i,e,null,o.createRenderer(i,t),null,null,null));n[e.index]=a}function MV(n,e,t,i,r,o){let s=_n(n,e);NV(e[Xe],s,o,n.value,t,i,r)}function NV(n,e,t,i,r,o,s){if(o==null)n.removeAttribute(e,r,t);else{let a=s==null?nh(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}function PV(n,e,t,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],h=s[a++],p=s[a++];WT(i,t,c,u,h,p)}}function kV(n,e,t){let i=null,r=0;for(;r<t.length;){let o=t[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){i===null&&(i=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],t[r+1]);break}}r+=2}return i}function iS(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function rS(n,e){let t=n.contentQueries;if(t!==null){let i=Ie(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=n.data[s];v_(o),a.contentQueries(2,e[s],s)}}}finally{Ie(i)}}}function mh(n,e){return n[Rc]?n[wC][Rn]=e:n[Rc]=e,n[wC]=e,e}function Fg(n,e,t){v_(0);let i=Ie(null);try{e(n,t)}finally{Ie(i)}}function oS(n){return n[Fd]??=[]}function sS(n){return n.cleanup??=[]}function aS(n,e){let t=n[Os],i=t?t.get(tn,null):null;i&&i.handleError(e)}function L_(n,e,t,i,r){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],u=e[s],h=n.data[s];WT(h,u,i,a,c,r)}}function OV(n,e,t){let i=ND(e,n);KL(n[Xe],i,t)}function FV(n,e){let t=Nr(e,n),i=t[pe];LV(i,t);let r=t[Fi];r!==null&&t[xc]===null&&(t[xc]=A_(r,t[Os])),V_(i,t,t[Mn])}function LV(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function V_(n,e,t){y_(e);try{let i=n.viewQuery;i!==null&&Fg(1,i,t);let r=n.template;r!==null&&YT(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ni]?.finishViewCreation(n),n.staticContentQueries&&rS(n,e),n.staticViewQueries&&Fg(2,n.viewQuery,t);let o=n.components;o!==null&&VV(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[oe]&=-5,b_()}}function VV(n,e){for(let t=0;t<e.length;t++)FV(n,e[t])}function cS(n,e,t,i){let r=Ie(null);try{let o=e.tView,a=n[oe]&4096?4096:16,c=ph(n,o,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),u=n[e.index];c[fo]=u;let h=n[Ni];return h!==null&&(c[Ni]=h.createEmbeddedView(o)),V_(o,c,t),c}finally{Ie(r)}}function Lg(n,e){return!e||e.firstChild===null||fT(n)}function lS(n,e,t,i=!0){let r=e[pe];if(XL(r,e,n,t),i){let s=kg(t,n),a=e[Xe],c=UT(a,n[po]);c!==null&&QL(r,n[Qt],a,e,c,s)}let o=e[xc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Wd(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&i.push(ni(o)),Li(o)&&jV(o,i);let s=t.type;if(s&8)Wd(n,e,t.child,i);else if(s&32){let a=R_(t,e),c;for(;c=a();)i.push(c)}else if(s&16){let a=$T(e,t);if(Array.isArray(a))i.push(...a);else{let c=mo(e[mn]);Wd(c[pe],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function jV(n,e){for(let t=Jt;t<n.length;t++){let i=n[t],r=i[pe].firstChild;r!==null&&Wd(i[pe],i,r,e)}n[po]!==n[Fi]&&e.push(n[po])}var uS=[];function UV(n){return n[pn]??BV(n)}function BV(n){let e=uS.pop()??Object.create(zV);return e.lView=n,e}function $V(n){n.lView[pn]!==n&&(n.lView=null,uS.push(n))}var zV=ce(k({},pc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{ch(n.lView)},consumerOnSignalRead(){this.lView[pn]=this}});function HV(n){let e=n[pn]??Object.create(qV);return e.lView=n,e}var qV=ce(k({},pc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=mo(n.lView);for(;e&&!dS(e[pe]);)e=mo(e);e&&OD(e)},consumerOnSignalRead(){this.lView[pn]=this}});function dS(n){return n.type!==2}var GV=100;function hS(n,e=!0,t=0){let i=n[ei],r=i.rendererFactory,o=!1;o||r.begin?.();try{WV(n,t)}catch(s){throw e&&aS(n,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function WV(n,e){let t=zD();try{EC(!0),Vg(n,e);let i=0;for(;ah(n);){if(i===GV)throw new Y(103,!1);i++,Vg(n,1)}}finally{EC(t)}}function KV(n,e,t,i){let r=e[oe];if((r&256)===256)return;let o=!1,s=!1;!o&&e[ei].inlineEffectRunner?.flush(),y_(e);let a=!0,c=null,u=null;o||(dS(n)?(u=UV(e),c=Hu(u)):DE()===null?(a=!1,u=HV(e),c=Hu(u)):e[pn]&&(Em(e[pn]),e[pn]=null));try{kD(e),OF(n.bindingStartIndex),t!==null&&YT(n,e,t,2,i);let h=(r&3)===3;if(!o)if(h){let _=n.preOrderCheckHooks;_!==null&&Sd(e,_,null)}else{let _=n.preOrderHooks;_!==null&&Ad(e,_,0,null),Wm(e,0)}if(s||YV(e),fS(e,0),n.contentQueries!==null&&rS(n,e),!o)if(h){let _=n.contentCheckHooks;_!==null&&Sd(e,_)}else{let _=n.contentHooks;_!==null&&Ad(e,_,1),Wm(e,1)}uV(n,e);let p=n.components;p!==null&&mS(e,p,0);let g=n.viewQuery;if(g!==null&&Fg(2,g,i),!o)if(h){let _=n.viewCheckHooks;_!==null&&Sd(e,_)}else{let _=n.viewHooks;_!==null&&Ad(e,_,2),Wm(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Gm]){for(let _ of e[Gm])_();e[Gm]=null}o||(e[oe]&=-73)}catch(h){throw o||ch(e),h}finally{u!==null&&(wm(u,c),a&&$V(u)),b_()}}function fS(n,e){for(let t=mT(n);t!==null;t=gT(t))for(let i=Jt;i<t.length;i++){let r=t[i];pS(r,e)}}function YV(n){for(let e=mT(n);e!==null;e=gT(e)){if(!(e[oe]&Vd.HasTransplantedViews))continue;let t=e[Fs];for(let i=0;i<t.length;i++){let r=t[i];OD(r)}}}function QV(n,e,t){let i=Nr(e,n);pS(i,t)}function pS(n,e){__(n)&&Vg(n,e)}function Vg(n,e){let i=n[pe],r=n[oe],o=n[pn],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&Im(o)),s||=!1,o&&(o.dirty=!1),n[oe]&=-9217,s)KV(i,n,i.template,n[Mn]);else if(r&8192){fS(n,1);let a=i.components;a!==null&&mS(n,a,1)}}function mS(n,e,t){for(let i=0;i<e.length;i++)QV(n,e[i],t)}function j_(n,e){let t=zD()?64:1088;for(n[ei].changeDetectionScheduler?.notify(e);n;){n[oe]|=t;let i=mo(n);if(dg(n)&&!i)return n;n=i}return null}var bo=class{get rootNodes(){let e=this._lView,t=e[pe];return Wd(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Mn]}set context(e){this._lView[Mn]=e}get destroyed(){return(this._lView[oe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Rt];if(Li(e)){let t=e[Ld],i=t?t.indexOf(this):-1;i>-1&&(Pg(e,i),kd(t,i))}this._attachedToViewContainer=!1}LT(this._lView[pe],this._lView)}onDestroy(e){FD(this._lView,e)}markForCheck(){j_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[oe]&=-129}reattach(){fg(this._lView),this._lView[oe]|=128}detectChanges(){this._lView[oe]|=1024,hS(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Y(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=dg(this._lView),t=this._lView[fo];t!==null&&!e&&M_(t,this._lView),OT(this._lView[pe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Y(902,!1);this._appRef=e;let t=dg(this._lView),i=this._lView[fo];i!==null&&!t&&FT(i,this._lView),fg(this._lView)}},gn=(()=>{class n{static{this.__NG_ELEMENT_ID__=JV}}return n})(),ZV=gn,XV=class extends ZV{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=cS(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new bo(r)}};function JV(){return U_(Mt(),Ee())}function U_(n,e){return n.type&4?new XV(e,n,Hs(n,e)):null}var XZ=new RegExp(`^(\\d+)*(${IL}|${wL})*(.*)`);var ej=()=>null;function jg(n,e){return ej(n,e)}var Ls=class{},gh=new U("",{providedIn:"root",factory:()=>!1});var gS=new U(""),_S=new U(""),Ug=class{},Kd=class{};function tj(n){let e=Error(`No component factory found for ${qt(n)}.`);return e[nj]=n,e}var nj="ngComponent";var Bg=class{resolveComponentFactory(e){throw tj(e)}},ii=class{static{this.NULL=new Bg}},Vs=class{},Co=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>ij()}}return n})();function ij(){let n=Ee(),e=Mt(),t=Nr(e.index,n);return(Ar(t)?t:n)[Xe]}var rj=(()=>{class n{static{this.\u0275prov=F({token:n,providedIn:"root",factory:()=>null})}}return n})();function $g(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=ig(r,a);else if(o==2){let c=a,u=e[++s];i=ig(i,c+": "+u+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}var Yd=class extends ii{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ho(e);return new Mc(t,this.ngModule)}};function $C(n,e){let t=[];for(let i in n){if(!n.hasOwnProperty(i))continue;let r=n[i];if(r===void 0)continue;let o=Array.isArray(r),s=o?r[0]:r,a=o?r[1]:xr.None;e?t.push({propName:s,templateName:i,isSignal:(a&xr.SignalBased)!==0}):t.push({propName:s,templateName:i})}return t}function oj(n){let e=n.toLowerCase();return e==="svg"?EF:e==="math"?CF:null}var Mc=class extends Kd{get inputs(){let e=this.componentDef,t=e.inputTransforms,i=$C(e.inputs,!0);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return $C(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=nF(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=Ie(null);try{r=r||this.ngModule;let s=r instanceof en?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new mg(e,s):e,c=a.get(Vs,null);if(c===null)throw new Y(407,!1);let u=a.get(rj,null),h=a.get(Ls,null),p={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:h},g=c.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",I=i?fV(g,i,this.componentDef.encapsulation,a):kT(g,_,oj(_)),x=512;this.componentDef.signals?x|=4096:this.componentDef.onPush||(x|=16);let M=null;I!==null&&(M=A_(I,a,!0));let V=O_(0,null,null,1,0,null,null,null,null,null,null),z=ph(null,V,null,x,null,null,p,g,a,null,M);y_(z);let G,Z,je=null;try{let ie=this.componentDef,E,y=null;ie.findHostDirectiveDefs?(E=[],y=new Map,ie.findHostDirectiveDefs(ie,E,y),E.push(ie)):E=[ie];let b=sj(z,I);je=aj(b,I,ie,E,z,p,g),Z=PD(V,ti),I&&uj(g,ie,I,i),t!==void 0&&dj(Z,this.ngContentSelectors,t),G=lj(je,ie,E,y,z,[hj]),V_(V,z,null)}catch(ie){throw je!==null&&Eg(je),Eg(z),ie}finally{b_()}return new zg(this.componentType,G,Hs(Z,z),z,Z)}finally{Ie(o)}}},zg=class extends Ug{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new bo(r,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;L_(o[pe],o,r,e,t),this.previousInputValues.set(e,t);let s=Nr(this._tNode.index,o);j_(s,1)}}get injector(){return new uo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function sj(n,e){let t=n[pe],i=ti;return n[i]=e,Bc(t,i,2,"#host",null)}function aj(n,e,t,i,r,o,s){let a=r[pe];cj(i,n,e,s);let c=null;e!==null&&(c=A_(e,r[Os]));let u=o.rendererFactory.createRenderer(e,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let p=ph(r,JT(t),null,h,r[n.index],n,o,u,null,null,c);return a.firstCreatePass&&Og(a,n,i.length-1),mh(r,p),r[n.index]=p}function cj(n,e,t,i){for(let r of n)e.mergedAttrs=Sc(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&($g(e,e.mergedAttrs,!0),t!==null&&qT(i,t,e))}function lj(n,e,t,i,r,o){let s=Mt(),a=r[pe],c=_n(s,r);tS(a,r,s,t,null,i);for(let h=0;h<t.length;h++){let p=s.directiveStart+h,g=vo(r,a,p,s);yo(g,r)}nS(a,r,s),c&&yo(c,r);let u=vo(r,a,s.directiveStart+s.componentOffset,s);if(n[Mn]=r[Mn]=u,o!==null)for(let h of o)h(u,e);return QT(a,s,r),u}function uj(n,e,t,i){if(i)ag(n,t,["ng-version","18.2.13"]);else{let{attrs:r,classes:o}=iF(e.selectors[0]);r&&ag(n,t,r),o&&o.length>0&&HT(n,t,o.join(" "))}}function dj(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let o=t[r];i.push(o!=null?Array.from(o):null)}}function hj(){let n=Mt();E_(Ee()[pe],n)}var vn=(()=>{class n{static{this.__NG_ELEMENT_ID__=fj}}return n})();function fj(){let n=Mt();return yS(n,Ee())}var pj=vn,vS=class extends pj{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Hs(this._hostTNode,this._hostLView)}get injector(){return new uo(this._hostTNode,this._hostLView)}get parentInjector(){let e=C_(this._hostTNode,this._hostLView);if(JD(e)){let t=Bd(e,this._hostLView),i=Ud(e),r=t[pe].data[i+8];return new uo(r,t)}else return new uo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=zC(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Jt}createEmbeddedView(e,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=jg(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,Lg(this._hostTNode,s)),a}createComponent(e,t,i,r,o){let s=e&&!yF(e),a;if(s)a=t;else{let I=t||{};a=I.index,i=I.injector,r=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef}let c=s?e:new Mc(ho(e)),u=i||this.parentInjector;if(!o&&c.ngModule==null){let x=(s?u:this.parentInjector).get(en,null);x&&(o=x)}let h=ho(c.componentType??{}),p=jg(this._lContainer,h?.id??null),g=p?.firstChild??null,_=c.create(u,r,g,o);return this.insertImpl(_.hostView,a,Lg(this._hostTNode,p)),_}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(TF(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[Rt],u=new vS(c,c[Qt],c[Rt]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return lS(s,r,o,i),e.attachToViewContainerRef(),cD(Xm(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=zC(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=Pg(this._lContainer,t);i&&(kd(Xm(this._lContainer),t),LT(i[pe],i))}detach(e){let t=this._adjustIndex(e,-1),i=Pg(this._lContainer,t);return i&&kd(Xm(this._lContainer),t)!=null?new bo(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function zC(n){return n[Ld]}function Xm(n){return n[Ld]||(n[Ld]=[])}function yS(n,e){let t,i=e[n.index];return Li(i)?t=i:(t=iS(i,e,null,n),e[n.index]=t,mh(e,t)),gj(t,e,n,i),new vS(t,n,e)}function mj(n,e){let t=n[Xe],i=t.createComment(""),r=_n(e,n),o=UT(t,r);return Gd(t,o,i,nV(t,r),!1),i}var gj=yj,_j=()=>!1;function vj(n,e,t){return _j(n,e,t)}function yj(n,e,t,i){if(n[po])return;let r;t.type&8?r=ni(i):r=mj(e,t),n[po]=r}var Hg=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},qg=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)B_(e,t).matches!==null&&this.queries[t].setDirty()}},Qd=class{constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=Sj(e):this.predicate=e}},Gg=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Wg=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,t,bj(t,o)),this.matchTNodeWithReadOption(e,t,xd(t,e,o,!1,!1))}else i===gn?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,xd(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===ve||r===vn||r===gn&&t.type&4)this.addMatch(t.index,-2);else{let o=xd(t,e,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function bj(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function wj(n,e){return n.type&11?Hs(n,e):n.type&4?U_(n,e):null}function Ij(n,e,t,i){return t===-1?wj(e,n):t===-2?Ej(n,e,i):vo(n,n[pe],t,e)}function Ej(n,e,t){if(t===ve)return Hs(e,n);if(t===gn)return U_(e,n);if(t===vn)return yS(e,n)}function bS(n,e,t,i){let r=e[Ni].queries[i];if(r.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let h=o[u];a.push(Ij(e,h,s[c+1],t.metadata.read))}}r.matches=a}return r.matches}function Kg(n,e,t,i){let r=n.queries.getByIndex(t),o=r.matches;if(o!==null){let s=bS(n,e,r,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)i.push(s[a/2]);else{let u=o[a+1],h=e[-c];for(let p=Jt;p<h.length;p++){let g=h[p];g[fo]===g[Rt]&&Kg(g[pe],g,u,i)}if(h[Fs]!==null){let p=h[Fs];for(let g=0;g<p.length;g++){let _=p[g];Kg(_[pe],_,u,i)}}}}}return i}function Cj(n,e){return n[Ni].queries[e].queryList}function wS(n,e,t){let i=new qd((t&4)===4);return gV(n,e,i,i.destroy),(e[Ni]??=new qg).queries.push(new Hg(i))-1}function Dj(n,e,t){let i=pt();return i.firstCreatePass&&(IS(i,new Qd(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),wS(i,Ee(),e)}function Tj(n,e,t,i){let r=pt();if(r.firstCreatePass){let o=Mt();IS(r,new Qd(e,t,i),o.index),Aj(r,n),(t&2)===2&&(r.staticContentQueries=!0)}return wS(r,Ee(),t)}function Sj(n){return n.split(",").map(e=>e.trim())}function IS(n,e,t){n.queries===null&&(n.queries=new Gg),n.queries.track(new Wg(e,t))}function Aj(n,e){let t=n.contentQueries||(n.contentQueries=[]),i=t.length?t[t.length-1]:-1;e!==i&&t.push(n.queries.length-1,e)}function B_(n,e){return n.queries.getByIndex(e)}function xj(n,e){let t=n[pe],i=B_(t,e);return i.crossesNgTemplate?Kg(t,n,e,[]):bS(t,n,i,e)}var HC=new Set;function $c(n){HC.has(n)||(HC.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function ES(n){return typeof n=="function"&&n[xi]!==void 0}function zc(n,e){$c("NgSignals");let t=FE(n),i=t[xi];return e?.equal&&(i.equal=e.equal),t.set=r=>Cm(i,r),t.update=r=>LE(i,r),t.asReadonly=Rj.bind(t),t}function Rj(){let n=this[xi];if(n.readonlyFn===void 0){let e=()=>this();e[xi]=n,n.readonlyFn=e}return n.readonlyFn}function CS(n){return ES(n)&&typeof n.set=="function"}function Mj(n){return Object.getPrototypeOf(n.prototype).constructor}function ot(n){let e=Mj(n.type),t=!0,i=[n];for(;e;){let r;if(Rr(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Y(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let s=n;s.inputs=Ed(n.inputs),s.inputTransforms=Ed(n.inputTransforms),s.declaredInputs=Ed(n.declaredInputs),s.outputs=Ed(n.outputs);let a=r.hostBindings;a&&Fj(n,a);let c=r.viewQuery,u=r.contentQueries;if(c&&kj(n,c),u&&Oj(n,u),Nj(n,r),w1(n.outputs,r.outputs),Rr(r)&&r.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===ot&&(t=!1)}}e=Object.getPrototypeOf(e)}Pj(i)}function Nj(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];if(i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function Pj(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Sc(r.hostAttrs,t=Sc(t,r.hostAttrs))}}function Ed(n){return n===Ns?{}:n===Kt?[]:n}function kj(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function Oj(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,o)=>{e(i,r,o),t(i,r,o)}:n.contentQueries=e}function Fj(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function kn(n){let e=n.inputConfig,t={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}var Mr=class{},Nc=class{};var Yg=class extends Mr{constructor(e,t,i,r=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Yd(this);let o=vD(e);this._bootstrapComponents=PT(o.bootstrap),this._r3Injector=cT(e,t,[{provide:Mr,useValue:this},{provide:ii,useValue:this.componentFactoryResolver},...i],qt(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Qg=class extends Nc{constructor(e){super(),this.moduleType=e}create(e){return new Yg(this.moduleType,e,[])}};var Zd=class extends Mr{constructor(e){super(),this.componentFactoryResolver=new Yd(this),this.instance=null;let t=new Ac([...e.providers,{provide:Mr,useValue:this},{provide:ii,useValue:this.componentFactoryResolver}],e.parent||m_(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function $_(n,e,t=null){return new Zd({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function DS(n){return Vj(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function Lj(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function Vj(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Do(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function jj(n){return(n.flags&32)===32}function Uj(n,e,t,i,r,o,s,a,c){let u=e.consts,h=Bc(e,n,4,s||null,a||null);eS(e,t,h,jd(u,c)),E_(e,h);let p=h.tView=O_(2,h,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function TS(n,e,t,i,r,o,s,a,c,u){let h=t+ti,p=e.firstCreatePass?Uj(h,e,n,i,r,o,s,a,c):e.data[h];Fc(p,!1);let g=Bj(e,n,p,t);w_()&&N_(e,n,g,p),yo(g,n);let _=iS(g,n,g,p);return n[h]=_,mh(n,_),vj(_,p,n),g_(p)&&ZT(e,n,p),c!=null&&XT(n,p,u),p}function yt(n,e,t,i,r,o,s,a){let c=Ee(),u=pt(),h=jd(u.consts,o);return TS(c,u,n,e,t,i,r,h,s,a),yt}var Bj=$j;function $j(n,e,t,i){return I_(!0),e[Xe].createComment("")}var Ec=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Ec||{}),zj=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=F({token:n,providedIn:"root",factory:()=>new n})}}return n})(),qC=class n{constructor(){this.ngZone=O(W),this.scheduler=O(Ls),this.errorHandler=O(tn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Ec.EarlyRead,Ec.Write,Ec.MixedReadWrite,Ec.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(i){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=F({token:n,providedIn:"root",factory:()=>new n})}};function bt(n,e,t,i){let r=Ee(),o=Lc();if(Do(r,o,e)){let s=pt(),a=lh();MV(a,r,n,e,t,i)}return bt}function Hj(n,e,t,i){return Do(n,Lc(),t)?e+nh(t)+i:kr}function Cd(n,e){return n<<17|e<<2}function wo(n){return n>>17&32767}function qj(n){return(n&2)==2}function Gj(n,e){return n&131071|e<<17}function Zg(n){return n|2}function js(n){return(n&131068)>>2}function Jm(n,e){return n&-131069|e<<2}function Wj(n){return(n&1)===1}function Xg(n){return n|1}function Kj(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=wo(s),c=js(s);n[i]=t;let u=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Oc(p,h)>0)&&(u=!0)}else h=t;if(r)if(c!==0){let g=wo(n[a+1]);n[i+1]=Cd(g,a),g!==0&&(n[g+1]=Jm(n[g+1],i)),n[a+1]=Gj(n[a+1],i)}else n[i+1]=Cd(a,0),a!==0&&(n[a+1]=Jm(n[a+1],i)),a=i;else n[i+1]=Cd(c,0),a===0?a=i:n[c+1]=Jm(n[c+1],i),c=i;u&&(n[i+1]=Zg(n[i+1])),GC(n,h,i,!0),GC(n,h,i,!1),Yj(e,h,n,i,o),s=Cd(a,c),o?e.classBindings=s:e.styleBindings=s}function Yj(n,e,t,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Oc(o,e)>=0&&(t[i+1]=Xg(t[i+1]))}function GC(n,e,t,i){let r=n[t+1],o=e===null,s=i?wo(r):js(r),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],u=n[s+1];Qj(c,e)&&(a=!0,n[s+1]=i?Xg(u):Zg(u)),s=i?wo(u):js(u)}a&&(n[t+1]=i?Zg(r):Xg(r))}function Qj(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Oc(n,e)>=0:!1}var xn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Zj(n){return n.substring(xn.key,xn.keyEnd)}function Xj(n){return Jj(n),SS(n,AS(n,0,xn.textEnd))}function SS(n,e){let t=xn.textEnd;return t===e?-1:(e=xn.keyEnd=e2(n,xn.key=e,t),AS(n,e,t))}function Jj(n){xn.key=0,xn.keyEnd=0,xn.value=0,xn.valueEnd=0,xn.textEnd=n.length}function AS(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function e2(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Pt(n,e,t){let i=Ee(),r=Lc();if(Do(i,r,e)){let o=pt(),s=lh();F_(o,s,i,n,e,i[Xe],t,!1)}return Pt}function Jg(n,e,t,i,r){let o=e.inputs,s=r?"class":"style";L_(n,t,o[s],s,i)}function st(n,e){return n2(n,e,null,!0),st}function To(n){i2(l2,t2,n,!0)}function t2(n,e){for(let t=Xj(e);t>=0;t=SS(e,t))h_(n,Zj(e),!0)}function n2(n,e,t,i){let r=Ee(),o=pt(),s=HD(2);if(o.firstUpdatePass&&RS(o,n,s,i),e!==kr&&Do(r,s,e)){let a=o.data[Eo()];MS(o,a,r,r[Xe],n,r[s+1]=d2(e,t),i,s)}}function i2(n,e,t,i){let r=pt(),o=HD(2);r.firstUpdatePass&&RS(r,null,o,i);let s=Ee();if(t!==kr&&Do(s,o,t)){let a=r.data[Eo()];if(NS(a,i)&&!xS(r,o)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=ig(c,t||"")),Jg(r,a,s,t,i)}else u2(r,a,s,s[Xe],s[o+1],s[o+1]=c2(n,e,t),i,o)}}function xS(n,e){return e>=n.expandoStartIndex}function RS(n,e,t,i){let r=n.data;if(r[t+1]===null){let o=r[Eo()],s=xS(n,t);NS(o,i)&&e===null&&!s&&(e=!1),e=r2(r,o,e,i),Kj(r,o,e,t,s,i)}}function r2(n,e,t,i){let r=jF(n),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=eg(null,n,e,t,i),t=Pc(t,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==r)if(t=eg(r,n,e,t,i),o===null){let c=o2(n,e,i);c!==void 0&&Array.isArray(c)&&(c=eg(null,n,e,c[1],i),c=Pc(c,e.attrs,i),s2(n,e,i,c))}else o=a2(n,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),t}function o2(n,e,t){let i=t?e.classBindings:e.styleBindings;if(js(i)!==0)return n[wo(i)]}function s2(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[wo(r)]=i}function a2(n,e,t){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=n[o].hostAttrs;i=Pc(i,s,t)}return Pc(i,e.attrs,t)}function eg(n,e,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],i=Pc(i,o.hostAttrs,r),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function Pc(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),h_(n,s,t?!0:e[++o]))}return n===void 0?null:n}function c2(n,e,t){if(t==null||t==="")return Kt;let i=[],r=Pn(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function l2(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&h_(n,i,t)}function u2(n,e,t,i,r,o,s,a){r===kr&&(r=Kt);let c=0,u=0,h=0<r.length?r[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let g=c<r.length?r[c+1]:void 0,_=u<o.length?o[u+1]:void 0,I=null,x;h===p?(c+=2,u+=2,g!==_&&(I=p,x=_)):p===null||h!==null&&h<p?(c+=2,I=h):(u+=2,I=p,x=_),I!==null&&MS(n,e,t,i,I,x,s,a),h=c<r.length?r[c]:null,p=u<o.length?o[u]:null}}function MS(n,e,t,i,r,o,s,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],h=Wj(u)?WC(c,e,t,r,js(u),s):void 0;if(!Xd(h)){Xd(o)||qj(u)&&(o=WC(c,null,t,r,a,s));let p=ND(Eo(),t);cV(i,s,p,r,o)}}function WC(n,e,t,i,r,o){let s=e===null,a;for(;r>0;){let c=n[r],u=Array.isArray(c),h=u?c[1]:c,p=h===null,g=t[r+1];g===kr&&(g=p?Kt:void 0);let _=p?Hm(g,i):h===i?g:void 0;if(u&&!Xd(_)&&(_=Hm(c,i)),Xd(_)&&(a=_,s))return a;let I=n[r+1];r=s?wo(I):js(I)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Hm(c,i))}return a}function Xd(n){return n!==void 0}function d2(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=qt(Pn(n)))),n}function NS(n,e){return(n.flags&(e?8:16))!==0}function h2(n,e,t,i,r,o){let s=e.consts,a=jd(s,r),c=Bc(e,n,2,i,a);return eS(e,t,c,jd(s,o)),c.attrs!==null&&$g(c,c.attrs,!1),c.mergedAttrs!==null&&$g(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function B(n,e,t,i){let r=Ee(),o=pt(),s=ti+n,a=r[Xe],c=o.firstCreatePass?h2(s,o,r,e,t,i):o.data[s],u=f2(o,r,c,a,e,n);r[s]=u;let h=g_(c);return Fc(c,!0),qT(a,u,c),!jj(c)&&w_()&&N_(o,r,u,c),xF()===0&&yo(u,r),RF(),h&&(ZT(o,r,c),QT(o,c,r)),i!==null&&XT(r,c),B}function H(){let n=Mt();BD()?$D():(n=n.parent,Fc(n,!1));let e=n;NF(e)&&PF(),MF();let t=pt();return t.firstCreatePass&&(E_(t,n),SD(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&GF(e)&&Jg(t,e,Ee(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&WF(e)&&Jg(t,e,Ee(),e.stylesWithoutHost,!1),H}function Gt(n,e,t,i){return B(n,e,t,i),H(),Gt}var f2=(n,e,t,i,r,o)=>(I_(!0),kT(i,r,$F()));function qs(){return Ee()}function Hc(n,e,t){let i=Ee(),r=Lc();if(Do(i,r,e)){let o=pt(),s=lh();F_(o,s,i,n,e,i[Xe],t,!0)}return Hc}var Jd="en-US";var p2=Jd;function m2(n){typeof n=="string"&&(p2=n.toLowerCase().replace(/_/g,"-"))}var g2=(n,e,t)=>{};function We(n,e,t,i){let r=Ee(),o=pt(),s=Mt();return PS(o,r,r[Xe],s,n,e,i),We}function _2(n,e,t,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=e[Fd],c=r[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function PS(n,e,t,i,r,o,s){let a=g_(i),u=n.firstCreatePass&&sS(n),h=e[Mn],p=oS(e),g=!0;if(i.type&3||s){let x=_n(i,e),M=s?s(x):x,V=p.length,z=s?Z=>s(ni(Z[i.index])):i.index,G=null;if(!s&&a&&(G=_2(n,e,r,i.index)),G!==null){let Z=G.__ngLastListenerFn__||G;Z.__ngNextListenerFn__=o,G.__ngLastListenerFn__=o,g=!1}else{o=YC(i,e,h,o),g2(x,r,o);let Z=t.listen(M,r,o);p.push(o,Z),u&&u.push(r,z,V,V+1)}}else o=YC(i,e,h,o);let _=i.outputs,I;if(g&&_!==null&&(I=_[r])){let x=I.length;if(x)for(let M=0;M<x;M+=2){let V=I[M],z=I[M+1],je=e[V][z].subscribe(o),ie=p.length;p.push(o,je),u&&u.push(r,i.index,ie,-(ie+1))}}}function KC(n,e,t,i){let r=Ie(null);try{return Zn(6,e,t),t(i)!==!1}catch(o){return aS(n,o),!1}finally{Zn(7,e,t),Ie(r)}}function YC(n,e,t,i){return function r(o){if(o===Function)return i;let s=n.componentOffset>-1?Nr(n.index,e):e;j_(s,5);let a=KC(e,t,i,o),c=r.__ngNextListenerFn__;for(;c;)a=KC(e,t,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function wt(n=1){return BF(n)}function v2(n,e){let t=null,i=Z1(n);for(let r=0;r<e.length;r++){let o=e[r];if(o==="*"){t=r;continue}if(i===null?pD(n,o,!0):eF(i,o))return r}return t}function yn(n){let e=Ee()[mn][Qt];if(!e.projection){let t=n?n.length:1,i=e.projection=$1(t,null),r=i.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?v2(o,n):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function It(n,e=0,t,i,r,o){let s=Ee(),a=pt(),c=i?n+1:null;c!==null&&TS(s,a,c,i,r,o,null,t);let u=Bc(a,ti+n,16,null,t||null);u.projection===null&&(u.projection=e),$D();let p=!s[xc]||jD();s[mn][Qt].projection[u.projection]===null&&c!==null?y2(s,a,c):p&&(u.flags&32)!==32&&sV(a,s,u)}function y2(n,e,t){let i=ti+t,r=e.data[i],o=n[i],s=jg(o,r.tView.ssrId),a=cS(n,r,void 0,{dehydratedView:s});lS(o,a,0,Lg(r,s))}function z_(n,e,t,i){Tj(n,e,t,i)}function _h(n,e,t){Dj(n,e,t)}function So(n){let e=Ee(),t=pt(),i=qD();v_(i+1);let r=B_(t,i);if(n.dirty&&DF(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let o=xj(e,i);n.reset(o,pL),n.notifyOnChanges()}return!0}return!1}function Ao(){return Cj(Ee(),qD())}function ne(n,e=""){let t=Ee(),i=pt(),r=n+ti,o=i.firstCreatePass?Bc(i,r,1,e,null):i.data[r],s=b2(i,t,o,e,n);t[r]=s,w_()&&N_(i,t,s,o),Fc(o,!1)}var b2=(n,e,t,i,r)=>(I_(!0),WL(e[Xe],i));function qc(n){return ai("",n,""),qc}function ai(n,e,t){let i=Ee(),r=Hj(i,n,e,t);return r!==kr&&OV(i,Eo(),r),ai}function rn(n,e,t){CS(e)&&(e=e());let i=Ee(),r=Lc();if(Do(i,r,e)){let o=pt(),s=lh();F_(o,s,i,n,e,i[Xe],t,!1)}return rn}function bn(n,e){let t=CS(n);return t&&n.set(e),t}function on(n,e){let t=Ee(),i=pt(),r=Mt();return PS(i,t,t[Xe],r,n,e),on}function w2(n,e,t){let i=pt();if(i.firstCreatePass){let r=Rr(n);e_(t,i.data,i.blueprint,r,!0),e_(e,i.data,i.blueprint,r,!1)}}function e_(n,e,t,i,r){if(n=Ht(n),Array.isArray(n))for(let o=0;o<n.length;o++)e_(n[o],e,t,i,r);else{let o=pt(),s=Ee(),a=Mt(),c=ks(n)?n:Ht(n.provide),u=CD(n),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(ks(n)||!n.multi){let _=new _o(u,r,N),I=ng(c,e,r?h:h+g,p);I===-1?(_g($d(a,s),o,c),tg(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(_),s.push(_)):(t[I]=_,s[I]=_)}else{let _=ng(c,e,h+g,p),I=ng(c,e,h,h+g),x=_>=0&&t[_],M=I>=0&&t[I];if(r&&!M||!r&&!x){_g($d(a,s),o,c);let V=C2(r?E2:I2,t.length,r,i,u);!r&&M&&(t[I].providerFactory=V),tg(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(V),s.push(V)}else{let V=kS(t[r?I:_],u,!r&&i);tg(o,n,_>-1?_:I,V)}!r&&i&&M&&t[I].componentProviders++}}}function tg(n,e,t,i){let r=ks(e),o=dF(e);if(r||o){let c=(o?Ht(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let h=u.indexOf(t);h===-1?u.push(t,[i,c]):u[h+1].push(i,c)}else u.push(t,c)}}}function kS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function ng(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function I2(n,e,t,i){return t_(this.multi,[])}function E2(n,e,t,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=vo(t,t[pe],this.providerFactory.index,i);o=a.slice(0,s),t_(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],t_(r,o);return o}function t_(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function C2(n,e,t,i,r){let o=new _o(n,t,N);return o.multi=[],o.index=e,o.componentProviders=0,kS(o,r,i&&!t),o}function ji(n,e=[]){return t=>{t.providersResolver=(i,r)=>w2(i,r?r(n):n,e)}}var D2=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=wD(!1,t.type),r=i.length>0?$_([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=F({token:n,providedIn:"environment",factory:()=>new n(R(en))})}}return n})();function Ae(n){$c("NgStandalone"),n.getStandaloneInjector=e=>e.get(D2).getOrCreateStandaloneInjector(n)}var ri=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},OS=new ri("18.2.13");var vh=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var FS=new U("");function xo(n){return!!n&&typeof n.then=="function"}function LS(n){return!!n&&typeof n.subscribe=="function"}var VS=new U(""),jS=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=O(VS,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=r();if(xo(o))t.push(o);else if(LS(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),H_=new U("");function T2(){OE(()=>{throw new Y(600,!1)})}function S2(n){return n.isBoundToModule}var A2=10;function x2(n,e,t){try{let i=t();return xo(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}var Ui=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(hL),this.afterRenderManager=O(zj),this.zonelessEnabled=O(gh),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new se,this.afterTick=new se,this.componentTypes=[],this.components=[],this.isStable=O(zs).hasPendingTasks.pipe(Q(t=>!t)),this._injector=O(en)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,i){let r=t instanceof Kd;if(!this._injector.get(jS).done){let g=!r&&_D(t),_=!1;throw new Y(405,_)}let s;r?s=t:s=this._injector.get(ii).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=S2(s)?void 0:this._injector.get(Mr),c=i||s.selector,u=s.create(Oe.NULL,[],c,a),h=u.location.nativeElement,p=u.injector.get(FS,null);return p?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),Rd(this.components,u),p?.unregisterApplication(h)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Y(101,!1);let t=Ie(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,Ie(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Vs,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<A2;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:r,notifyErrorHandler:o}of this._views)R2(r,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>ah(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;Rd(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let i=this._injector.get(H_,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Rd(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Y(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Rd(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function R2(n,e,t,i){if(!t&&!ah(n))return;hS(n,e,t&&!i?0:1)}var n_=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},q_=(()=>{class n{compileModuleSync(t){return new Qg(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=vD(t),o=PT(r.declarations).reduce((s,a)=>{let c=ho(a);return c&&s.push(new Mc(c)),s},[]);return new n_(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var M2=(()=>{class n{constructor(){this.zone=O(W),this.changeDetectionScheduler=O(Ls),this.applicationRef=O(Ui)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),N2=new U("",{factory:()=>!1});function US({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new W(ce(k({},$S()),{scheduleInRootZone:t})),[{provide:W,useFactory:n},{provide:Ps,multi:!0,useFactory:()=>{let i=O(M2,{optional:!0});return()=>i.initialize()}},{provide:Ps,multi:!0,useFactory:()=>{let i=O(P2);return()=>{i.initialize()}}},e===!0?{provide:gS,useValue:!0}:[],{provide:_S,useValue:t??lT}]}function BS(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,i=US({ngZoneFactory:()=>{let r=$S(n);return r.scheduleInRootZone=t,r.shouldCoalesceEventChangeDetection&&$c("NgZone_CoalesceEvent"),new W(r)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Yt([{provide:N2,useValue:!0},{provide:gh,useValue:!1},i])}function $S(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var P2=(()=>{class n{constructor(){this.subscription=new Pe,this.initialized=!1,this.zone=O(W),this.pendingTasks=O(zs)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{W.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{W.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var k2=(()=>{class n{constructor(){this.appRef=O(Ui),this.taskService=O(zs),this.ngZone=O(W),this.zonelessEnabled=O(gh),this.disableScheduling=O(gS,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Pe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Hd):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(_S,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ig||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?xC:dT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Hd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(t),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,xC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function O2(){return typeof $localize<"u"&&$localize.locale||Jd}var yh=new U("",{providedIn:"root",factory:()=>O(yh,me.Optional|me.SkipSelf)||O2()});var i_=new U("");function Dd(n){return!n.moduleRef}function F2(n){let e=Dd(n)?n.r3Injector:n.moduleRef.injector,t=e.get(W);return t.run(()=>{Dd(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(tn,null),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:o=>{i.handleError(o)}})}),Dd(n)){let o=()=>e.destroy(),s=n.platformInjector.get(i_);s.add(o),e.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(i_);s.add(o),n.moduleRef.onDestroy(()=>{Rd(n.allPlatformModules,n.moduleRef),r.unsubscribe(),s.delete(o)})}return x2(i,t,()=>{let o=e.get(jS);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(yh,Jd);if(m2(s||Jd),Dd(n)){let a=e.get(Ui);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return L2(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function L2(n,e){let t=n.injector.get(Ui);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new Y(-403,!1);e.push(n)}var Md=null;function V2(n=[],e){return Oe.create({name:e,providers:[{provide:rh,useValue:"platform"},{provide:i_,useValue:new Set([()=>Md=null])},...n]})}function j2(n=[]){if(Md)return Md;let e=V2(n);return Md=e,T2(),U2(e),e}function U2(n){n.get(S_,null)?.forEach(t=>t())}var On=(()=>{class n{static{this.__NG_ELEMENT_ID__=B2}}return n})();function B2(n){return $2(Mt(),Ee(),(n&16)===16)}function $2(n,e,t){if(sh(n)&&!t){let i=Nr(n.index,e);return new bo(i,i)}else if(n.type&175){let i=e[mn];return new bo(i,e)}return null}var r_=class{constructor(){}supports(e){return DS(e)}create(e){return new o_(e)}},z2=(n,e)=>e,o_=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||z2}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){let s=!i||t&&t.currentIndex<QC(i,r,o)?t:i,a=QC(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,s.previousIndex==null)r++;else{o||(o=[]);let u=a-r,h=c-r;if(u!=h){for(let g=0;g<u;g++){let _=g<o.length?o[g]:o[g]=0,I=_+g;h<=I&&I<u&&(o[g]=_+1)}let p=s.previousIndex;o[p]=h-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!DS(e))throw new Y(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),i=!0):(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else r=0,Lj(e,a=>{s=this._trackByFn(r,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new s_(t,i),o,r)),e}_verifyReinsertion(e,t,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new eh),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new eh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},s_=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},a_=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},eh=class{constructor(){this.map=new Map}put(e){let t=e.trackById,i=this.map.get(t);i||(i=new a_,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function QC(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function ZC(){return new bh([new r_])}var bh=(()=>{class n{static{this.\u0275prov=F({token:n,providedIn:"root",factory:ZC})}constructor(t){this.factories=t}static create(t,i){if(i!=null){let r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||ZC()),deps:[[n,new u_,new $e]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i!=null)return i;throw new Y(901,!1)}}return n})();function zS(n){try{let{rootComponent:e,appProviders:t,platformProviders:i}=n,r=j2(i),o=[US({}),{provide:Ls,useExisting:k2},...t||[]],s=new Zd({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return F2({r3Injector:s.injector,platformInjector:r,rootComponent:e})}catch(e){return Promise.reject(e)}}function mt(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Gc(n,e){$c("NgSignals");let t=NE(n);return e?.equal&&(t[xi].equal=e.equal),t}function Bi(n){let e=Ie(null);try{return n()}finally{Ie(e)}}var KS=null;function $i(){return KS}function YS(n){KS??=n}var wh=class{};var ue=new U(""),QS=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=F({token:n,factory:()=>O(G2),providedIn:"platform"})}}return n})();var G2=(()=>{class n extends QS{constructor(){super(),this._doc=O(ue),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $i().getBaseHref(this._doc)}onPopState(t){let i=$i().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=$i().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=F({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function ZS(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function HS(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,i=t-(n[t-1]==="/"?1:0);return n.slice(0,i)+n.slice(t)}function Ro(n){return n&&n[0]!=="?"?"?"+n:n}var Gs=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=F({token:n,factory:()=>O(XS),providedIn:"root"})}}return n})(),W2=new U(""),XS=(()=>{class n extends Gs{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??O(ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ZS(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+Ro(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Ro(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Ro(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(R(QS),R(W2,8))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var zi=(()=>{class n{constructor(t){this._subject=new xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=Q2(HS(qS(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Ro(i))}normalize(t){return n.stripTrailingSlash(Y2(this._basePath,qS(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ro(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ro(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static{this.normalizeQueryParams=Ro}static{this.joinWithSlash=ZS}static{this.stripTrailingSlash=HS}static{this.\u0275fac=function(i){return new(i||n)(R(Gs))}}static{this.\u0275prov=F({token:n,factory:()=>K2(),providedIn:"root"})}}return n})();function K2(){return new zi(R(Gs))}function Y2(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function qS(n){return n.replace(/\/index.html$/,"")}function Q2(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function JS(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var G_=class{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},eA=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new G_(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),GS(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);GS(o,r)})}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(N(vn),N(gn),N(bh))}}static{this.\u0275dir=ge({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function GS(n,e){n.context.$implicit=e.item}var Or=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new W_,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){WS("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){WS("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(N(vn),N(gn))}}static{this.\u0275dir=ge({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),W_=class{constructor(){this.$implicit=null,this.ngIf=null}};function WS(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${qt(e)}'.`)}var K_="browser",Z2="server";function tA(n){return n===K_}function Y_(n){return n===Z2}var Ih=class{};var X_=class{};var Ws=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var J_=class{encodeKey(e){return nA(e)}encodeValue(e){return nA(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function X2(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var J2=/%(\d[a-f0-9])/gi,eU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function nA(n){return encodeURIComponent(n).replace(J2,(e,t)=>eU[t]??e)}function Eh(n){return`${n}`}var Fr=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new J_,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=X2(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(Eh):[Eh(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Eh(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(Eh(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var ev=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function tU(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function iA(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function rA(n){return typeof Blob<"u"&&n instanceof Blob}function oA(n){return typeof FormData<"u"&&n instanceof FormData}function nU(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Wc=class n{constructor(e,t,i,r){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(tU(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Ws,this.context??=new ev,!this.params)this.params=new Fr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||iA(this.body)||rA(this.body)||oA(this.body)||nU(this.body)?this.body:this.body instanceof Fr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||oA(this.body)?null:rA(this.body)?this.body.type||null:iA(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Fr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((g,_)=>g.set(_,e.setHeaders[_]),u)),e.setParams&&(h=Object.keys(e.setParams).reduce((g,_)=>g.set(_,e.setParams[_]),h)),new n(t,i,s,{params:h,headers:u,context:p,reportProgress:c,responseType:r,withCredentials:a,transferCache:o})}},sA=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(sA||{}),tv=class{constructor(e,t=200,i="OK"){this.headers=e.headers||new Ws,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var nv=class n extends tv{constructor(e={}){super(e),this.type=sA.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};function Z_(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var aA=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof Wc)o=t;else{let c;r.headers instanceof Ws?c=r.headers:c=new Ws(r.headers);let u;r.params&&(r.params instanceof Fr?u=r.params:u=new Fr({fromObject:r.params})),o=new Wc(t,i,r.body!==void 0?r.body:null,{headers:c,context:r.context,params:u,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=K(o).pipe(Er(c=>this.handler.handle(c)));if(t instanceof Wc||r.observe==="events")return s;let a=s.pipe(qe(c=>c instanceof nv));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Q(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Q(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Q(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(Q(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new Fr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,Z_(r,i))}post(t,i,r={}){return this.request("POST",t,Z_(r,i))}put(t,i,r={}){return this.request("PUT",t,Z_(r,i))}static{this.\u0275fac=function(i){return new(i||n)(R(X_))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac})}}return n})();var ov=class extends wh{constructor(){super(...arguments),this.supportsDOMEvents=!0}},sv=class n extends ov{static makeCurrent(){YS(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=rU();return t==null?null:oU(t)}resetBaseElement(){Kc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return JS(document.cookie,e)}},Kc=null;function rU(){return Kc=Kc||document.querySelector("base"),Kc?Kc.getAttribute("href"):null}function oU(n){return new URL(n,document.baseURI).pathname}var sU=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac})}}return n})(),av=new U(""),dA=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new Y(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||n)(R(av),R(W))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac})}}return n})(),Ch=class{constructor(e){this._doc=e}},iv="ng-app-id",hA=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Y_(o),this.resetHostNodes()}addStyles(t){for(let i of t)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(t){for(let i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){let i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${iv}="${this.appId}"]`);if(t?.length){let i=new Map;return t.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){let r=this.styleRef;if(r.has(t)){let o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(iv),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(iv,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){let r=this.getStyleElement(t,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(R(ue),R(uh),R(jc,8),R(si))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac})}}return n})(),rv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},lv=/%COMP%/g,fA="%COMP%",aU=`_nghost-${fA}`,cU=`_ngcontent-${fA}`,lU=!0,uU=new U("",{providedIn:"root",factory:()=>lU});function dU(n){return cU.replace(lv,n)}function hU(n){return aU.replace(lv,n)}function pA(n,e){return e.map(t=>t.replace(lv,n))}var cA=(()=>{class n{constructor(t,i,r,o,s,a,c,u=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Y_(a),this.defaultRenderer=new Yc(t,s,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Jn.ShadowDom&&(i=ce(k({},i),{encapsulation:Jn.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof Dh?r.applyToHost(t):r instanceof Qc&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case Jn.Emulated:o=new Dh(c,u,i,this.appId,h,s,a,p);break;case Jn.ShadowDom:return new cv(c,u,t,i,s,a,this.nonce,p);default:o=new Qc(c,u,i,h,s,a,p);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(R(dA),R(hA),R(uh),R(uU),R(ue),R(si),R(W),R(jc))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac})}}return n})(),Yc=class{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(rv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(lA(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(lA(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new Y(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let o=rv[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=rv[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(ki.DashCase|ki.Important)?e.style.setProperty(t,i,r&ki.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&ki.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=$i().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function lA(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var cv=class extends Yc{constructor(e,t,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=pA(r.id,r.styles);for(let h of u){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Qc=class extends Yc{constructor(e,t,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?pA(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Dh=class extends Qc{constructor(e,t,i,r,o,s,a,c){let u=r+"-"+i.id;super(e,t,i,o,s,a,c,u),this.contentAttr=dU(u),this.hostAttr=hU(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},fU=(()=>{class n extends Ch{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(R(ue))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac})}}return n})(),uA=["alt","control","meta","shift"],pU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mU={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},gU=(()=>{class n extends Ch{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r){let o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$i().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),uA.forEach(u=>{let h=i.indexOf(u);h>-1&&(i.splice(h,1),s+=u+".")}),s+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=pU[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),uA.forEach(s=>{if(s!==r){let a=mU[s];a(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(i){return new(i||n)(R(ue))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac})}}return n})();function mA(n,e){return zS(k({rootComponent:n},_U(e)))}function _U(n){return{appProviders:[...IU,...n?.providers??[]],platformProviders:wU}}function vU(){sv.makeCurrent()}function yU(){return new tn}function bU(){return vT(document),document}var wU=[{provide:si,useValue:K_},{provide:S_,useValue:vU,multi:!0},{provide:ue,useFactory:bU,deps:[]}];var IU=[{provide:rh,useValue:"root"},{provide:tn,useFactory:yU,deps:[]},{provide:av,useClass:fU,multi:!0,deps:[ue,W,si]},{provide:av,useClass:gU,multi:!0,deps:[ue]},cA,hA,dA,{provide:Vs,useExisting:cA},{provide:Ih,useClass:sU,deps:[]},[]];var gA=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||n)(R(ue))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var uv=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=F({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=R(EU),r},providedIn:"root"})}}return n})(),EU=(()=>{class n extends uv{constructor(t){super(),this._doc=t}sanitize(t,i){if(i==null)return null;switch(t){case Nt.NONE:return i;case Nt.HTML:return Pr(i,"HTML")?Pn(i):RT(this._doc,String(i)).toString();case Nt.STYLE:return Pr(i,"Style")?Pn(i):i;case Nt.SCRIPT:if(Pr(i,"Script"))return Pn(i);throw new Y(5200,!1);case Nt.URL:return Pr(i,"URL")?Pn(i):hh(String(i));case Nt.RESOURCE_URL:if(Pr(i,"ResourceURL"))return Pn(i);throw new Y(5201,!1);default:throw new Y(5202,!1)}}bypassSecurityTrustHtml(t){return bT(t)}bypassSecurityTrustStyle(t){return wT(t)}bypassSecurityTrustScript(t){return IT(t)}bypassSecurityTrustUrl(t){return ET(t)}bypassSecurityTrustResourceUrl(t){return CT(t)}static{this.\u0275fac=function(i){return new(i||n)(R(ue))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var fe="primary",hl=Symbol("RouteTitle"),mv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Js(n){return new mv(n)}function CU(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=n[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function DU(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ci(n[t],e[t]))return!1;return!0}function ci(n,e){let t=n?gv(n):void 0,i=e?gv(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!DA(n[r],e[r]))return!1;return!0}function gv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function DA(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}else return n===e}function TA(n){return n.length>0?n[n.length-1]:null}function Vr(n){return hd(n)?n:xo(n)?He(Promise.resolve(n)):K(n)}var TU={exact:AA,subset:xA},SA={exact:SU,subset:AU,ignored:()=>!0};function vA(n,e,t){return TU[t.paths](n.root,e.root,t.matrixParams)&&SA[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function SU(n,e){return ci(n,e)}function AA(n,e,t){if(!No(n.segments,e.segments)||!Ah(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!AA(n.children[i],e.children[i],t))return!1;return!0}function AU(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>DA(n[t],e[t]))}function xA(n,e,t){return RA(n,e,e.segments,t)}function RA(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!No(r,t)||e.hasChildren()||!Ah(r,t,i))}else if(n.segments.length===t.length){if(!No(n.segments,t)||!Ah(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!xA(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!No(n.segments,r)||!Ah(n.segments,r,i)||!n.children[fe]?!1:RA(n.children[fe],e,o,i)}}function Ah(n,e,t){return e.every((i,r)=>SA[t](n[r].parameters,i.parameters))}var qi=class{constructor(e=new Me([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Js(this.queryParams),this._queryParamMap}toString(){return MU.serialize(this)}},Me=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xh(this)}},Mo=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Js(this.parameters),this._parameterMap}toString(){return NA(this)}};function xU(n,e){return No(n,e)&&n.every((t,i)=>ci(t.parameters,e[i].parameters))}function No(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function RU(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===fe&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==fe&&(t=t.concat(e(r,i)))}),t}var $v=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=F({token:n,factory:()=>new il,providedIn:"root"})}}return n})(),il=class{parse(e){let t=new vv(e);return new qi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Zc(e.root,!0)}`,i=kU(e.queryParams),r=typeof e.fragment=="string"?`#${NU(e.fragment)}`:"";return`${t}${i}${r}`}},MU=new il;function xh(n){return n.segments.map(e=>NA(e)).join("/")}function Zc(n,e){if(!n.hasChildren())return xh(n);if(e){let t=n.children[fe]?Zc(n.children[fe],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==fe&&i.push(`${r}:${Zc(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=RU(n,(i,r)=>r===fe?[Zc(n.children[fe],!1)]:[`${r}:${Zc(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[fe]!=null?`${xh(n)}/${t[0]}`:`${xh(n)}/(${t.join("//")})`}}function MA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Th(n){return MA(n).replace(/%3B/gi,";")}function NU(n){return encodeURI(n)}function _v(n){return MA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rh(n){return decodeURIComponent(n)}function yA(n){return Rh(n.replace(/\+/g,"%20"))}function NA(n){return`${_v(n.path)}${PU(n.parameters)}`}function PU(n){return Object.entries(n).map(([e,t])=>`;${_v(e)}=${_v(t)}`).join("")}function kU(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Th(t)}=${Th(r)}`).join("&"):`${Th(t)}=${Th(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var OU=/^[^\/()?;#]+/;function dv(n){let e=n.match(OU);return e?e[0]:""}var FU=/^[^\/()?;=#]+/;function LU(n){let e=n.match(FU);return e?e[0]:""}var VU=/^[^=?&#]+/;function jU(n){let e=n.match(VU);return e?e[0]:""}var UU=/^[^&#]+/;function BU(n){let e=n.match(UU);return e?e[0]:""}var vv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Me([],{}):new Me([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[fe]=new Me(e,t)),i}parseSegment(){let e=dv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Y(4009,!1);return this.capture(e),new Mo(Rh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=LU(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=dv(this.remaining);r&&(i=r,this.capture(i))}e[Rh(t)]=Rh(i)}parseQueryParam(e){let t=jU(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=BU(this.remaining);s&&(i=s,this.capture(i))}let r=yA(t),o=yA(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=dv(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new Y(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=fe);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[fe]:new Me([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Y(4011,!1)}};function PA(n){return n.segments.length>0?new Me([],{[fe]:n}):n}function kA(n){let e={};for(let[i,r]of Object.entries(n.children)){let o=kA(r);if(i===fe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let t=new Me(n.segments,e);return $U(t)}function $U(n){if(n.numberOfChildren===1&&n.children[fe]){let e=n.children[fe];return new Me(n.segments.concat(e.segments),e.children)}return n}function Po(n){return n instanceof qi}function zU(n,e,t=null,i=null){let r=OA(n);return FA(r,e,t,i)}function OA(n){let e;function t(o){let s={};for(let c of o.children){let u=t(c);s[c.outlet]=u}let a=new Me(o.url,s);return o===n&&(e=a),a}let i=t(n.root),r=PA(i);return e??r}function FA(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return hv(r,r,r,t,i);let o=HU(e);if(o.toRoot())return hv(r,r,new Me([],{}),t,i);let s=qU(o,r,n),a=s.processChildren?el(s.segmentGroup,s.index,o.commands):VA(s.segmentGroup,s.index,o.commands);return hv(r,s.segmentGroup,a,t,i)}function Mh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function rl(n){return typeof n=="object"&&n!=null&&n.outlets}function hv(n,e,t,i,r){let o={};i&&Object.entries(i).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`});let s;n===e?s=t:s=LA(n,e,t);let a=PA(kA(s));return new qi(a,o,r)}function LA(n,e,t){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===e?i[r]=t:i[r]=LA(o,e,t)}),new Me(n.segments,i)}var Nh=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Mh(i[0]))throw new Y(4003,!1);let r=i.find(rl);if(r&&r!==TA(i))throw new Y(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function HU(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Nh(!0,0,n);let e=0,t=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Nh(t,e,i)}var Qs=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function qU(n,e,t){if(n.isAbsolute)return new Qs(e,!0,0);if(!t)return new Qs(e,!1,NaN);if(t.parent===null)return new Qs(t,!0,0);let i=Mh(n.commands[0])?0:1,r=t.segments.length-1+i;return GU(t,r,n.numberOfDoubleDots)}function GU(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Y(4005,!1);r=i.segments.length}return new Qs(i,!1,r-o)}function WU(n){return rl(n[0])?n[0].outlets:{[fe]:n}}function VA(n,e,t){if(n??=new Me([],{}),n.segments.length===0&&n.hasChildren())return el(n,e,t);let i=KU(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new Me(n.segments.slice(0,i.pathIndex),{});return o.children[fe]=new Me(n.segments.slice(i.pathIndex),n.children),el(o,0,r)}else return i.match&&r.length===0?new Me(n.segments,{}):i.match&&!n.hasChildren()?yv(n,e,t):i.match?el(n,0,r):yv(n,e,t)}function el(n,e,t){if(t.length===0)return new Me(n.segments,{});{let i=WU(t),r={};if(Object.keys(i).some(o=>o!==fe)&&n.children[fe]&&n.numberOfChildren===1&&n.children[fe].segments.length===0){let o=el(n.children[fe],e,t);return new Me(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=VA(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Me(n.segments,r)}}function KU(n,e,t){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;let s=n.segments[r],a=t[i];if(rl(a))break;let c=`${a}`,u=i<t.length-1?t[i+1]:null;if(r>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!wA(c,u,s))return o;i+=2}else{if(!wA(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function yv(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let o=t[r];if(rl(o)){let c=YU(o.outlets);return new Me(i,c)}if(r===0&&Mh(t[0])){let c=n.segments[e];i.push(new Mo(c.path,bA(t[0]))),r++;continue}let s=rl(o)?o.outlets[fe]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Mh(a)?(i.push(new Mo(s,bA(a))),r+=2):(i.push(new Mo(s,{})),r++)}return new Me(i,{})}function YU(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=yv(new Me([],{}),0,i))}),e}function bA(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function wA(n,e,t){return n==t.path&&ci(e,t.parameters)}var tl="imperative",Et=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Et||{}),wn=class{constructor(e,t){this.id=e,this.url=t}},ol=class extends wn{constructor(e,t,i="imperative",r=null){super(e,t),this.type=Et.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Lr=class extends wn{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=Et.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},an=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(an||{}),bv=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(bv||{}),Hi=class extends wn{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=Et.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ko=class extends wn{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=Et.NavigationSkipped}},sl=class extends wn{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=Et.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ph=class extends wn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Et.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wv=class extends wn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Et.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Iv=class extends wn{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Et.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ev=class extends wn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Et.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cv=class extends wn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Et.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dv=class{constructor(e){this.route=e,this.type=Et.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Tv=class{constructor(e){this.route=e,this.type=Et.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Sv=class{constructor(e){this.snapshot=e,this.type=Et.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Av=class{constructor(e){this.snapshot=e,this.type=Et.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xv=class{constructor(e){this.snapshot=e,this.type=Et.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rv=class{constructor(e){this.snapshot=e,this.type=Et.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var al=class{},ea=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function QU(n,e){return n.providers&&!n._injector&&(n._injector=$_(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Fn(n){return n.outlet||fe}function ZU(n,e){let t=n.filter(i=>Fn(i)===e);return t.push(...n.filter(i=>Fn(i)!==e)),t}function fl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Mv=class{get injector(){return fl(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Uh(this.rootInjector),this.attachRef=null}},Uh=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Mv(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||n)(R(en))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),kh=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Nv(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=Nv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Pv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Pv(e,this._root).map(t=>t.value)}};function Nv(n,e){if(n===e.value)return e;for(let t of e.children){let i=Nv(n,t);if(i)return i}return null}function Pv(n,e){if(n===e.value)return[e];for(let t of e.children){let i=Pv(n,t);if(i.length)return i.unshift(e),i}return[]}var sn=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ys(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Oh=class extends kh{constructor(e,t){super(e),this.snapshot=t,zv(this,e)}toString(){return this.snapshot.toString()}};function jA(n){let e=XU(n),t=new ft([new Mo("",{})]),i=new ft({}),r=new ft({}),o=new ft({}),s=new ft(""),a=new Oo(t,i,o,s,r,fe,n,e.root);return a.snapshot=e.root,new Oh(new sn(a,[]),e)}function XU(n){let e={},t={},i={},r="",o=new Zs([],e,i,r,t,fe,n,null,{});return new Lh("",new sn(o,[]))}var Oo=class{constructor(e,t,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Q(u=>u[hl]))??K(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Q(e=>Js(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Q(e=>Js(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Fh(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:k(k({},e.params),n.params),data:k(k({},e.data),n.data),resolve:k(k(k(k({},n.data),e.data),r?.data),n._resolvedData)}:i={params:k({},n.params),data:k({},n.data),resolve:k(k({},n.data),n._resolvedData??{})},r&&BA(r)&&(i.resolve[hl]=r.title),i}var Zs=class{get title(){return this.data?.[hl]}constructor(e,t,i,r,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Js(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Js(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Lh=class extends kh{constructor(e,t){super(t),this.url=e,zv(this,t)}toString(){return UA(this._root)}};function zv(n,e){e.value._routerState=n,e.children.forEach(t=>zv(n,t))}function UA(n){let e=n.children.length>0?` { ${n.children.map(UA).join(", ")} } `:"";return`${n.value}${e}`}function fv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ci(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ci(e.params,t.params)||n.paramsSubject.next(t.params),DU(e.url,t.url)||n.urlSubject.next(t.url),ci(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function kv(n,e){let t=ci(n.params,e.params)&&xU(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||kv(n.parent,e.parent))}function BA(n){return typeof n.title=="string"||n.title===null}var Hv=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=fe,this.activateEvents=new xe,this.deactivateEvents=new xe,this.attachEvents=new xe,this.detachEvents=new xe,this.parentContexts=O(Uh),this.location=O(vn),this.changeDetector=O(On),this.inputBinder=O(qv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Y(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Y(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Y(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Y(4013,!1);this._activatedRoute=t;let r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Ov(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=ge({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[nn]})}}return n})(),Ov=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Oo?this.route:e===Uh?this.childContexts:this.parent.get(e,t)}},qv=new U("");function JU(n,e,t){let i=cl(n,e._root,t?t._root:void 0);return new Oh(i,e)}function cl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=eB(n,e,t);return new sn(i,r)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>cl(n,a)),s}}let i=tB(e.value),r=e.children.map(o=>cl(n,o));return new sn(i,r)}}function eB(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return cl(n,i,r);return cl(n,i)})}function tB(n){return new Oo(new ft(n.url),new ft(n.params),new ft(n.queryParams),new ft(n.fragment),new ft(n.data),n.outlet,n.component,n)}var ll=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},$A="ngNavigationCancelingError";function Vh(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=Po(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=zA(!1,an.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function zA(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[$A]=!0,t.cancellationCode=e,t}function nB(n){return HA(n)&&Po(n.url)}function HA(n){return!!n&&n[$A]}var iB=(n,e,t,i)=>Q(r=>(new Fv(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),Fv=class{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),fv(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=Ys(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Ys(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Ys(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=Ys(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Rv(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Av(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(fv(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),fv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,i)}},jh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Xs=class{constructor(e,t){this.component=e,this.route=t}};function rB(n,e,t){let i=n._root,r=e?e._root:null;return Xc(i,r,t,[i.value])}function oB(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function na(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!tD(n)?n:e.get(n):i}function Xc(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ys(e);return n.children.forEach(s=>{sB(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>nl(a,t.getContext(s),r)),r}function sB(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=aB(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new jh(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Xc(n,e,a?a.children:null,i,r):Xc(n,e,t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Xs(a.outlet.component,s))}else s&&nl(e,a,r),r.canActivateChecks.push(new jh(i)),o.component?Xc(n,null,a?a.children:null,i,r):Xc(n,null,t,i,r);return r}function aB(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!No(n.url,e.url);case"pathParamsOrQueryParamsChange":return!No(n.url,e.url)||!ci(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kv(n,e)||!ci(n.queryParams,e.queryParams);case"paramsChange":default:return!kv(n,e)}}function nl(n,e,t){let i=Ys(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?e?nl(s,e.children.getContext(o),t):nl(s,null,t):nl(s,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Xs(e.outlet.component,r)):t.canDeactivateChecks.push(new Xs(null,r)):t.canDeactivateChecks.push(new Xs(null,r))}function pl(n){return typeof n=="function"}function cB(n){return typeof n=="boolean"}function lB(n){return n&&pl(n.canLoad)}function uB(n){return n&&pl(n.canActivate)}function dB(n){return n&&pl(n.canActivateChild)}function hB(n){return n&&pl(n.canDeactivate)}function fB(n){return n&&pl(n.canMatch)}function qA(n){return n instanceof Mi||n?.name==="EmptyError"}var Sh=Symbol("INITIAL_VALUE");function ta(){return Xt(n=>Cs(n.map(e=>e.pipe(nt(1),Yn(Sh)))).pipe(Q(e=>{for(let t of e)if(t!==!0){if(t===Sh)return Sh;if(t===!1||pB(t))return t}return!0}),qe(e=>e!==Sh),nt(1)))}function pB(n){return Po(n)||n instanceof ll}function mB(n,e){return tt(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?K(ce(k({},t),{guardsResult:!0})):gB(s,i,r,n).pipe(tt(a=>a&&cB(a)?_B(i,o,n,e):K(a)),Q(a=>ce(k({},t),{guardsResult:a})))})}function gB(n,e,t,i){return He(n).pipe(tt(r=>IB(r.component,r.route,t,e,i)),Kn(r=>r!==!0,!0))}function _B(n,e,t,i){return He(e).pipe(Er(r=>wr(yB(r.route.parent,i),vB(r.route,i),wB(n,r.path,t),bB(n,r.route,t))),Kn(r=>r!==!0,!0))}function vB(n,e){return n!==null&&e&&e(new xv(n)),K(!0)}function yB(n,e){return n!==null&&e&&e(new Sv(n)),K(!0)}function bB(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return K(!0);let r=i.map(o=>Ir(()=>{let s=fl(e)??t,a=na(o,s),c=uB(a)?a.canActivate(e,n):Oi(s,()=>a(e,n));return Vr(c).pipe(Kn())}));return K(r).pipe(ta())}function wB(n,e,t){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>oB(s)).filter(s=>s!==null).map(s=>Ir(()=>{let a=s.guards.map(c=>{let u=fl(s.node)??t,h=na(c,u),p=dB(h)?h.canActivateChild(i,n):Oi(u,()=>h(i,n));return Vr(p).pipe(Kn())});return K(a).pipe(ta())}));return K(o).pipe(ta())}function IB(n,e,t,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return K(!0);let s=o.map(a=>{let c=fl(e)??r,u=na(a,c),h=hB(u)?u.canDeactivate(n,e,t,i):Oi(c,()=>u(n,e,t,i));return Vr(h).pipe(Kn())});return K(s).pipe(ta())}function EB(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return K(!0);let o=r.map(s=>{let a=na(s,n),c=lB(a)?a.canLoad(e,t):Oi(n,()=>a(e,t));return Vr(c)});return K(o).pipe(ta(),GA(i))}function GA(n){return Rm(Ge(e=>{if(typeof e!="boolean")throw Vh(n,e)}),Q(e=>e===!0))}function CB(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return K(!0);let o=r.map(s=>{let a=na(s,n),c=fB(a)?a.canMatch(e,t):Oi(n,()=>a(e,t));return Vr(c)});return K(o).pipe(ta(),GA(i))}var ul=class{constructor(e){this.segmentGroup=e||null}},dl=class extends Error{constructor(e){super(),this.urlTree=e}};function Ks(n){return br(new ul(n))}function DB(n){return br(new Y(4e3,!1))}function TB(n){return br(zA(!1,an.GuardRejected))}var Lv=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return K(i);if(r.numberOfChildren>1||!r.children[fe])return DB(`${e.redirectTo}`);r=r.children[fe]}}applyRedirectCommands(e,t,i,r,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:u,routeConfig:h,url:p,outlet:g,params:_,data:I,title:x}=r,M=Oi(o,()=>a({params:_,data:I,queryParams:c,fragment:u,routeConfig:h,url:p,outlet:g,title:x}));if(M instanceof qi)throw new dl(M);t=M}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new dl(s);return s}applyRedirectCreateUrlTree(e,t,i,r){let o=this.createSegmentGroup(e,t.root,i,r);return new qi(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){let o=this.createSegments(e,t.segments,i,r),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new Me(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new Y(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},Vv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function SB(n,e,t,i,r){let o=WA(n,e,t);return o.matched?(i=QU(e,i),CB(i,e,t,r).pipe(Q(s=>s===!0?o:k({},Vv)))):K(o)}function WA(n,e,t){if(e.path==="**")return AB(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?k({},Vv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||CU)(t,n,e);if(!r)return k({},Vv);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?k(k({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function AB(n){return{matched:!0,parameters:n.length>0?TA(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function IA(n,e,t,i){return t.length>0&&MB(n,t,i)?{segmentGroup:new Me(e,RB(i,new Me(t,n.children))),slicedSegments:[]}:t.length===0&&NB(n,t,i)?{segmentGroup:new Me(n.segments,xB(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Me(n.segments,n.children),slicedSegments:t}}function xB(n,e,t,i){let r={};for(let o of t)if(Bh(n,e,o)&&!i[Fn(o)]){let s=new Me([],{});r[Fn(o)]=s}return k(k({},i),r)}function RB(n,e){let t={};t[fe]=e;for(let i of n)if(i.path===""&&Fn(i)!==fe){let r=new Me([],{});t[Fn(i)]=r}return t}function MB(n,e,t){return t.some(i=>Bh(n,e,i)&&Fn(i)!==fe)}function NB(n,e,t){return t.some(i=>Bh(n,e,i))}function Bh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function PB(n,e,t){return e.length===0&&!n.children[t]}var jv=class{};function kB(n,e,t,i,r,o,s="emptyOnly"){return new Uv(n,e,t,i,r,s,o).recognize()}var OB=31,Uv=class{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Lv(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Y(4002,`'${e.segmentGroup}'`)}recognize(){let e=IA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Q(({children:t,rootSnapshot:i})=>{let r=new sn(i,t),o=new Lh("",r),s=zU(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Zs([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),fe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,fe,t).pipe(Q(i=>({children:i,rootSnapshot:t})),Wn(i=>{if(i instanceof dl)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof ul?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,o):this.processSegment(e,t,i,i.segments,r,!0,o).pipe(Q(s=>s instanceof sn?[s]:[]))}processChildren(e,t,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return He(o).pipe(Er(s=>{let a=i.children[s],c=ZU(t,s);return this.processSegmentGroup(e,c,a,s,r)}),Bm((s,a)=>(s.push(...a),s)),Cr(null),Um(),tt(s=>{if(s===null)return Ks(i);let a=KA(s);return FB(a),K(a)}))}processSegment(e,t,i,r,o,s,a){return He(t).pipe(Er(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,i,r,o,s,a).pipe(Wn(u=>{if(u instanceof ul)return K(null);throw u}))),Kn(c=>!!c),Wn(c=>{if(qA(c))return PB(i,r,o)?K(new jv):Ks(i);throw c}))}processSegmentAgainstRoute(e,t,i,r,o,s,a,c){return Fn(i)!==s&&(s===fe||!Bh(r,o,i))?Ks(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s,c):Ks(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s,a){let{matched:c,parameters:u,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=WA(t,r,o);if(!c)return Ks(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>OB&&(this.allowRedirects=!1));let _=new Zs(o,u,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,EA(r),Fn(r),r.component??r._loadedComponent??null,r,CA(r)),I=Fh(_,a,this.paramsInheritanceStrategy);_.params=Object.freeze(I.params),_.data=Object.freeze(I.data);let x=this.applyRedirects.applyRedirectCommands(h,r.redirectTo,p,_,e);return this.applyRedirects.lineralizeSegments(r,x).pipe(tt(M=>this.processSegment(e,i,t,M.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,i,r,o,s){let a=SB(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(Xt(c=>c.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Xt(({routes:u})=>{let h=i._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:_}=c,I=new Zs(g,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,EA(i),Fn(i),i.component??i._loadedComponent??null,i,CA(i)),x=Fh(I,s,this.paramsInheritanceStrategy);I.params=Object.freeze(x.params),I.data=Object.freeze(x.data);let{segmentGroup:M,slicedSegments:V}=IA(t,g,_,u);if(V.length===0&&M.hasChildren())return this.processChildren(h,u,M,I).pipe(Q(G=>new sn(I,G)));if(u.length===0&&V.length===0)return K(new sn(I,[]));let z=Fn(i)===o;return this.processSegment(h,u,M,V,z?fe:o,!0,I).pipe(Q(G=>new sn(I,G instanceof sn?[G]:[])))}))):Ks(t)))}getChildConfig(e,t,i){return t.children?K({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?K({routes:t._loadedRoutes,injector:t._loadedInjector}):EB(e,t,i,this.urlSerializer).pipe(tt(r=>r?this.configLoader.loadChildren(e,t).pipe(Ge(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):TB(t))):K({routes:[],injector:e})}};function FB(n){n.sort((e,t)=>e.value.outlet===fe?-1:t.value.outlet===fe?1:e.value.outlet.localeCompare(t.value.outlet))}function LB(n){let e=n.value.routeConfig;return e&&e.path===""}function KA(n){let e=[],t=new Set;for(let i of n){if(!LB(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=KA(i.children);e.push(new sn(i.value,r))}return e.filter(i=>!t.has(i))}function EA(n){return n.data||{}}function CA(n){return n.resolve||{}}function VB(n,e,t,i,r,o){return tt(s=>kB(n,e,t,i,s.extractedUrl,r,o).pipe(Q(({state:a,tree:c})=>ce(k({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function jB(n,e){return tt(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return K(t);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of YA(c))s.add(u);let a=0;return He(s).pipe(Er(c=>o.has(c)?UB(c,i,n,e):(c.data=Fh(c,c.parent,n).resolve,K(void 0))),Ge(()=>a++),Ds(1),tt(c=>a===s.size?K(t):zt))})}function YA(n){let e=n.children.map(t=>YA(t)).flat();return[n,...e]}function UB(n,e,t,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!BA(r)&&(o[hl]=r.title),BB(o,n,e,i).pipe(Q(s=>(n._resolvedData=s,n.data=Fh(n,n.parent,t).resolve,null)))}function BB(n,e,t,i){let r=gv(n);if(r.length===0)return K({});let o={};return He(r).pipe(tt(s=>$B(n[s],e,t,i).pipe(Kn(),Ge(a=>{if(a instanceof ll)throw Vh(new il,a);o[s]=a}))),Ds(1),jm(o),Wn(s=>qA(s)?zt:br(s)))}function $B(n,e,t,i){let r=fl(e)??i,o=na(n,r),s=o.resolve?o.resolve(e,t):Oi(r,()=>o(e,t));return Vr(s)}function pv(n){return Xt(e=>{let t=n(e);return t?He(t).pipe(Q(()=>e)):K(e)})}var QA=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===fe);return i}getResolvedTitleForRoute(t){return t.data[hl]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=F({token:n,factory:()=>O(zB),providedIn:"root"})}}return n})(),zB=(()=>{class n extends QA{constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(R(gA))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Gv=new U("",{providedIn:"root",factory:()=>({})}),HB=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Te({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ae],decls:1,vars:0,template:function(i,r){i&1&&Gt(0,"router-outlet")},dependencies:[Hv],encapsulation:2})}}return n})();function Wv(n){let e=n.children&&n.children.map(Wv),t=e?ce(k({},n),{children:e}):k({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==fe&&(t.component=HB),t}var Kv=new U(""),qB=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(q_)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return K(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=Vr(t.loadComponent()).pipe(Q(ZA),Ge(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Dr(()=>{this.componentLoaders.delete(t)})),r=new vs(i,()=>new se).pipe(_s());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return K({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=GB(i,this.compiler,t,this.onLoadEndListener).pipe(Dr(()=>{this.childrenLoaders.delete(i)})),s=new vs(o,()=>new se).pipe(_s());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function GB(n,e,t,i){return Vr(n.loadChildren()).pipe(Q(ZA),tt(r=>r instanceof Nc||Array.isArray(r)?K(r):He(e.compileModuleAsync(r))),Q(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(t).injector,s=o.get(Kv,[],{optional:!0,self:!0}).flat()),{routes:s.map(Wv),injector:o}}))}function WB(n){return n&&typeof n=="object"&&"default"in n}function ZA(n){return WB(n)?n.default:n}var Yv=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=F({token:n,factory:()=>O(KB),providedIn:"root"})}}return n})(),KB=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),YB=new U("");var QB=new U(""),ZB=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new se,this.transitionAbortSubject=new se,this.configLoader=O(qB),this.environmentInjector=O(en),this.urlSerializer=O($v),this.rootContexts=O(Uh),this.location=O(zi),this.inputBindingEnabled=O(qv,{optional:!0})!==null,this.titleStrategy=O(QA),this.options=O(Gv,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=O(Yv),this.createViewTransition=O(YB,{optional:!0}),this.navigationErrorHandler=O(QB,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>K(void 0),this.rootComponentType=null;let t=r=>this.events.next(new Dv(r)),i=r=>this.events.next(new Tv(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(ce(k(k({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,r){return this.transitions=new ft({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:tl,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(qe(o=>o.id!==0),Q(o=>ce(k({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Xt(o=>{let s=!1,a=!1;return K(o).pipe(Xt(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",an.SupersededByNewNavigation),zt;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?ce(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!u&&h!=="reload"){let p="";return this.events.next(new ko(c.id,this.urlSerializer.serialize(c.rawUrl),p,bv.IgnoredSameUrlNavigation)),c.resolve(!1),zt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return K(c).pipe(Xt(p=>{let g=this.transitions?.getValue();return this.events.next(new ol(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?zt:Promise.resolve(p)}),VB(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ge(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ce(k({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let g=new Ph(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:p,extractedUrl:g,source:_,restoredState:I,extras:x}=c,M=new ol(p,this.urlSerializer.serialize(g),_,I);this.events.next(M);let V=jA(this.rootComponentType).snapshot;return this.currentTransition=o=ce(k({},c),{targetSnapshot:V,urlAfterRedirects:g,extras:ce(k({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,K(o)}else{let p="";return this.events.next(new ko(c.id,this.urlSerializer.serialize(c.extractedUrl),p,bv.IgnoredByUrlHandlingStrategy)),c.resolve(!1),zt}}),Ge(c=>{let u=new wv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Q(c=>(this.currentTransition=o=ce(k({},c),{guards:rB(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),mB(this.environmentInjector,c=>this.events.next(c)),Ge(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Vh(this.urlSerializer,c.guardsResult);let u=new Iv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),qe(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",an.GuardRejected),!1)),pv(c=>{if(c.guards.canActivateChecks.length)return K(c).pipe(Ge(u=>{let h=new Ev(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),Xt(u=>{let h=!1;return K(u).pipe(jB(this.paramsInheritanceStrategy,this.environmentInjector),Ge({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(u,"",an.NoDataFromResolver)}}))}),Ge(u=>{let h=new Cv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}))}),pv(c=>{let u=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ge(g=>{h.component=g}),Q(()=>{})));for(let g of h.children)p.push(...u(g));return p};return Cs(u(c.targetSnapshot.root)).pipe(Cr(null),nt(1))}),pv(()=>this.afterPreactivation()),Xt(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,h=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return h?He(h).pipe(Q(()=>o)):K(o)}),Q(c=>{let u=JU(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=ce(k({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),Ge(()=>{this.events.next(new al)}),iB(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),nt(1),Ge({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Lr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Qn(this.transitionAbortSubject.pipe(Ge(c=>{throw c}))),Dr(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",an.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Wn(c=>{if(a=!0,HA(c))this.events.next(new Hi(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),nB(c)?this.events.next(new ea(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let u=new sl(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let h=Oi(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(h instanceof ll){let{message:p,cancellationCode:g}=Vh(this.urlSerializer,h);this.events.next(new Hi(o.id,this.urlSerializer.serialize(o.extractedUrl),p,g)),this.events.next(new ea(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(u);let p=t.errorHandler(c);o.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return zt}))}))}cancelNavigationTransition(t,i,r){let o=new Hi(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function XB(n){return n!==tl}var JB=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=F({token:n,factory:()=>O(e$),providedIn:"root"})}}return n})(),Bv=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},e$=(()=>{class n extends Bv{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=oi(n)))(r||n)}})()}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),XA=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=F({token:n,factory:()=>O(t$),providedIn:"root"})}}return n})(),t$=(()=>{class n extends XA{constructor(){super(...arguments),this.location=O(zi),this.urlSerializer=O($v),this.options=O(Gv,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=O(Yv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new qi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=jA(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof ol)this.stateMemento=this.createStateMemento();else if(t instanceof ko)this.rawUrlTree=i.initialUrl;else if(t instanceof Ph){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else t instanceof al?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):t instanceof Hi&&(t.code===an.GuardRejected||t.code===an.NoDataFromResolver)?this.restoreHistory(i):t instanceof sl?this.restoreHistory(i,!0):t instanceof Lr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let r=t instanceof qi?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=k(k({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=k(k({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=oi(n)))(r||n)}})()}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Jc=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Jc||{});function n$(n,e){n.events.pipe(qe(t=>t instanceof Lr||t instanceof Hi||t instanceof sl||t instanceof ko),Q(t=>t instanceof Lr||t instanceof ko?Jc.COMPLETE:(t instanceof Hi?t.code===an.Redirect||t.code===an.SupersededByNewNavigation:!1)?Jc.REDIRECTING:Jc.FAILED),qe(t=>t!==Jc.REDIRECTING),nt(1)).subscribe(()=>{e()})}function i$(n){throw n}var r$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},o$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},cn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=O(vh),this.stateManager=O(XA),this.options=O(Gv,{optional:!0})||{},this.pendingTasks=O(zs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=O(ZB),this.urlSerializer=O($v),this.location=O(zi),this.urlHandlingStrategy=O(Yv),this._events=new se,this.errorHandler=this.options.errorHandler||i$,this.navigated=!1,this.routeReuseStrategy=O(JB),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=O(Kv,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!O(qv,{optional:!0}),this.eventsSubscription=new Pe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Hi&&i.code!==an.Redirect&&i.code!==an.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Lr)this.navigated=!0;else if(i instanceof ea){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),c=k({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||XB(r.source)},s);this.scheduleNavigation(a,tl,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}a$(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),tl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let c=k({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Wv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=k(k({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=r?r.snapshot:this.routerState.snapshot.root;p=OA(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return FA(p,t,h,u??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=Po(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,tl,null,i)}navigate(t,i={skipLocationChange:!1}){return s$(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=k({},r$):i===!1?r=k({},o$):r=i,Po(t))return vA(this.currentUrlTree,t,r);let o=this.parseUrl(t);return vA(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((p,g)=>{a=p,c=g});let h=this.pendingTasks.add();return n$(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function s$(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Y(4008,!1)}function a$(n){return!(n instanceof al)&&!(n instanceof ea)}var JA=(()=>{class n{constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new se,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof Lr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Po(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let i=this.href===null?null:MT(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Po(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||n)(N(cn),N(Oo),Vc("tabindex"),N(Co),N(ve),N(Gs))}}static{this.\u0275dir=ge({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&We("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&bt("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",mt],skipLocationChange:[2,"skipLocationChange","skipLocationChange",mt],replaceUrl:[2,"replaceUrl","replaceUrl",mt],routerLink:"routerLink"},standalone:!0,features:[kn,nn]})}}return n})();var c$=new U("");function ex(n,...e){return Yt([{provide:Kv,multi:!0,useValue:n},[],{provide:Oo,useFactory:l$,deps:[cn]},{provide:H_,multi:!0,useFactory:u$},e.map(t=>t.\u0275providers)])}function l$(n){return n.routerState.root}function u$(){let n=O(Oe);return e=>{let t=n.get(Ui);if(e!==t.components[0])return;let i=n.get(cn),r=n.get(d$);n.get(h$)===1&&i.initialNavigation(),n.get(f$,null,me.Optional)?.setUpPreloading(),n.get(c$,null,me.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var d$=new U("",{factory:()=>new se}),h$=new U("",{providedIn:"root",factory:()=>1});var f$=new U("");var lx=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||n)(N(Co),N(ve))}}static{this.\u0275dir=ge({type:n})}}return n})(),p$=(()=>{class n extends lx{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=oi(n)))(r||n)}})()}static{this.\u0275dir=ge({type:n,features:[ot]})}}return n})(),ux=new U("");var m$={provide:ux,useExisting:Io(()=>li),multi:!0};function g$(){let n=$i()?$i().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var _$=new U(""),li=(()=>{class n extends lx{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!g$())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||n)(N(Co),N(ve),N(_$,8))}}static{this.\u0275dir=ge({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&We("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[ji([m$]),ot]})}}return n})();function v$(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}var Zv=new U(""),dx=new U("");function y$(n){return v$(n.value)?{required:!0}:null}function tx(n){return null}function hx(n){return n!=null}function fx(n){return xo(n)?He(n):n}function px(n){let e={};return n.forEach(t=>{e=t!=null?k(k({},e),t):e}),Object.keys(e).length===0?null:e}function mx(n,e){return e.map(t=>t(n))}function b$(n){return!n.validate}function gx(n){return n.map(e=>b$(e)?e:t=>e.validate(t))}function w$(n){if(!n)return null;let e=n.filter(hx);return e.length==0?null:function(t){return px(mx(t,e))}}function Xv(n){return n!=null?w$(gx(n)):null}function I$(n){if(!n)return null;let e=n.filter(hx);return e.length==0?null:function(t){let i=mx(t,e).map(fx);return vc(i).pipe(Q(px))}}function Jv(n){return n!=null?I$(gx(n)):null}function nx(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function E$(n){return n._rawValidators}function C$(n){return n._rawAsyncValidators}function Qv(n){return n?Array.isArray(n)?n:[n]:[]}function zh(n,e){return Array.isArray(n)?n.includes(e):n===e}function ix(n,e){let t=Qv(e);return Qv(n).forEach(r=>{zh(t,r)||t.push(r)}),t}function rx(n,e){return Qv(e).filter(t=>!zh(n,t))}var Hh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Xv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Jv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},oa=class extends Hh{get formDirective(){return null}get path(){return null}},wl=class extends Hh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},qh=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},D$={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},MJ=ce(k({},D$),{"[class.ng-submitted]":"isSubmitted"}),jr=(()=>{class n extends qh{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(N(wl,2))}}static{this.\u0275dir=ge({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&st("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ot]})}}return n})(),Ur=(()=>{class n extends qh{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(N(oa,10))}}static{this.\u0275dir=ge({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&st("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[ot]})}}return n})();var gl="VALID",$h="INVALID",ia="PENDING",_l="DISABLED",sa=class{},Gh=class extends sa{constructor(e,t){super(),this.value=e,this.source=t}},yl=class extends sa{constructor(e,t){super(),this.pristine=e,this.source=t}},bl=class extends sa{constructor(e,t){super(),this.touched=e,this.source=t}},ra=class extends sa{constructor(e,t){super(),this.status=e,this.source=t}};function _x(n){return(Yh(n)?n.validators:n)||null}function T$(n){return Array.isArray(n)?Xv(n):n||null}function vx(n,e){return(Yh(e)?e.asyncValidators:n)||null}function S$(n){return Array.isArray(n)?Jv(n):n||null}function Yh(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function A$(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new Y(1e3,"");if(!i[t])throw new Y(1001,"")}function x$(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new Y(1002,"")})}var Wh=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Gc(()=>this.statusReactive()),this.statusReactive=zc(void 0),this._pristine=Gc(()=>this.pristineReactive()),this.pristineReactive=zc(!0),this._touched=Gc(()=>this.touchedReactive()),this.touchedReactive=zc(!1),this._events=new se,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Bi(this.statusReactive)}set status(e){Bi(()=>this.statusReactive.set(e))}get valid(){return this.status===gl}get invalid(){return this.status===$h}get pending(){return this.status==ia}get disabled(){return this.status===_l}get enabled(){return this.status!==_l}get pristine(){return Bi(this.pristineReactive)}set pristine(e){Bi(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Bi(this.touchedReactive)}set touched(e){Bi(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ix(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ix(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(rx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(rx(e,this._rawAsyncValidators))}hasValidator(e){return zh(this._rawValidators,e)}hasAsyncValidator(e){return zh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ce(k({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new bl(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new bl(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ce(k({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new yl(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new yl(!0,i))}markAsPending(e={}){this.status=ia;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ra(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ce(k({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=_l,this.errors=null,this._forEachChild(r=>{r.disable(ce(k({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Gh(this.value,i)),this._events.next(new ra(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ce(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=gl,this._forEachChild(i=>{i.enable(ce(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ce(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gl||this.status===ia)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Gh(this.value,t)),this._events.next(new ra(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ce(k({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_l:gl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ia,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=fx(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new ra(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new xe,this.statusChanges=new xe}_calculateStatus(){return this._allControlsDisabled()?_l:this.errors?$h:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ia)?ia:this._anyControlsHaveStatus($h)?$h:gl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new yl(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new bl(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Yh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=T$(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=S$(this._rawAsyncValidators)}},Kh=class extends Wh{constructor(e,t,i){super(_x(t),vx(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){x$(this,!0,e),Object.keys(e).forEach(i=>{A$(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var ey=new U("CallSetDisabledState",{providedIn:"root",factory:()=>ty}),ty="always";function R$(n,e){return[...e.path,n]}function yx(n,e,t=ty){bx(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),N$(n,e),k$(n,e),P$(n,e),M$(n,e)}function ox(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function M$(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function bx(n,e){let t=E$(n);e.validator!==null?n.setValidators(nx(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=C$(n);e.asyncValidator!==null?n.setAsyncValidators(nx(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();ox(e._rawValidators,r),ox(e._rawAsyncValidators,r)}function N$(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&wx(n,e)})}function P$(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&wx(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function wx(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function k$(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function O$(n,e){n==null,bx(n,e)}function F$(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function L$(n){return Object.getPrototypeOf(n.constructor)===p$}function V$(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function j$(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===li?t=o:L$(o)?i=o:r=o}),r||i||t||null}var U$={provide:oa,useExisting:Io(()=>Gi)},vl=Promise.resolve(),Gi=(()=>{class n extends oa{get submitted(){return Bi(this.submittedReactive)}constructor(t,i,r){super(),this.callSetDisabledState=r,this._submitted=Gc(()=>this.submittedReactive()),this.submittedReactive=zc(!1),this._directives=new Set,this.ngSubmit=new xe,this.form=new Kh({},Xv(t),Jv(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){vl.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),yx(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){vl.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){vl.then(()=>{let i=this._findContainer(t.path),r=new Kh({});O$(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){vl.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){vl.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),V$(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(i){return new(i||n)(N(Zv,10),N(dx,10),N(ey,8))}}static{this.\u0275dir=ge({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&We("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ji([U$]),ot]})}}return n})();function sx(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function ax(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var B$=class extends Wh{constructor(e=null,t,i){super(_x(t),vx(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Yh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(ax(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){sx(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){sx(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){ax(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var $$={provide:wl,useExisting:Io(()=>Wi)},cx=Promise.resolve(),Wi=(()=>{class n extends wl{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new B$,this._registered=!1,this.name="",this.update=new xe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=j$(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),F$(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){yx(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){cx.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&mt(i);cx.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?R$(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||n)(N(oa,9),N(Zv,10),N(dx,10),N(ux,10),N(On,8),N(ey,8))}}static{this.\u0275dir=ge({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ji([$$]),ot,nn]})}}return n})(),Br=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=ge({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var z$=(()=>{class n{constructor(){this._validator=tx}ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):tx,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=ge({type:n,features:[nn]})}}return n})();var H$={provide:Zv,useExisting:Io(()=>Ki),multi:!0};var Ki=(()=>{class n extends z${constructor(){super(...arguments),this.inputName="required",this.normalizeInput=mt,this.createValidator=t=>y$}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=oi(n)))(r||n)}})()}static{this.\u0275dir=ge({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&bt("required",r._enabled?"":null)},inputs:{required:"required"},features:[ji([H$]),ot]})}}return n})();var q$=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=it({})}}return n})();var $r=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ey,useValue:t.callSetDisabledState??ty}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=rt({type:n})}static{this.\u0275inj=it({imports:[q$]})}}return n})();var Ex=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},G$=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=n[t++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=n[t++],s=n[t++],a=n[t++],c=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Cx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let o=n[r],s=r+1<n.length,a=s?n[r+1]:0,c=r+2<n.length,u=c?n[r+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|u>>6,_=u&63;c||(_=64,s||(g=64)),i.push(t[h],t[p],t[g],t[_])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Ex(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):G$(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let o=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;let u=r<n.length?t[n.charAt(r)]:64;++r;let p=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||a==null||u==null||p==null)throw new iy;let g=o<<2|a>>4;if(i.push(g),u!==64){let _=a<<4&240|u>>2;if(i.push(_),p!==64){let I=u<<6&192|p;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},iy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},W$=function(n){let e=Ex(n);return Cx.encodeByteArray(e,!0)},Il=function(n){return W$(n).replace(/\./g,"")},oy=function(n){try{return Cx.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function K$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Y$=()=>K$().__FIREBASE_DEFAULTS__,Q$=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Z$=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&oy(n[1]);return e&&JSON.parse(e)},Xh=()=>{try{return Y$()||Q$()||Z$()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},sy=n=>{var e,t;return(t=(e=Xh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},aa=n=>{let e=sy(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},ay=()=>{var n;return(n=Xh())===null||n===void 0?void 0:n.config},cy=n=>{var e;return(e=Xh())===null||e===void 0?void 0:e[`_${n}`]};var Zh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function Jh(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Il(JSON.stringify(t)),Il(JSON.stringify(s)),""].join(".")}function gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Dx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function X$(){var n;let e=(n=Xh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Tx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Sx(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Ax(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xx(){let n=gt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Rx(){return!X$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ly(){try{return typeof indexedDB=="object"}catch{return!1}}function Mx(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var J$="FirebaseError",kt=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=J$,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yi.prototype.create)}},Yi=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?ez(o,i):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new kt(r,a,i)}};function ez(n,e){return n.replace(tz,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var tz=/\{\$([^}]+)}/g;function Nx(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Fo(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let o=n[r],s=e[r];if(Ix(o)&&Ix(s)){if(!Fo(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function Ix(n){return n!==null&&typeof n=="object"}function El(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ca(n){let e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function la(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Px(n,e){let t=new ry(n,e);return t.subscribe.bind(t)}var ry=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");nz(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=ny),r.error===void 0&&(r.error=ny),r.complete===void 0&&(r.complete=ny);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function nz(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ny(){}var kJ=4*60*60*1e3;function Ve(n){return n&&n._delegate?n._delegate:n}var Ot=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Lo="[DEFAULT]";var uy=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new Zh;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rz(e))try{this.getOrInitializeService({instanceIdentifier:Lo})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Lo){return this.instances.has(e)}getOptions(e=Lo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);i===a&&s.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:iz(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Lo){return this.component?this.component.multipleInstances?e:Lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function iz(n){return n===Lo?void 0:n}function rz(n){return n.instantiationMode==="EAGER"}var ef=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new uy(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var oz=[],ye=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ye||{}),sz={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},az=ye.INFO,cz={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},lz=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=cz[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},zr=class{constructor(e){this.name=e,this._logLevel=az,this._logHandler=lz,this._userLogHandler=null,oz.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}};var uz=(n,e)=>e.some(t=>n instanceof t),kx,Ox;function dz(){return kx||(kx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hz(){return Ox||(Ox=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Fx=new WeakMap,hy=new WeakMap,Lx=new WeakMap,dy=new WeakMap,py=new WeakMap;function fz(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(ui(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&Fx.set(t,n)}).catch(()=>{}),py.set(e,n),e}function pz(n){if(hy.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});hy.set(n,e)}var fy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return hy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Lx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ui(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Vx(n){fy=n(fy)}function mz(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(tf(this),e,...t);return Lx.set(i,e.sort?e.sort():[e]),ui(i)}:hz().includes(n)?function(...e){return n.apply(tf(this),e),ui(Fx.get(this))}:function(...e){return ui(n.apply(tf(this),e))}}function gz(n){return typeof n=="function"?mz(n):(n instanceof IDBTransaction&&pz(n),uz(n,dz())?new Proxy(n,fy):n)}function ui(n){if(n instanceof IDBRequest)return fz(n);if(dy.has(n))return dy.get(n);let e=gz(n);return e!==n&&(dy.set(n,e),py.set(e,n)),e}var tf=n=>py.get(n);function Ux(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){let s=indexedDB.open(n,e),a=ui(s);return i&&s.addEventListener("upgradeneeded",c=>{i(ui(s.result),c.oldVersion,c.newVersion,ui(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var _z=["get","getKey","getAll","getAllKeys","count"],vz=["put","add","delete","clear"],my=new Map;function jx(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(my.get(e))return my.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=vz.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||_z.includes(t)))return;let o=function(s,...a){return v(this,null,function*(){let c=this.transaction(s,r?"readwrite":"readonly"),u=c.store;return i&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),r&&c.done]))[0]})};return my.set(e,o),o}Vx(n=>ce(k({},n),{get:(e,t,i)=>jx(e,t)||n.get(e,t,i),has:(e,t)=>!!jx(e,t)||n.has(e,t)}));var _y=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(yz(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function yz(n){let e=n.getComponent();return e?.type==="VERSION"}var vy="@firebase/app",Bx="0.10.13";var Qi=new zr("@firebase/app"),bz="@firebase/app-compat",wz="@firebase/analytics-compat",Iz="@firebase/analytics",Ez="@firebase/app-check-compat",Cz="@firebase/app-check",Dz="@firebase/auth",Tz="@firebase/auth-compat",Sz="@firebase/database",Az="@firebase/data-connect",xz="@firebase/database-compat",Rz="@firebase/functions",Mz="@firebase/functions-compat",Nz="@firebase/installations",Pz="@firebase/installations-compat",kz="@firebase/messaging",Oz="@firebase/messaging-compat",Fz="@firebase/performance",Lz="@firebase/performance-compat",Vz="@firebase/remote-config",jz="@firebase/remote-config-compat",Uz="@firebase/storage",Bz="@firebase/storage-compat",$z="@firebase/firestore",zz="@firebase/vertexai-preview",Hz="@firebase/firestore-compat",qz="firebase",Gz="10.14.1";var yy="[DEFAULT]",Wz={[vy]:"fire-core",[bz]:"fire-core-compat",[Iz]:"fire-analytics",[wz]:"fire-analytics-compat",[Cz]:"fire-app-check",[Ez]:"fire-app-check-compat",[Dz]:"fire-auth",[Tz]:"fire-auth-compat",[Sz]:"fire-rtdb",[Az]:"fire-data-connect",[xz]:"fire-rtdb-compat",[Rz]:"fire-fn",[Mz]:"fire-fn-compat",[Nz]:"fire-iid",[Pz]:"fire-iid-compat",[kz]:"fire-fcm",[Oz]:"fire-fcm-compat",[Fz]:"fire-perf",[Lz]:"fire-perf-compat",[Vz]:"fire-rc",[jz]:"fire-rc-compat",[Uz]:"fire-gcs",[Bz]:"fire-gcs-compat",[$z]:"fire-fst",[Hz]:"fire-fst-compat",[zz]:"fire-vertex","fire-js":"fire-js",[qz]:"fire-js-all"};var Cl=new Map,Kz=new Map,by=new Map;function $x(n,e){try{n.container.addComponent(e)}catch(t){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function In(n){let e=n.name;if(by.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;by.set(e,n);for(let t of Cl.values())$x(t,n);for(let t of Kz.values())$x(t,n);return!0}function Zi(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ln(n){return n.settings!==void 0}var Yz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new Yi("app","Firebase",Yz);var wy=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ot("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}};var di=Gz;function Cy(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:yy,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Hr.create("bad-app-name",{appName:String(r)});if(t||(t=ay()),!t)throw Hr.create("no-options");let o=Cl.get(r);if(o){if(Fo(t,o.options)&&Fo(i,o.config))return o;throw Hr.create("duplicate-app",{appName:r})}let s=new ef(r);for(let c of by.values())s.addComponent(c);let a=new wy(t,i,s);return Cl.set(r,a),a}function hi(n=yy){let e=Cl.get(n);if(!e&&n===yy&&ay())return Cy();if(!e)throw Hr.create("no-app",{appName:n});return e}function nf(){return Array.from(Cl.values())}function Fe(n,e,t){var i;let r=(i=Wz[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${r}" with version "${e}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(a.join(" "));return}In(new Ot(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var Qz="firebase-heartbeat-database",Zz=1,Dl="firebase-heartbeat-store",gy=null;function Gx(){return gy||(gy=Ux(Qz,Zz,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Dl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Hr.create("idb-open",{originalErrorMessage:n.message})})),gy}function Xz(n){return v(this,null,function*(){try{let t=(yield Gx()).transaction(Dl),i=yield t.objectStore(Dl).get(Wx(n));return yield t.done,i}catch(e){if(e instanceof kt)Qi.warn(e.message);else{let t=Hr.create("idb-get",{originalErrorMessage:e?.message});Qi.warn(t.message)}}})}function zx(n,e){return v(this,null,function*(){try{let i=(yield Gx()).transaction(Dl,"readwrite");yield i.objectStore(Dl).put(e,Wx(n)),yield i.done}catch(t){if(t instanceof kt)Qi.warn(t.message);else{let i=Hr.create("idb-set",{originalErrorMessage:t?.message});Qi.warn(i.message)}}})}function Wx(n){return`${n.name}!${n.options.appId}`}var Jz=1024,eH=30*24*60*60*1e3,Iy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Ey(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return v(this,null,function*(){var e,t;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Hx();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=eH}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Qi.warn(i)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Hx(),{heartbeatsToSend:i,unsentEntries:r}=tH(this._heartbeatsCache.heartbeats),o=Il(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Qi.warn(t),""}})}};function Hx(){return new Date().toISOString().substring(0,10)}function tH(n,e=Jz){let t=[],i=n.slice();for(let r of n){let o=t.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),qx(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),qx(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var Ey=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return ly()?Mx().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Xz(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return zx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return zx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function qx(n){return Il(JSON.stringify({version:2,heartbeats:n})).length}function nH(n){In(new Ot("platform-logger",e=>new _y(e),"PRIVATE")),In(new Ot("heartbeat",e=>new Iy(e),"PRIVATE")),Fe(vy,Bx,n),Fe(vy,Bx,"esm2017"),Fe("fire-js","")}nH("");var iH="firebase",rH="10.14.1";Fe(iH,rH,"app");var Vn=new ri("ANGULARFIRE2_VERSION");function qr(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Xi=(n,e)=>{let t=e?[e]:nf(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},fi=class{constructor(){return Xi(oH)}},oH="app-check";function ua(){}var rf=class{zone;delegate;constructor(e,t=Fm){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,i)}},Dy=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ua,{},ua,ua)),t.pipe(Ge({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},pi=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new rf(Zone.current)),this.insideAngular=t.run(()=>new rf(Zone.current,_r)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(R(W))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function of(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function sH(n){return of().ngZone.runOutsideAngular(()=>n())}function Vo(n){return of().ngZone.run(()=>n())}function aH(n){return cH(of())(n)}function cH(n){return function(t){return t=t.lift(new Dy(n.ngZone)),t.pipe(yr(n.outsideAngular),vr(n.insideAngular))}}var lH=(n,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Vo(()=>n.apply(void 0,i))},Ne=(n,e)=>function(){let t,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(t||=Vo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ua,{},ua,ua))),i[o]=lH(i[o],t));let r=sH(()=>n.apply(this,i));if(!e)if(r instanceof te){let o=of();return r.pipe(yr(o.outsideAngular),vr(o.insideAngular))}else return Vo(()=>r);return r instanceof te?r.pipe(aH):r instanceof Promise?Vo(()=>new Promise((o,s)=>r.then(a=>Vo(()=>o(a)),a=>Vo(()=>s(a))))):typeof r=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),r.apply(this,arguments)}:Vo(()=>r)};var ln=class{constructor(e){return e}},jn=class{constructor(){return nf()}};function uH(n){return n&&n.length===1?n[0]:new ln(hi())}var Ty=new U("angularfire2._apps"),dH={provide:ln,useFactory:uH,deps:[[new $e,Ty]]},hH={provide:jn,deps:[[new $e,Ty]]};function fH(n){return(e,t)=>{let i=t.get(si);Fe("angularfire",Vn.full,"core"),Fe("angularfire",Vn.full,"app"),Fe("angular",OS.full,i.toString());let r=e.runOutsideAngular(()=>n(t));return new ln(r)}}function Kx(n,...e){return Yt([dH,hH,{provide:Ty,useFactory:fH(n),multi:!0,deps:[W,Oe,pi,...e]}])}var Yx=Ne(Cy,!0);function hR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var fR=hR,pR=new Yi("auth","Firebase",hR());var df=new zr("@firebase/auth");function pH(n,...e){df.logLevel<=ye.WARN&&df.warn(`Auth (${di}): ${n}`,...e)}function af(n,...e){df.logLevel<=ye.ERROR&&df.error(`Auth (${di}): ${n}`,...e)}function gi(n,...e){throw Ky(n,...e)}function jo(n,...e){return Ky(n,...e)}function mR(n,e,t){let i=Object.assign(Object.assign({},fR()),{[e]:t});return new Yi("auth","Firebase",i).create(e,{appName:n.name})}function tr(n){return mR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ky(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return pR.create(n,...e)}function ee(n,e,...t){if(!n)throw Ky(e,...t)}function Ji(n){let e="INTERNAL ASSERTION FAILED: "+n;throw af(e),new Error(e)}function Wr(n,e){n||Ji(e)}function Ry(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function mH(){return Qx()==="http:"||Qx()==="https:"}function Qx(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function gH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mH()||Sx()||"connection"in navigator)?navigator.onLine:!0}function _H(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Uo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Wr(t>e,"Short delay should be less than long delay!"),this.isMobile=Dx()||Ax()}get(){return gH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Yy(n,e){Wr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var hf=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var vH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var yH=new Uo(3e4,6e4);function nr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ir(o,s,a,c){return v(this,arguments,function*(n,e,t,i,r={}){return gR(n,r,()=>v(this,null,function*(){let u={},h={};i&&(e==="GET"?h=i:u={body:JSON.stringify(i)});let p=El(Object.assign({key:n.config.apiKey},h)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let _=Object.assign({method:e,headers:g},u);return Tx()||(_.referrerPolicy="no-referrer"),hf.fetch()(_R(n,n.config.apiHost,t,p),_)}))})}function gR(n,e,t){return v(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},vH),e);try{let r=new My(n),o=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw sf(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw sf(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw sf(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw sf(n,"user-disabled",s);let h=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw mR(n,h,u);gi(n,h)}}catch(r){if(r instanceof kt)throw r;gi(n,"network-request-failed",{message:String(r)})}})}function Pl(o,s,a,c){return v(this,arguments,function*(n,e,t,i,r={}){let u=yield ir(n,e,t,i,r);return"mfaPendingCredential"in u&&gi(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function _R(n,e,t,i){let r=`${e}${t}?${i}`;return n.config.emulator?Yy(n.config,r):`${n.config.apiScheme}://${r}`}function bH(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var My=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(jo(this.auth,"network-request-failed")),yH.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function sf(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=jo(n,e,i);return r.customData._tokenResponse=t,r}function Zx(n){return n!==void 0&&n.enterprise!==void 0}var Ny=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return bH(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function wH(n,e){return v(this,null,function*(){return ir(n,"GET","/v2/recaptchaConfig",nr(n,e))})}function IH(n,e){return v(this,null,function*(){return ir(n,"POST","/v1/accounts:delete",e)})}function vR(n,e){return v(this,null,function*(){return ir(n,"POST","/v1/accounts:lookup",e)})}function Tl(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Qy(n,e=!1){return v(this,null,function*(){let t=Ve(n),i=yield t.getIdToken(e),r=Zy(i);ee(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:Tl(Sy(r.auth_time)),issuedAtTime:Tl(Sy(r.iat)),expirationTime:Tl(Sy(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Sy(n){return Number(n)*1e3}function Zy(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return af("JWT malformed, contained fewer than 3 sections"),null;try{let r=oy(t);return r?JSON.parse(r):(af("Failed to decode base64 JWT payload"),null)}catch(r){return af("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Xx(n){let e=Zy(n);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Al(n,e,t=!1){return v(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof kt&&EH(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function EH({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Py=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),t)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var xl=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tl(this.lastLoginAt),this.creationTime=Tl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ff(n){return v(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield Al(n,vR(t,{idToken:i}));ee(r?.users.length,t,"internal-error");let o=r.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?yR(o.providerUserInfo):[],a=CH(n.providerData,s),c=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,h=c?u:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new xl(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function Xy(n){return v(this,null,function*(){let e=Ve(n);yield ff(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function CH(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function yR(n){return n.map(e=>{var{providerId:t}=e,i=Vm(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function DH(n,e){return v(this,null,function*(){let t=yield gR(n,{},()=>v(this,null,function*(){let i=El({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=_R(n,r,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",hf.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function TH(n,e){return v(this,null,function*(){return ir(n,"POST","/v2/accounts:revokeToken",nr(n,e))})}var Sl=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Xx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ee(e.length!==0,"internal-error");let t=Xx(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return v(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return v(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield DH(e,t);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:o}=t,s=new n;return i&&(ee(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(ee(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(ee(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Ji("not implemented")}};function Gr(n,e){ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var da=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=Vm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Py(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new xl(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let t=yield Al(this,this.stsTokenManager.getToken(this.auth,e));return ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Qy(this,e)}reload(){return Xy(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return v(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield ff(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(Ln(this.auth.app))return Promise.reject(tr(this.auth));let e=yield this.getIdToken();return yield Al(this,IH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,s,a,c,u,h;let p=(i=t.displayName)!==null&&i!==void 0?i:void 0,g=(r=t.email)!==null&&r!==void 0?r:void 0,_=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,I=(s=t.photoURL)!==null&&s!==void 0?s:void 0,x=(a=t.tenantId)!==null&&a!==void 0?a:void 0,M=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,V=(u=t.createdAt)!==null&&u!==void 0?u:void 0,z=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:G,emailVerified:Z,isAnonymous:je,providerData:ie,stsTokenManager:E}=t;ee(G&&E,e,"internal-error");let y=Sl.fromJSON(this.name,E);ee(typeof G=="string",e,"internal-error"),Gr(p,e.name),Gr(g,e.name),ee(typeof Z=="boolean",e,"internal-error"),ee(typeof je=="boolean",e,"internal-error"),Gr(_,e.name),Gr(I,e.name),Gr(x,e.name),Gr(M,e.name),Gr(V,e.name),Gr(z,e.name);let b=new n({uid:G,auth:e,email:g,emailVerified:Z,displayName:p,isAnonymous:je,photoURL:I,phoneNumber:_,tenantId:x,stsTokenManager:y,createdAt:V,lastLoginAt:z});return ie&&Array.isArray(ie)&&(b.providerData=ie.map(C=>Object.assign({},C))),M&&(b._redirectEventId=M),b}static _fromIdTokenResponse(e,t,i=!1){return v(this,null,function*(){let r=new Sl;r.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield ff(o),o})}static _fromGetAccountInfoResponse(e,t,i){return v(this,null,function*(){let r=t.users[0];ee(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?yR(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,a=new Sl;a.updateFromIdToken(i);let c=new n({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new xl(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var Jx=new Map;function er(n){Wr(n instanceof Function,"Expected a class definition");let e=Jx.get(n);return e?(Wr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Jx.set(n,e),e)}var SH=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(t,i){return v(this,null,function*(){this.storage[t]=i})}_get(t){return v(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return v(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),ky=SH;function cf(n,e,t){return`firebase:${n}:${e}:${t}`}var pf=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=cf(this.userKey,r.apiKey,o),this.fullPersistenceKey=cf("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?da._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return v(this,null,function*(){if(!t.length)return new n(er(ky),e,i);let r=(yield Promise.all(t.map(u=>v(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=r[0]||er(ky),s=cf(i,e.config.apiKey,e.name),a=null;for(let u of t)try{let h=yield u._get(s);if(h){let p=da._fromJSON(e,h);u!==o&&(a=p),o=u;break}}catch{}let c=r.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,i):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>v(this,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,i))})}};function eR(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ER(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DR(e))return"Blackberry";if(TR(e))return"Webos";if(wR(e))return"Safari";if((e.includes("chrome/")||IR(e))&&!e.includes("edge/"))return"Chrome";if(CR(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function bR(n=gt()){return/firefox\//i.test(n)}function wR(n=gt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IR(n=gt()){return/crios\//i.test(n)}function ER(n=gt()){return/iemobile/i.test(n)}function CR(n=gt()){return/android/i.test(n)}function DR(n=gt()){return/blackberry/i.test(n)}function TR(n=gt()){return/webos/i.test(n)}function Jy(n=gt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function AH(n=gt()){var e;return Jy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xH(){return xx()&&document.documentMode===10}function SR(n=gt()){return Jy(n)||CR(n)||TR(n)||DR(n)||/windows phone/i.test(n)||ER(n)}function AR(n,e=[]){let t;switch(n){case"Browser":t=eR(gt());break;case"Worker":t=`${eR(gt())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${di}/${i}`}var Oy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function RH(t){return v(this,arguments,function*(n,e={}){return ir(n,"GET","/v2/passwordPolicy",nr(n,e))})}var MH=6,Fy=class{constructor(e){var t,i,r,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:MH,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Ly=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mf(this),this.idTokenSubscription=new mf(this),this.beforeStateQueue=new Oy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=er(t)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield pf.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let t=yield vR(this,{idToken:e}),i=yield da._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var t;if(Ln(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(r=c.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return v(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield ff(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=_H()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(Ln(this.app))return Promise.reject(tr(this));let t=e?Ve(e):null;return t&&ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return v(this,null,function*(){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return Ln(this.app)?Promise.reject(tr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ln(this.app)?Promise.reject(tr(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(er(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield RH(this),t=new Fy(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Yi("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield TH(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return v(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&er(e)||this._popupRedirectResolver;ee(t,this,"argument-error"),this.redirectPersistenceManager=yield pf.create(this,[er(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,i,r);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return v(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&pH(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Kr(n){return Ve(n)}var mf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Px(t=>this.observer=t)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ef={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NH(n){Ef=n}function xR(n){return Ef.loadJS(n)}function PH(){return Ef.recaptchaEnterpriseScript}function kH(){return Ef.gapiScript}function RR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var OH="recaptcha-enterprise",FH="NO_RECAPTCHA",Vy=class{constructor(e){this.type=OH,this.auth=Kr(e)}verify(e="verify",t=!1){return v(this,null,function*(){function i(o){return v(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>v(this,null,function*(){wH(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new Ny(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(c=>{a(c)})}))})}function r(o,s,a){let c=window.grecaptcha;Zx(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(FH)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{i(this.auth).then(a=>{if(!t&&Zx(window.grecaptcha))r(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=PH();c.length!==0&&(c+=a),xR(c).then(()=>{r(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})})}};function tR(n,e,t,i=!1){return v(this,null,function*(){let r=new Vy(n),o;try{o=yield r.verify(t)}catch{o=yield r.verify(t,!0)}let s=Object.assign({},e);return i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function gf(n,e,t,i){return v(this,null,function*(){var r;if(!((r=n._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield tR(n,e,t,t==="getOobCode");return i(n,o)}else return i(n,e).catch(o=>v(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield tR(n,e,t,t==="getOobCode");return i(n,s)}else return Promise.reject(o)}))})}function eb(n,e){let t=Zi(n,"auth");if(t.isInitialized()){let r=t.getImmediate(),o=t.getOptions();if(Fo(o,e??{}))return r;gi(r,"already-initialized")}return t.initialize({options:e})}function LH(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(er);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function tb(n,e,t){let i=Kr(n);ee(i._canInitEmulator,i,"emulator-config-failed"),ee(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!t?.disableWarnings,o=MR(e),{host:s,port:a}=VH(e),c=a===null?"":`:${a}`;i.config.emulator={url:`${o}//${s}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||jH()}function MR(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function VH(n){let e=MR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let o=r[1];return{host:o,port:nR(i.substr(o.length+1))}}else{let[o,s]=i.split(":");return{host:o,port:nR(s)}}}function nR(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function jH(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Rl=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ji("not implemented")}_getIdTokenResponse(e){return Ji("not implemented")}_linkToIdToken(e,t){return Ji("not implemented")}_getReauthenticationResolver(e){return Ji("not implemented")}};function UH(n,e){return v(this,null,function*(){return ir(n,"POST","/v1/accounts:signUp",e)})}function BH(n,e){return v(this,null,function*(){return Pl(n,"POST","/v1/accounts:signInWithPassword",nr(n,e))})}function NR(n,e){return v(this,null,function*(){return ir(n,"POST","/v1/accounts:sendOobCode",nr(n,e))})}function $H(n,e){return v(this,null,function*(){return NR(n,e)})}function zH(n,e){return v(this,null,function*(){return NR(n,e)})}function HH(n,e){return v(this,null,function*(){return Pl(n,"POST","/v1/accounts:signInWithEmailLink",nr(n,e))})}function qH(n,e){return v(this,null,function*(){return Pl(n,"POST","/v1/accounts:signInWithEmailLink",nr(n,e))})}var Ml=class n extends Rl{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new n(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gf(e,t,"signInWithPassword",BH);case"emailLink":return HH(e,{email:this._email,oobCode:this._password});default:gi(e,"internal-error")}})}_linkToIdToken(e,t){return v(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gf(e,i,"signUpPassword",UH);case"emailLink":return qH(e,{idToken:t,email:this._email,oobCode:this._password});default:gi(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Ay(n,e){return v(this,null,function*(){return Pl(n,"POST","/v1/accounts:signInWithIdp",nr(n,e))})}function GH(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WH(n){let e=ca(la(n)).link,t=e?ca(la(e)).deep_link_id:null,i=ca(la(n)).deep_link_id;return(i?ca(la(i)).link:null)||i||t||e||n}var _f=class n{constructor(e){var t,i,r,o,s,a;let c=ca(la(e)),u=(t=c.apiKey)!==null&&t!==void 0?t:null,h=(i=c.oobCode)!==null&&i!==void 0?i:null,p=GH((r=c.mode)!==null&&r!==void 0?r:null);ee(u&&h&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=h,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=WH(e);try{return new n(t)}catch{return null}}};var PR=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return Ml._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){let r=_f.parseLink(i);return ee(r,"argument-error"),Ml._fromEmailAndCode(t,r.code,r.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),vf=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var jy=class extends vf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function KH(n,e){return v(this,null,function*(){return Pl(n,"POST","/v1/accounts:signUp",nr(n,e))})}var ha=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return v(this,null,function*(){let o=yield da._fromIdTokenResponse(e,i,r),s=iR(i);return new n({user:o,providerId:s,_tokenResponse:i,operationType:t})})}static _forOperation(e,t,i){return v(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=iR(i);return new n({user:e,providerId:r,_tokenResponse:i,operationType:t})})}};function iR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Uy=class n extends kt{constructor(e,t,i,r){var o;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new n(e,t,i,r)}};function kR(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Uy._fromErrorAndOperation(n,o,e,i):o})}function YH(n,e,t=!1){return v(this,null,function*(){let i=yield Al(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return ha._forOperation(n,"link",i)})}function QH(n,e,t=!1){return v(this,null,function*(){let{auth:i}=n;if(Ln(i.app))return Promise.reject(tr(i));let r="reauthenticate";try{let o=yield Al(n,kR(i,r,e,n),t);ee(o.idToken,i,"internal-error");let s=Zy(o.idToken);ee(s,i,"internal-error");let{sub:a}=s;return ee(n.uid===a,i,"user-mismatch"),ha._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&gi(i,"user-mismatch"),o}})}function OR(n,e,t=!1){return v(this,null,function*(){if(Ln(n.app))return Promise.reject(tr(n));let i="signIn",r=yield kR(n,i,e),o=yield ha._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(o.user)),o})}function nb(n,e){return v(this,null,function*(){return OR(Kr(n),e)})}function FR(n,e,t){var i;ee(((i=t.url)===null||i===void 0?void 0:i.length)>0,n,"invalid-continue-uri"),ee(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ee(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ee(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function LR(n){return v(this,null,function*(){let e=Kr(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function ib(n,e,t){return v(this,null,function*(){let i=Kr(n),r={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&FR(i,r,t),yield gf(i,r,"getOobCode",zH)})}function rb(n,e,t){return v(this,null,function*(){if(Ln(n.app))return Promise.reject(tr(n));let i=Kr(n),s=yield gf(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KH).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&LR(n),c}),a=yield ha._fromIdTokenResponse(i,"signIn",s);return yield i._updateCurrentUser(a.user),a})}function ob(n,e,t){return Ln(n.app)?Promise.reject(tr(n)):nb(Ve(n),PR.credential(e,t)).catch(i=>v(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&LR(n),i}))}function sb(n,e){return v(this,null,function*(){let t=Ve(n),r={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&FR(t.auth,r,e);let{email:o}=yield $H(t.auth,r);o!==n.email&&(yield n.reload())})}function Cf(n,e,t,i){return Ve(n).onIdTokenChanged(e,t,i)}function ab(n,e,t){return Ve(n).beforeAuthStateChanged(e,t)}function Df(n,e,t,i){return Ve(n).onAuthStateChanged(e,t,i)}var yf="__sak";var bf=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(yf,"1"),this.storage.removeItem(yf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var ZH=1e3,XH=10,JH=(()=>{class n extends bf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let r=t.key;i?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);xH()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,XH):o()}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},ZH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,i){return v(this,null,function*(){yield gr(n.prototype,this,"_set").call(this,t,i),this.localCache[t]=JSON.stringify(i)})}_get(t){return v(this,null,function*(){let i=yield gr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(i),i})}_remove(t){return v(this,null,function*(){yield gr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),VR=JH;var e4=(()=>{class n extends bf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})(),cb=e4;function t4(n){return Promise.all(n.map(e=>v(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var n4=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;let r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){return v(this,null,function*(){let i=t,{eventId:r,eventType:o,data:s}=i.data,a=this.handlersMap[o];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let c=Array.from(a).map(h=>v(this,null,function*(){return h(i.origin,s)})),u=yield t4(c);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:u})})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function jR(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}var By=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){return v(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=jR("",20);r.port1.start();let h=setTimeout(()=>{c(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(p){let g=p;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function mi(){return window}function i4(n){mi().location.href=n}function UR(){return typeof mi().WorkerGlobalScope<"u"&&typeof mi().importScripts=="function"}function r4(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function o4(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function s4(){return UR()?self:null}var BR="firebaseLocalStorageDb",a4=1,wf="firebaseLocalStorage",$R="fbase_key",Bo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Tf(n,e){return n.transaction([wf],e?"readwrite":"readonly").objectStore(wf)}function c4(){let n=indexedDB.deleteDatabase(BR);return new Bo(n).toPromise()}function $y(){let n=indexedDB.open(BR,a4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(wf,{keyPath:$R})}catch(r){t(r)}}),n.addEventListener("success",()=>v(this,null,function*(){let i=n.result;i.objectStoreNames.contains(wf)?e(i):(i.close(),yield c4(),e(yield $y()))}))})}function rR(n,e,t){return v(this,null,function*(){let i=Tf(n,!0).put({[$R]:e,value:t});return new Bo(i).toPromise()})}function l4(n,e){return v(this,null,function*(){let t=Tf(n,!1).get(e),i=yield new Bo(t).toPromise();return i===void 0?null:i.value})}function oR(n,e){let t=Tf(n,!0).delete(e);return new Bo(t).toPromise()}var u4=800,d4=3,h4=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield $y(),this.db)})}_withRetries(t){return v(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield t(r)}catch(r){if(i++>d4)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return UR()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=n4._getInstance(s4()),this.receiver._subscribe("keyChanged",(t,i)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(t,i)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var t,i;if(this.activeServiceWorker=yield r4(),!this.activeServiceWorker)return;this.sender=new By(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||o4()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let t=yield $y();return yield rR(t,yf,"1"),yield oR(t,yf),!0}catch{}return!1})}_withPendingWrite(t){return v(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,i){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>rR(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)}))})}_get(t){return v(this,null,function*(){let i=yield this._withRetries(r=>l4(r,t));return this.localCache[t]=i,i})}_remove(t){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>oR(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return v(this,null,function*(){let t=yield this._withRetries(o=>{let s=Tf(o,!1).getAll();return new Bo(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),i.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i})}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),u4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),zR=h4;var See=RR("rcb"),Aee=new Uo(3e4,6e4);function f4(n,e){return e?er(e):(ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Nl=class extends Rl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ay(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ay(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ay(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function p4(n){return OR(n.auth,new Nl(n),n.bypassAuthState)}function m4(n){let{auth:e,user:t}=n;return ee(t,e,"internal-error"),QH(t,new Nl(n),n.bypassAuthState)}function g4(n){return v(this,null,function*(){let{auth:e,user:t}=n;return ee(t,e,"internal-error"),YH(t,new Nl(n),n.bypassAuthState)})}var zy=class{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:t,sessionId:i,postBody:r,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return p4;case"linkViaPopup":case"linkViaRedirect":return g4;case"reauthViaPopup":case"reauthViaRedirect":return m4;default:gi(this.auth,"internal-error")}}resolve(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var xee=new Uo(2e3,1e4);var _4="pendingRedirect",lf=new Map,Hy=class n extends zy{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){return v(this,null,function*(){let e=lf.get(this.auth._key());if(!e){try{let i=(yield v4(this.resolver,this.auth))?yield gr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}lf.set(this.auth._key(),e)}return this.bypassAuthState||lf.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return gr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,gr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function v4(n,e){return v(this,null,function*(){let t=w4(e),i=b4(n);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(t))==="true";return yield i._remove(t),r})}function y4(n,e){lf.set(n._key(),e)}function b4(n){return er(n._redirectPersistence)}function w4(n){return cf(_4,n.config.apiKey,n.name)}function I4(n,e,t=!1){return v(this,null,function*(){if(Ln(n.app))return Promise.reject(tr(n));let i=Kr(n),r=f4(i,e),s=yield new Hy(i,r,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,e)),s})}var E4=10*60*1e3,qy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!C4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!HR(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(jo(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=E4&&this.cachedEventUids.clear(),this.cachedEventUids.has(sR(e))}saveEventToCache(e){this.cachedEventUids.add(sR(e)),this.lastProcessedEventTime=Date.now()}};function sR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function HR({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function C4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HR(n);default:return!1}}function D4(t){return v(this,arguments,function*(n,e={}){return ir(n,"GET","/v1/projects",e)})}var T4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,S4=/^https?/;function A4(n){return v(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield D4(n);for(let t of e)try{if(x4(t))return}catch{}gi(n,"unauthorized-domain")})}function x4(n){let e=Ry(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===i}if(!S4.test(t))return!1;if(T4.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var R4=new Uo(3e4,6e4);function aR(){let n=mi().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function M4(n){return new Promise((e,t)=>{var i,r,o;function s(){aR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aR(),t(jo(n,"network-request-failed"))},timeout:R4.get()})}if(!((r=(i=mi().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=mi().gapi)===null||o===void 0)&&o.load)s();else{let a=RR("iframefcb");return mi()[a]=()=>{gapi.load?s():t(jo(n,"network-request-failed"))},xR(`${kH()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw uf=null,e})}var uf=null;function N4(n){return uf=uf||M4(n),uf}var P4=new Uo(5e3,15e3),k4="__/auth/iframe",O4="emulator/auth/iframe",F4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function V4(n){let e=n.config;ee(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Yy(e,O4):`https://${n.config.authDomain}/${k4}`,i={apiKey:e.apiKey,appName:n.name,v:di},r=L4.get(n.config.apiHost);r&&(i.eid=r);let o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${El(i).slice(1)}`}function j4(n){return v(this,null,function*(){let e=yield N4(n),t=mi().gapi;return ee(t,n,"internal-error"),e.open({where:document.body,url:V4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:F4,dontclear:!0},i=>new Promise((r,o)=>v(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let s=jo(n,"network-request-failed"),a=mi().setTimeout(()=>{o(s)},P4.get());function c(){mi().clearTimeout(a),r(i)}i.ping(c).then(c,()=>{o(s)})})))})}var U4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},B4=500,$4=600,z4="_blank",H4="http://localhost",If=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function q4(n,e,t,i=B4,r=$4){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",c=Object.assign(Object.assign({},U4),{width:i.toString(),height:r.toString(),top:o,left:s}),u=gt().toLowerCase();t&&(a=IR(u)?z4:t),bR(u)&&(e=e||H4,c.scrollbars="yes");let h=Object.entries(c).reduce((g,[_,I])=>`${g}${_}=${I},`,"");if(AH(u)&&a!=="_self")return G4(e||"",a),new If(null);let p=window.open(e||"",a,h);ee(p,n,"popup-blocked");try{p.focus()}catch{}return new If(p)}function G4(n,e){let t=document.createElement("a");t.href=n,t.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}var W4="__/auth/handler",K4="emulator/auth/handler",Y4=encodeURIComponent("fac");function cR(n,e,t,i,r,o){return v(this,null,function*(){ee(n.config.authDomain,n,"auth-domain-config-required"),ee(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:di,eventId:r};if(e instanceof vf){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",Nx(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof jy){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let c=yield n._getAppCheckToken(),u=c?`#${Y4}=${encodeURIComponent(c)}`:"";return`${Q4(n)}?${El(a).slice(1)}${u}`})}function Q4({config:n}){return n.emulator?Yy(n,K4):`https://${n.authDomain}/${W4}`}var xy="webStorageSupport",Gy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cb,this._completeRedirectFn=I4,this._overrideRedirectResult=y4}_openPopup(e,t,i,r){return v(this,null,function*(){var o;Wr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield cR(e,t,i,Ry(),r);return q4(e,s,jR())})}_openRedirect(e,t,i,r){return v(this,null,function*(){yield this._originValidation(e);let o=yield cR(e,t,i,Ry(),r);return i4(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(Wr(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){return v(this,null,function*(){let t=yield j4(e),i=new qy(e);return t.register("authEvent",r=>(ee(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xy,{type:xy},r=>{var o;let s=(o=r?.[0])===null||o===void 0?void 0:o[xy];s!==void 0&&t(!!s),gi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=A4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return SR()||wR()||Jy()}},qR=Gy;var lR="@firebase/auth",uR="1.7.9";var Wy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Z4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function X4(n){In(new Ot("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;ee(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AR(n)},u=new Ly(i,r,o,c);return LH(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),In(new Ot("auth-internal",e=>{let t=Kr(e.getProvider("auth").getImmediate());return(i=>new Wy(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fe(lR,uR,Z4(n)),Fe(lR,uR,"esm2017")}var J4=5*60,eq=cy("authIdTokenMaxAge")||J4,dR=null,tq=n=>e=>v(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>eq)return;let r=t?.token;dR!==r&&(dR=r,yield fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function lb(n=hi()){let e=Zi(n,"auth");if(e.isInitialized())return e.getImmediate();let t=eb(n,{popupRedirectResolver:qR,persistence:[zR,VR,cb]}),i=cy("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(i,location.origin);if(location.origin===o.origin){let s=tq(o.toString());ab(t,s,()=>s(t.currentUser)),Cf(t,a=>s(a))}}let r=sy("auth");return r&&tb(t,`http://${r}`),t}function nq(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}NH({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let o=jo("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",nq().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});X4("Browser");function WR(n){return new te(function(e){var t=Df(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var KR="auth",Un=class{constructor(e){return e}},rr=class{constructor(){return Xi(KR)}};var ub=new U("angularfire2.auth-instances");function zq(n,e){let t=qr(KR,n,e);return t&&new Un(t)}function Hq(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Un(i)}}var qq={provide:rr,deps:[[new $e,ub]]},Gq={provide:Un,useFactory:zq,deps:[[new $e,ub],ln]};function YR(n,...e){return Fe("angularfire",Vn.full,"auth"),Yt([Gq,qq,{provide:ub,useFactory:Hq(n),multi:!0,deps:[W,Oe,pi,jn,[new $e,fi],...e]}])}var Sf=Ne(WR,!0);var QR=Ne(rb,!0);var ZR=Ne(lb,!0);var XR=Ne(sb,!0),db=Ne(ib,!0);var JR=Ne(ob,!0);var eM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tM={};var Yr,fb;(function(){var n;function e(E,y){function b(){}b.prototype=y.prototype,E.D=y.prototype,E.prototype=new b,E.prototype.constructor=E,E.C=function(C,D,S){for(var w=Array(arguments.length-2),Ti=2;Ti<arguments.length;Ti++)w[Ti-2]=arguments[Ti];return y.prototype[D].apply(C,w)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(E,y,b){b||(b=0);var C=Array(16);if(typeof y=="string")for(var D=0;16>D;++D)C[D]=y.charCodeAt(b++)|y.charCodeAt(b++)<<8|y.charCodeAt(b++)<<16|y.charCodeAt(b++)<<24;else for(D=0;16>D;++D)C[D]=y[b++]|y[b++]<<8|y[b++]<<16|y[b++]<<24;y=E.g[0],b=E.g[1],D=E.g[2];var S=E.g[3],w=y+(S^b&(D^S))+C[0]+3614090360&4294967295;y=b+(w<<7&4294967295|w>>>25),w=S+(D^y&(b^D))+C[1]+3905402710&4294967295,S=y+(w<<12&4294967295|w>>>20),w=D+(b^S&(y^b))+C[2]+606105819&4294967295,D=S+(w<<17&4294967295|w>>>15),w=b+(y^D&(S^y))+C[3]+3250441966&4294967295,b=D+(w<<22&4294967295|w>>>10),w=y+(S^b&(D^S))+C[4]+4118548399&4294967295,y=b+(w<<7&4294967295|w>>>25),w=S+(D^y&(b^D))+C[5]+1200080426&4294967295,S=y+(w<<12&4294967295|w>>>20),w=D+(b^S&(y^b))+C[6]+2821735955&4294967295,D=S+(w<<17&4294967295|w>>>15),w=b+(y^D&(S^y))+C[7]+4249261313&4294967295,b=D+(w<<22&4294967295|w>>>10),w=y+(S^b&(D^S))+C[8]+1770035416&4294967295,y=b+(w<<7&4294967295|w>>>25),w=S+(D^y&(b^D))+C[9]+2336552879&4294967295,S=y+(w<<12&4294967295|w>>>20),w=D+(b^S&(y^b))+C[10]+4294925233&4294967295,D=S+(w<<17&4294967295|w>>>15),w=b+(y^D&(S^y))+C[11]+2304563134&4294967295,b=D+(w<<22&4294967295|w>>>10),w=y+(S^b&(D^S))+C[12]+1804603682&4294967295,y=b+(w<<7&4294967295|w>>>25),w=S+(D^y&(b^D))+C[13]+4254626195&4294967295,S=y+(w<<12&4294967295|w>>>20),w=D+(b^S&(y^b))+C[14]+2792965006&4294967295,D=S+(w<<17&4294967295|w>>>15),w=b+(y^D&(S^y))+C[15]+1236535329&4294967295,b=D+(w<<22&4294967295|w>>>10),w=y+(D^S&(b^D))+C[1]+4129170786&4294967295,y=b+(w<<5&4294967295|w>>>27),w=S+(b^D&(y^b))+C[6]+3225465664&4294967295,S=y+(w<<9&4294967295|w>>>23),w=D+(y^b&(S^y))+C[11]+643717713&4294967295,D=S+(w<<14&4294967295|w>>>18),w=b+(S^y&(D^S))+C[0]+3921069994&4294967295,b=D+(w<<20&4294967295|w>>>12),w=y+(D^S&(b^D))+C[5]+3593408605&4294967295,y=b+(w<<5&4294967295|w>>>27),w=S+(b^D&(y^b))+C[10]+38016083&4294967295,S=y+(w<<9&4294967295|w>>>23),w=D+(y^b&(S^y))+C[15]+3634488961&4294967295,D=S+(w<<14&4294967295|w>>>18),w=b+(S^y&(D^S))+C[4]+3889429448&4294967295,b=D+(w<<20&4294967295|w>>>12),w=y+(D^S&(b^D))+C[9]+568446438&4294967295,y=b+(w<<5&4294967295|w>>>27),w=S+(b^D&(y^b))+C[14]+3275163606&4294967295,S=y+(w<<9&4294967295|w>>>23),w=D+(y^b&(S^y))+C[3]+4107603335&4294967295,D=S+(w<<14&4294967295|w>>>18),w=b+(S^y&(D^S))+C[8]+1163531501&4294967295,b=D+(w<<20&4294967295|w>>>12),w=y+(D^S&(b^D))+C[13]+2850285829&4294967295,y=b+(w<<5&4294967295|w>>>27),w=S+(b^D&(y^b))+C[2]+4243563512&4294967295,S=y+(w<<9&4294967295|w>>>23),w=D+(y^b&(S^y))+C[7]+1735328473&4294967295,D=S+(w<<14&4294967295|w>>>18),w=b+(S^y&(D^S))+C[12]+2368359562&4294967295,b=D+(w<<20&4294967295|w>>>12),w=y+(b^D^S)+C[5]+4294588738&4294967295,y=b+(w<<4&4294967295|w>>>28),w=S+(y^b^D)+C[8]+2272392833&4294967295,S=y+(w<<11&4294967295|w>>>21),w=D+(S^y^b)+C[11]+1839030562&4294967295,D=S+(w<<16&4294967295|w>>>16),w=b+(D^S^y)+C[14]+4259657740&4294967295,b=D+(w<<23&4294967295|w>>>9),w=y+(b^D^S)+C[1]+2763975236&4294967295,y=b+(w<<4&4294967295|w>>>28),w=S+(y^b^D)+C[4]+1272893353&4294967295,S=y+(w<<11&4294967295|w>>>21),w=D+(S^y^b)+C[7]+4139469664&4294967295,D=S+(w<<16&4294967295|w>>>16),w=b+(D^S^y)+C[10]+3200236656&4294967295,b=D+(w<<23&4294967295|w>>>9),w=y+(b^D^S)+C[13]+681279174&4294967295,y=b+(w<<4&4294967295|w>>>28),w=S+(y^b^D)+C[0]+3936430074&4294967295,S=y+(w<<11&4294967295|w>>>21),w=D+(S^y^b)+C[3]+3572445317&4294967295,D=S+(w<<16&4294967295|w>>>16),w=b+(D^S^y)+C[6]+76029189&4294967295,b=D+(w<<23&4294967295|w>>>9),w=y+(b^D^S)+C[9]+3654602809&4294967295,y=b+(w<<4&4294967295|w>>>28),w=S+(y^b^D)+C[12]+3873151461&4294967295,S=y+(w<<11&4294967295|w>>>21),w=D+(S^y^b)+C[15]+530742520&4294967295,D=S+(w<<16&4294967295|w>>>16),w=b+(D^S^y)+C[2]+3299628645&4294967295,b=D+(w<<23&4294967295|w>>>9),w=y+(D^(b|~S))+C[0]+4096336452&4294967295,y=b+(w<<6&4294967295|w>>>26),w=S+(b^(y|~D))+C[7]+1126891415&4294967295,S=y+(w<<10&4294967295|w>>>22),w=D+(y^(S|~b))+C[14]+2878612391&4294967295,D=S+(w<<15&4294967295|w>>>17),w=b+(S^(D|~y))+C[5]+4237533241&4294967295,b=D+(w<<21&4294967295|w>>>11),w=y+(D^(b|~S))+C[12]+1700485571&4294967295,y=b+(w<<6&4294967295|w>>>26),w=S+(b^(y|~D))+C[3]+2399980690&4294967295,S=y+(w<<10&4294967295|w>>>22),w=D+(y^(S|~b))+C[10]+4293915773&4294967295,D=S+(w<<15&4294967295|w>>>17),w=b+(S^(D|~y))+C[1]+2240044497&4294967295,b=D+(w<<21&4294967295|w>>>11),w=y+(D^(b|~S))+C[8]+1873313359&4294967295,y=b+(w<<6&4294967295|w>>>26),w=S+(b^(y|~D))+C[15]+4264355552&4294967295,S=y+(w<<10&4294967295|w>>>22),w=D+(y^(S|~b))+C[6]+2734768916&4294967295,D=S+(w<<15&4294967295|w>>>17),w=b+(S^(D|~y))+C[13]+1309151649&4294967295,b=D+(w<<21&4294967295|w>>>11),w=y+(D^(b|~S))+C[4]+4149444226&4294967295,y=b+(w<<6&4294967295|w>>>26),w=S+(b^(y|~D))+C[11]+3174756917&4294967295,S=y+(w<<10&4294967295|w>>>22),w=D+(y^(S|~b))+C[2]+718787259&4294967295,D=S+(w<<15&4294967295|w>>>17),w=b+(S^(D|~y))+C[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+S&4294967295}i.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var b=y-this.blockSize,C=this.B,D=this.h,S=0;S<y;){if(D==0)for(;S<=b;)r(this,E,S),S+=this.blockSize;if(typeof E=="string"){for(;S<y;)if(C[D++]=E.charCodeAt(S++),D==this.blockSize){r(this,C),D=0;break}}else for(;S<y;)if(C[D++]=E[S++],D==this.blockSize){r(this,C),D=0;break}}this.h=D,this.o+=y},i.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var b=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=b&255,b/=256;for(this.u(E),E=Array(16),y=b=0;4>y;++y)for(var C=0;32>C;C+=8)E[b++]=this.g[y]>>>C&255;return E};function o(E,y){var b=a;return Object.prototype.hasOwnProperty.call(b,E)?b[E]:b[E]=y(E)}function s(E,y){this.h=y;for(var b=[],C=!0,D=E.length-1;0<=D;D--){var S=E[D]|0;C&&S==y||(b[D]=S,C=!1)}this.g=b}var a={};function c(E){return-128<=E&&128>E?o(E,function(y){return new s([y|0],0>y?-1:0)}):new s([E|0],0>E?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return M(u(-E));for(var y=[],b=1,C=0;E>=b;C++)y[C]=E/b|0,b*=4294967296;return new s(y,0)}function h(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return M(h(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(y,8)),C=p,D=0;D<E.length;D+=8){var S=Math.min(8,E.length-D),w=parseInt(E.substring(D,D+S),y);8>S?(S=u(Math.pow(y,S)),C=C.j(S).add(u(w))):(C=C.j(b),C=C.add(u(w)))}return C}var p=c(0),g=c(1),_=c(16777216);n=s.prototype,n.m=function(){if(x(this))return-M(this).m();for(var E=0,y=1,b=0;b<this.g.length;b++){var C=this.i(b);E+=(0<=C?C:4294967296+C)*y,y*=4294967296}return E},n.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(I(this))return"0";if(x(this))return"-"+M(this).toString(E);for(var y=u(Math.pow(E,6)),b=this,C="";;){var D=Z(b,y).g;b=V(b,D.j(y));var S=((0<b.g.length?b.g[0]:b.h)>>>0).toString(E);if(b=D,I(b))return S+C;for(;6>S.length;)S="0"+S;C=S+C}},n.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function I(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function x(E){return E.h==-1}n.l=function(E){return E=V(this,E),x(E)?-1:I(E)?0:1};function M(E){for(var y=E.g.length,b=[],C=0;C<y;C++)b[C]=~E.g[C];return new s(b,~E.h).add(g)}n.abs=function(){return x(this)?M(this):this},n.add=function(E){for(var y=Math.max(this.g.length,E.g.length),b=[],C=0,D=0;D<=y;D++){var S=C+(this.i(D)&65535)+(E.i(D)&65535),w=(S>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);C=w>>>16,S&=65535,w&=65535,b[D]=w<<16|S}return new s(b,b[b.length-1]&-2147483648?-1:0)};function V(E,y){return E.add(M(y))}n.j=function(E){if(I(this)||I(E))return p;if(x(this))return x(E)?M(this).j(M(E)):M(M(this).j(E));if(x(E))return M(this.j(M(E)));if(0>this.l(_)&&0>E.l(_))return u(this.m()*E.m());for(var y=this.g.length+E.g.length,b=[],C=0;C<2*y;C++)b[C]=0;for(C=0;C<this.g.length;C++)for(var D=0;D<E.g.length;D++){var S=this.i(C)>>>16,w=this.i(C)&65535,Ti=E.i(D)>>>16,Ka=E.i(D)&65535;b[2*C+2*D]+=w*Ka,z(b,2*C+2*D),b[2*C+2*D+1]+=S*Ka,z(b,2*C+2*D+1),b[2*C+2*D+1]+=w*Ti,z(b,2*C+2*D+1),b[2*C+2*D+2]+=S*Ti,z(b,2*C+2*D+2)}for(C=0;C<y;C++)b[C]=b[2*C+1]<<16|b[2*C];for(C=y;C<2*y;C++)b[C]=0;return new s(b,0)};function z(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function G(E,y){this.g=E,this.h=y}function Z(E,y){if(I(y))throw Error("division by zero");if(I(E))return new G(p,p);if(x(E))return y=Z(M(E),y),new G(M(y.g),M(y.h));if(x(y))return y=Z(E,M(y)),new G(M(y.g),y.h);if(30<E.g.length){if(x(E)||x(y))throw Error("slowDivide_ only works with positive integers.");for(var b=g,C=y;0>=C.l(E);)b=je(b),C=je(C);var D=ie(b,1),S=ie(C,1);for(C=ie(C,2),b=ie(b,2);!I(C);){var w=S.add(C);0>=w.l(E)&&(D=D.add(b),S=w),C=ie(C,1),b=ie(b,1)}return y=V(E,D.j(y)),new G(D,y)}for(D=p;0<=E.l(y);){for(b=Math.max(1,Math.floor(E.m()/y.m())),C=Math.ceil(Math.log(b)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),S=u(b),w=S.j(y);x(w)||0<w.l(E);)b-=C,S=u(b),w=S.j(y);I(S)&&(S=g),D=D.add(S),E=V(E,w)}return new G(D,E)}n.A=function(E){return Z(this,E).h},n.and=function(E){for(var y=Math.max(this.g.length,E.g.length),b=[],C=0;C<y;C++)b[C]=this.i(C)&E.i(C);return new s(b,this.h&E.h)},n.or=function(E){for(var y=Math.max(this.g.length,E.g.length),b=[],C=0;C<y;C++)b[C]=this.i(C)|E.i(C);return new s(b,this.h|E.h)},n.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),b=[],C=0;C<y;C++)b[C]=this.i(C)^E.i(C);return new s(b,this.h^E.h)};function je(E){for(var y=E.g.length+1,b=[],C=0;C<y;C++)b[C]=E.i(C)<<1|E.i(C-1)>>>31;return new s(b,E.h)}function ie(E,y){var b=y>>5;y%=32;for(var C=E.g.length-b,D=[],S=0;S<C;S++)D[S]=0<y?E.i(S+b)>>>y|E.i(S+b+1)<<32-y:E.i(S+b);return new s(D,E.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,fb=tM.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=h,Yr=tM.Integer=s}).apply(typeof eM<"u"?eM:typeof self<"u"?self:typeof window<"u"?window:{});var Af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},or={};var pb,Wq,fa,mb,kl,xf,gb,_b,vb;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,f){return l==Array.prototype||l==Object.prototype||(l[d]=f.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Af=="object"&&Af];for(var d=0;d<l.length;++d){var f=l[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=t(this);function r(l,d){if(d)e:{var f=i;l=l.split(".");for(var m=0;m<l.length-1;m++){var T=l[m];if(!(T in f))break e;f=f[T]}l=l[l.length-1],m=f[l],d=d(m),d!=m&&d!=null&&e(f,l,{configurable:!0,writable:!0,value:d})}}function o(l,d){l instanceof String&&(l+="");var f=0,m=!1,T={next:function(){if(!m&&f<l.length){var A=f++;return{value:d(A,l[A]),done:!1}}return m=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}r("Array.prototype.values",function(l){return l||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function c(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function u(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function h(l,d,f){return l.call.apply(l.bind,arguments)}function p(l,d,f){if(!l)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,m),l.apply(d,T)}}return function(){return l.apply(d,arguments)}}function g(l,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function _(l,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),l.apply(this,m)}}function I(l,d){function f(){}f.prototype=d.prototype,l.aa=d.prototype,l.prototype=new f,l.prototype.constructor=l,l.Qb=function(m,T,A){for(var j=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)j[Ue-2]=arguments[Ue];return d.prototype[T].apply(m,j)}}function x(l){let d=l.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=l[m];return f}return[]}function M(l,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(c(m)){let T=l.length||0,A=m.length||0;l.length=T+A;for(let j=0;j<A;j++)l[T+j]=m[j]}else l.push(m)}}class V{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function z(l){return/^[\s\xa0]*$/.test(l)}function G(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function Z(l){return Z[" "](l),l}Z[" "]=function(){};var je=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function ie(l,d,f){for(let m in l)d.call(f,l[m],m,l)}function E(l,d){for(let f in l)d.call(void 0,l[f],f,l)}function y(l){let d={};for(let f in l)d[f]=l[f];return d}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(l,d){let f,m;for(let T=1;T<arguments.length;T++){m=arguments[T];for(f in m)l[f]=m[f];for(let A=0;A<b.length;A++)f=b[A],Object.prototype.hasOwnProperty.call(m,f)&&(l[f]=m[f])}}function D(l){var d=1;l=l.split(":");let f=[];for(;0<d&&l.length;)f.push(l.shift()),d--;return l.length&&f.push(l.join(":")),f}function S(l){a.setTimeout(()=>{throw l},0)}function w(){var l=Wp;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class Ti{constructor(){this.h=this.g=null}add(d,f){let m=Ka.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var Ka=new V(()=>new Jk,l=>l.reset());class Jk{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ya,Qa=!1,Wp=new Ti,w0=()=>{let l=a.Promise.resolve(void 0);Ya=()=>{l.then(eO)}};var eO=()=>{for(var l;l=w();){try{l.h.call(l.g)}catch(f){S(f)}var d=Ka;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}Qa=!1};function hr(){this.s=this.s,this.C=this.C}hr.prototype.s=!1,hr.prototype.ma=function(){this.s||(this.s=!0,this.N())},hr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Tt(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}Tt.prototype.h=function(){this.defaultPrevented=!0};var tO=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return l}();function Za(l,d){if(Tt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var f=this.type=l.type,m=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(je){e:{try{Z(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else f=="mouseover"?d=l.fromElement:f=="mouseout"&&(d=l.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:nO[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Za.aa.h.call(this)}}I(Za,Tt);var nO={2:"touch",3:"pen",4:"mouse"};Za.prototype.h=function(){Za.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Xa="closure_listenable_"+(1e6*Math.random()|0),iO=0;function rO(l,d,f,m,T){this.listener=l,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=T,this.key=++iO,this.da=this.fa=!1}function Cu(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Du(l){this.src=l,this.g={},this.h=0}Du.prototype.add=function(l,d,f,m,T){var A=l.toString();l=this.g[A],l||(l=this.g[A]=[],this.h++);var j=Yp(l,d,m,T);return-1<j?(d=l[j],f||(d.fa=!1)):(d=new rO(d,this.src,A,!!m,T),d.fa=f,l.push(d)),d};function Kp(l,d){var f=d.type;if(f in l.g){var m=l.g[f],T=Array.prototype.indexOf.call(m,d,void 0),A;(A=0<=T)&&Array.prototype.splice.call(m,T,1),A&&(Cu(d),l.g[f].length==0&&(delete l.g[f],l.h--))}}function Yp(l,d,f,m){for(var T=0;T<l.length;++T){var A=l[T];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==m)return T}return-1}var Qp="closure_lm_"+(1e6*Math.random()|0),Zp={};function I0(l,d,f,m,T){if(m&&m.once)return C0(l,d,f,m,T);if(Array.isArray(d)){for(var A=0;A<d.length;A++)I0(l,d[A],f,m,T);return null}return f=tm(f),l&&l[Xa]?l.K(d,f,u(m)?!!m.capture:!!m,T):E0(l,d,f,!1,m,T)}function E0(l,d,f,m,T,A){if(!d)throw Error("Invalid event type");var j=u(T)?!!T.capture:!!T,Ue=Jp(l);if(Ue||(l[Qp]=Ue=new Du(l)),f=Ue.add(d,f,m,j,A),f.proxy)return f;if(m=oO(),f.proxy=m,m.src=l,m.listener=f,l.addEventListener)tO||(T=j),T===void 0&&(T=!1),l.addEventListener(d.toString(),m,T);else if(l.attachEvent)l.attachEvent(T0(d.toString()),m);else if(l.addListener&&l.removeListener)l.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function oO(){function l(f){return d.call(l.src,l.listener,f)}let d=sO;return l}function C0(l,d,f,m,T){if(Array.isArray(d)){for(var A=0;A<d.length;A++)C0(l,d[A],f,m,T);return null}return f=tm(f),l&&l[Xa]?l.L(d,f,u(m)?!!m.capture:!!m,T):E0(l,d,f,!0,m,T)}function D0(l,d,f,m,T){if(Array.isArray(d))for(var A=0;A<d.length;A++)D0(l,d[A],f,m,T);else m=u(m)?!!m.capture:!!m,f=tm(f),l&&l[Xa]?(l=l.i,d=String(d).toString(),d in l.g&&(A=l.g[d],f=Yp(A,f,m,T),-1<f&&(Cu(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete l.g[d],l.h--)))):l&&(l=Jp(l))&&(d=l.g[d.toString()],l=-1,d&&(l=Yp(d,f,m,T)),(f=-1<l?d[l]:null)&&Xp(f))}function Xp(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Xa])Kp(d.i,l);else{var f=l.type,m=l.proxy;d.removeEventListener?d.removeEventListener(f,m,l.capture):d.detachEvent?d.detachEvent(T0(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=Jp(d))?(Kp(f,l),f.h==0&&(f.src=null,d[Qp]=null)):Cu(l)}}}function T0(l){return l in Zp?Zp[l]:Zp[l]="on"+l}function sO(l,d){if(l.da)l=!0;else{d=new Za(d,this);var f=l.listener,m=l.ha||l.src;l.fa&&Xp(l),l=f.call(m,d)}return l}function Jp(l){return l=l[Qp],l instanceof Du?l:null}var em="__closure_events_fn_"+(1e9*Math.random()>>>0);function tm(l){return typeof l=="function"?l:(l[em]||(l[em]=function(d){return l.handleEvent(d)}),l[em])}function St(){hr.call(this),this.i=new Du(this),this.M=this,this.F=null}I(St,hr),St.prototype[Xa]=!0,St.prototype.removeEventListener=function(l,d,f,m){D0(this,l,d,f,m)};function Ut(l,d){var f,m=l.F;if(m)for(f=[];m;m=m.F)f.push(m);if(l=l.M,m=d.type||d,typeof d=="string")d=new Tt(d,l);else if(d instanceof Tt)d.target=d.target||l;else{var T=d;d=new Tt(m,l),C(d,T)}if(T=!0,f)for(var A=f.length-1;0<=A;A--){var j=d.g=f[A];T=Tu(j,m,!0,d)&&T}if(j=d.g=l,T=Tu(j,m,!0,d)&&T,T=Tu(j,m,!1,d)&&T,f)for(A=0;A<f.length;A++)j=d.g=f[A],T=Tu(j,m,!1,d)&&T}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var f=l.g[d],m=0;m<f.length;m++)Cu(f[m]);delete l.g[d],l.h--}}this.F=null},St.prototype.K=function(l,d,f,m){return this.i.add(String(l),d,!1,f,m)},St.prototype.L=function(l,d,f,m){return this.i.add(String(l),d,!0,f,m)};function Tu(l,d,f,m){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,A=0;A<d.length;++A){var j=d[A];if(j&&!j.da&&j.capture==f){var Ue=j.listener,vt=j.ha||j.src;j.fa&&Kp(l.i,j),T=Ue.call(vt,m)!==!1&&T}}return T&&!m.defaultPrevented}function S0(l,d,f){if(typeof l=="function")f&&(l=g(l,f));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(l,d||0)}function A0(l){l.g=S0(()=>{l.g=null,l.i&&(l.i=!1,A0(l))},l.l);let d=l.h;l.h=null,l.m.apply(null,d)}class aO extends hr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:A0(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ja(l){hr.call(this),this.h=l,this.g={}}I(Ja,hr);var x0=[];function R0(l){ie(l.g,function(d,f){this.g.hasOwnProperty(f)&&Xp(d)},l),l.g={}}Ja.prototype.N=function(){Ja.aa.N.call(this),R0(this)},Ja.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nm=a.JSON.stringify,cO=a.JSON.parse,lO=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function im(){}im.prototype.h=null;function M0(l){return l.h||(l.h=l.i())}function N0(){}var ec={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rm(){Tt.call(this,"d")}I(rm,Tt);function om(){Tt.call(this,"c")}I(om,Tt);var no={},P0=null;function Su(){return P0=P0||new St}no.La="serverreachability";function k0(l){Tt.call(this,no.La,l)}I(k0,Tt);function tc(l){let d=Su();Ut(d,new k0(d))}no.STAT_EVENT="statevent";function O0(l,d){Tt.call(this,no.STAT_EVENT,l),this.stat=d}I(O0,Tt);function Bt(l){let d=Su();Ut(d,new O0(d,l))}no.Ma="timingevent";function F0(l,d){Tt.call(this,no.Ma,l),this.size=d}I(F0,Tt);function nc(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},d)}function ic(){this.g=!0}ic.prototype.xa=function(){this.g=!1};function uO(l,d,f,m,T,A){l.info(function(){if(l.g)if(A)for(var j="",Ue=A.split("&"),vt=0;vt<Ue.length;vt++){var Ce=Ue[vt].split("=");if(1<Ce.length){var At=Ce[0];Ce=Ce[1];var xt=At.split("_");j=2<=xt.length&&xt[1]=="type"?j+(At+"="+Ce+"&"):j+(At+"=redacted&")}}else j=null;else j=A;return"XMLHTTP REQ ("+m+") [attempt "+T+"]: "+d+`
`+f+`
`+j})}function dO(l,d,f,m,T,A,j){l.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+T+"]: "+d+`
`+f+`
`+A+" "+j})}function ls(l,d,f,m){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+fO(l,f)+(m?" "+m:"")})}function hO(l,d){l.info(function(){return"TIMEOUT: "+d})}ic.prototype.info=function(){};function fO(l,d){if(!l.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(l=0;l<f.length;l++)if(Array.isArray(f[l])){var m=f[l];if(!(2>m.length)){var T=m[1];if(Array.isArray(T)&&!(1>T.length)){var A=T[0];if(A!="noop"&&A!="stop"&&A!="close")for(var j=1;j<T.length;j++)T[j]=""}}}}return nm(f)}catch{return d}}var Au={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},L0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},sm;function xu(){}I(xu,im),xu.prototype.g=function(){return new XMLHttpRequest},xu.prototype.i=function(){return{}},sm=new xu;function fr(l,d,f,m){this.j=l,this.i=d,this.l=f,this.R=m||1,this.U=new Ja(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new V0}function V0(){this.i=null,this.g="",this.h=!1}var j0={},am={};function cm(l,d,f){l.L=1,l.v=Pu(Si(d)),l.m=f,l.P=!0,U0(l,null)}function U0(l,d){l.F=Date.now(),Ru(l),l.A=Si(l.v);var f=l.A,m=l.R;Array.isArray(m)||(m=[String(m)]),eE(f.i,"t",m),l.C=0,f=l.j.J,l.h=new V0,l.g=vE(l.j,f?d:null,!l.m),0<l.O&&(l.M=new aO(g(l.Y,l,l.g),l.O)),d=l.U,f=l.g,m=l.ca;var T="readystatechange";Array.isArray(T)||(T&&(x0[0]=T.toString()),T=x0);for(var A=0;A<T.length;A++){var j=I0(f,T[A],m||d.handleEvent,!1,d.h||d);if(!j)break;d.g[j.key]=j}d=l.H?y(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),tc(),uO(l.i,l.u,l.A,l.l,l.R,l.m)}fr.prototype.ca=function(l){l=l.target;let d=this.M;d&&Ai(l)==3?d.j():this.Y(l)},fr.prototype.Y=function(l){try{if(l==this.g)e:{let xt=Ai(this.g);var d=this.g.Ba();let hs=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||aE(this.g)))){this.J||xt!=4||d==7||(d==8||0>=hs?tc(3):tc(2)),lm(this);var f=this.g.Z();this.X=f;t:if(B0(this)){var m=aE(this.g);l="";var T=m.length,A=Ai(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){io(this),rc(this);var j="";break t}this.h.i=new a.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,l+=this.h.i.decode(m[d],{stream:!(A&&d==T-1)});m.length=0,this.h.g+=l,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=f==200,dO(this.i,this.u,this.A,this.l,this.R,xt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,vt=this.g;if((Ue=vt.g?vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Ue)){var Ce=Ue;break t}}Ce=null}if(f=Ce)ls(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,um(this,f);else{this.o=!1,this.s=3,Bt(12),io(this),rc(this);break e}}if(this.P){f=!0;let Tn;for(;!this.J&&this.C<j.length;)if(Tn=pO(this,j),Tn==am){xt==4&&(this.s=4,Bt(14),f=!1),ls(this.i,this.l,null,"[Incomplete Response]");break}else if(Tn==j0){this.s=4,Bt(15),ls(this.i,this.l,j,"[Invalid Chunk]"),f=!1;break}else ls(this.i,this.l,Tn,null),um(this,Tn);if(B0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||j.length!=0||this.h.h||(this.s=1,Bt(16),f=!1),this.o=this.o&&f,!f)ls(this.i,this.l,j,"[Invalid Chunked Response]"),io(this),rc(this);else if(0<j.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),gm(At),At.M=!0,Bt(11))}}else ls(this.i,this.l,j,null),um(this,j);xt==4&&io(this),this.o&&!this.J&&(xt==4?pE(this.j,this):(this.o=!1,Ru(this)))}else MO(this.g),f==400&&0<j.indexOf("Unknown SID")?(this.s=3,Bt(12)):(this.s=0,Bt(13)),io(this),rc(this)}}}catch{}finally{}};function B0(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function pO(l,d){var f=l.C,m=d.indexOf(`
`,f);return m==-1?am:(f=Number(d.substring(f,m)),isNaN(f)?j0:(m+=1,m+f>d.length?am:(d=d.slice(m,m+f),l.C=m+f,d)))}fr.prototype.cancel=function(){this.J=!0,io(this)};function Ru(l){l.S=Date.now()+l.I,$0(l,l.I)}function $0(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=nc(g(l.ba,l),d)}function lm(l){l.B&&(a.clearTimeout(l.B),l.B=null)}fr.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(hO(this.i,this.A),this.L!=2&&(tc(),Bt(17)),io(this),this.s=2,rc(this)):$0(this,this.S-l)};function rc(l){l.j.G==0||l.J||pE(l.j,l)}function io(l){lm(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,R0(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function um(l,d){try{var f=l.j;if(f.G!=0&&(f.g==l||dm(f.h,l))){if(!l.K&&dm(f.h,l)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var T=m;if(T[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<l.F)Vu(f),Fu(f);else break e;mm(f),Bt(18)}}else f.za=T[1],0<f.za-f.T&&37500>T[2]&&f.F&&f.v==0&&!f.C&&(f.C=nc(g(f.Za,f),6e3));if(1>=q0(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else oo(f,11)}else if((l.K||f.g==l)&&Vu(f),!z(d))for(T=f.Da.g.parse(d),d=0;d<T.length;d++){let Ce=T[d];if(f.T=Ce[0],Ce=Ce[1],f.G==2)if(Ce[0]=="c"){f.K=Ce[1],f.ia=Ce[2];let At=Ce[3];At!=null&&(f.la=At,f.j.info("VER="+f.la));let xt=Ce[4];xt!=null&&(f.Aa=xt,f.j.info("SVER="+f.Aa));let hs=Ce[5];hs!=null&&typeof hs=="number"&&0<hs&&(m=1.5*hs,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let Tn=l.g;if(Tn){let Uu=Tn.g?Tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Uu){var A=m.h;A.g||Uu.indexOf("spdy")==-1&&Uu.indexOf("quic")==-1&&Uu.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(hm(A,A.h),A.h=null))}if(m.D){let _m=Tn.g?Tn.g.getResponseHeader("X-HTTP-Session-Id"):null;_m&&(m.ya=_m,ze(m.I,m.D,_m))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-l.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var j=l;if(m.qa=_E(m,m.J?m.ia:null,m.W),j.K){G0(m.h,j);var Ue=j,vt=m.L;vt&&(Ue.I=vt),Ue.B&&(lm(Ue),Ru(Ue)),m.g=j}else hE(m);0<f.i.length&&Lu(f)}else Ce[0]!="stop"&&Ce[0]!="close"||oo(f,7);else f.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?oo(f,7):pm(f):Ce[0]!="noop"&&f.l&&f.l.ta(Ce),f.v=0)}}tc(4)}catch{}}var mO=class{constructor(l,d){this.g=l,this.map=d}};function z0(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function H0(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function q0(l){return l.h?1:l.g?l.g.size:0}function dm(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function hm(l,d){l.g?l.g.add(d):l.h=d}function G0(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}z0.prototype.cancel=function(){if(this.i=W0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function W0(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(let f of l.g.values())d=d.concat(f.D);return d}return x(l.i)}function gO(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var d=[],f=l.length,m=0;m<f;m++)d.push(l[m]);return d}d=[],f=0;for(m in l)d[f++]=l[m];return d}function _O(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var d=[];l=l.length;for(var f=0;f<l;f++)d.push(f);return d}d=[],f=0;for(let m in l)d[f++]=m;return d}}}function K0(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var f=_O(l),m=gO(l),T=m.length,A=0;A<T;A++)d.call(void 0,m[A],f&&f[A],l)}var Y0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vO(l,d){if(l){l=l.split("&");for(var f=0;f<l.length;f++){var m=l[f].indexOf("="),T=null;if(0<=m){var A=l[f].substring(0,m);T=l[f].substring(m+1)}else A=l[f];d(A,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function ro(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ro){this.h=l.h,Mu(this,l.j),this.o=l.o,this.g=l.g,Nu(this,l.s),this.l=l.l;var d=l.i,f=new ac;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Q0(this,f),this.m=l.m}else l&&(d=String(l).match(Y0))?(this.h=!1,Mu(this,d[1]||"",!0),this.o=oc(d[2]||""),this.g=oc(d[3]||"",!0),Nu(this,d[4]),this.l=oc(d[5]||"",!0),Q0(this,d[6]||"",!0),this.m=oc(d[7]||"")):(this.h=!1,this.i=new ac(null,this.h))}ro.prototype.toString=function(){var l=[],d=this.j;d&&l.push(sc(d,Z0,!0),":");var f=this.g;return(f||d=="file")&&(l.push("//"),(d=this.o)&&l.push(sc(d,Z0,!0),"@"),l.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&l.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&l.push("/"),l.push(sc(f,f.charAt(0)=="/"?wO:bO,!0))),(f=this.i.toString())&&l.push("?",f),(f=this.m)&&l.push("#",sc(f,EO)),l.join("")};function Si(l){return new ro(l)}function Mu(l,d,f){l.j=f?oc(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Nu(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Q0(l,d,f){d instanceof ac?(l.i=d,CO(l.i,l.h)):(f||(d=sc(d,IO)),l.i=new ac(d,l.h))}function ze(l,d,f){l.i.set(d,f)}function Pu(l){return ze(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function oc(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function sc(l,d,f){return typeof l=="string"?(l=encodeURI(l).replace(d,yO),f&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function yO(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Z0=/[#\/\?@]/g,bO=/[#\?:]/g,wO=/[#\?]/g,IO=/[#\?@]/g,EO=/#/g;function ac(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function pr(l){l.g||(l.g=new Map,l.h=0,l.i&&vO(l.i,function(d,f){l.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=ac.prototype,n.add=function(l,d){pr(this),this.i=null,l=us(this,l);var f=this.g.get(l);return f||this.g.set(l,f=[]),f.push(d),this.h+=1,this};function X0(l,d){pr(l),d=us(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function J0(l,d){return pr(l),d=us(l,d),l.g.has(d)}n.forEach=function(l,d){pr(this),this.g.forEach(function(f,m){f.forEach(function(T){l.call(d,T,m,this)},this)},this)},n.na=function(){pr(this);let l=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let T=l[m];for(let A=0;A<T.length;A++)f.push(d[m])}return f},n.V=function(l){pr(this);let d=[];if(typeof l=="string")J0(this,l)&&(d=d.concat(this.g.get(us(this,l))));else{l=Array.from(this.g.values());for(let f=0;f<l.length;f++)d=d.concat(l[f])}return d},n.set=function(l,d){return pr(this),this.i=null,l=us(this,l),J0(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},n.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function eE(l,d,f){X0(l,d),0<f.length&&(l.i=null,l.g.set(us(l,d),x(f)),l.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let A=encodeURIComponent(String(m)),j=this.V(m);for(m=0;m<j.length;m++){var T=A;j[m]!==""&&(T+="="+encodeURIComponent(String(j[m]))),l.push(T)}}return this.i=l.join("&")};function us(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function CO(l,d){d&&!l.j&&(pr(l),l.i=null,l.g.forEach(function(f,m){var T=m.toLowerCase();m!=T&&(X0(this,m),eE(this,T,f))},l)),l.j=d}function DO(l,d){let f=new ic;if(a.Image){let m=new Image;m.onload=_(mr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=_(mr,f,"TestLoadImage: error",!1,d,m),m.onabort=_(mr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=_(mr,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=l}else d(!1)}function TO(l,d){let f=new ic,m=new AbortController,T=setTimeout(()=>{m.abort(),mr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:m.signal}).then(A=>{clearTimeout(T),A.ok?mr(f,"TestPingServer: ok",!0,d):mr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),mr(f,"TestPingServer: error",!1,d)})}function mr(l,d,f,m,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),m(f)}catch{}}function SO(){this.g=new lO}function AO(l,d,f){let m=f||"";try{K0(l,function(T,A){let j=T;u(T)&&(j=nm(T)),d.push(m+A+"="+encodeURIComponent(j))})}catch(T){throw d.push(m+"type="+encodeURIComponent("_badmap")),T}}function cc(l){this.l=l.Ub||null,this.j=l.eb||!1}I(cc,im),cc.prototype.g=function(){return new ku(this.l,this.j)},cc.prototype.i=function(l){return function(){return l}}({});function ku(l,d){St.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(ku,St),n=ku.prototype,n.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,uc(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lc(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,uc(this)),this.g&&(this.readyState=3,uc(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tE(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function tE(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?lc(this):uc(this),this.readyState==3&&tE(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,lc(this))},n.Qa=function(l){this.g&&(this.response=l,lc(this))},n.ga=function(){this.g&&lc(this)};function lc(l){l.readyState=4,l.l=null,l.j=null,l.v=null,uc(l)}n.setRequestHeader=function(l,d){this.u.append(l,d)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,l.push(f[0]+": "+f[1]),f=d.next();return l.join(`\r
`)};function uc(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ku.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function nE(l){let d="";return ie(l,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function fm(l,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=nE(f),typeof l=="string"?f!=null&&encodeURIComponent(String(f)):ze(l,d,f))}function Ze(l){St.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Ze,St);var xO=/^https?$/i,RO=["POST","PUT"];n=Ze.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():sm.g(),this.v=this.o?M0(this.o):M0(sm),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(A){iE(this,A);return}if(l=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var T in m)f.set(T,m[T]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let A of m.keys())f.set(A,m.get(A));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),T=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(RO,d,void 0))||m||T||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,j]of f)this.g.setRequestHeader(A,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sE(this),this.u=!0,this.g.send(l),this.u=!1}catch(A){iE(this,A)}};function iE(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,rE(l),Ou(l)}function rE(l){l.A||(l.A=!0,Ut(l,"complete"),Ut(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Ut(this,"complete"),Ut(this,"abort"),Ou(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ou(this,!0)),Ze.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?oE(this):this.bb())},n.bb=function(){oE(this)};function oE(l){if(l.h&&typeof s<"u"&&(!l.v[1]||Ai(l)!=4||l.Z()!=2)){if(l.u&&Ai(l)==4)S0(l.Ea,0,l);else if(Ut(l,"readystatechange"),Ai(l)==4){l.h=!1;try{let j=l.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=j===0){var T=String(l.D).match(Y0)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),m=!xO.test(T?T.toLowerCase():"")}f=m}if(f)Ut(l,"complete"),Ut(l,"success");else{l.m=6;try{var A=2<Ai(l)?l.g.statusText:""}catch{A=""}l.l=A+" ["+l.Z()+"]",rE(l)}}finally{Ou(l)}}}}function Ou(l,d){if(l.g){sE(l);let f=l.g,m=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||Ut(l,"ready");try{f.onreadystatechange=m}catch{}}}function sE(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function Ai(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<Ai(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),cO(d)}};function aE(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function MO(l){let d={};l=(l.g&&2<=Ai(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<l.length;m++){if(z(l[m]))continue;var f=D(l[m]);let T=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[T]||[];d[T]=A,A.push(f)}E(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function dc(l,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[l]||d}function cE(l){this.Aa=0,this.i=[],this.j=new ic,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=dc("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=dc("baseRetryDelayMs",5e3,l),this.cb=dc("retryDelaySeedMs",1e4,l),this.Wa=dc("forwardChannelMaxRetries",2,l),this.wa=dc("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new z0(l&&l.concurrentRequestLimit),this.Da=new SO,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=cE.prototype,n.la=8,n.G=1,n.connect=function(l,d,f,m){Bt(0),this.W=l,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=_E(this,null,this.W),Lu(this)};function pm(l){if(lE(l),l.G==3){var d=l.U++,f=Si(l.I);if(ze(f,"SID",l.K),ze(f,"RID",d),ze(f,"TYPE","terminate"),hc(l,f),d=new fr(l,l.j,d),d.L=2,d.v=Pu(Si(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=vE(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Ru(d)}gE(l)}function Fu(l){l.g&&(gm(l),l.g.cancel(),l.g=null)}function lE(l){Fu(l),l.u&&(a.clearTimeout(l.u),l.u=null),Vu(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Lu(l){if(!H0(l.h)&&!l.s){l.s=!0;var d=l.Ga;Ya||w0(),Qa||(Ya(),Qa=!0),Wp.add(d,l),l.B=0}}function NO(l,d){return q0(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=nc(g(l.Ga,l,d),mE(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let T=new fr(this,this.j,l),A=this.o;if(this.S&&(A?(A=y(A),C(A,this.S)):A=this.S),this.m!==null||this.O||(T.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=dE(this,T,d),f=Si(this.I),ze(f,"RID",l),ze(f,"CVER",22),this.D&&ze(f,"X-HTTP-Session-Id",this.D),hc(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(nE(A)))+"&"+d:this.m&&fm(f,this.m,A)),hm(this.h,T),this.Ua&&ze(f,"TYPE","init"),this.P?(ze(f,"$req",d),ze(f,"SID","null"),T.T=!0,cm(T,f,null)):cm(T,f,d),this.G=2}}else this.G==3&&(l?uE(this,l):this.i.length==0||H0(this.h)||uE(this))};function uE(l,d){var f;d?f=d.l:f=l.U++;let m=Si(l.I);ze(m,"SID",l.K),ze(m,"RID",f),ze(m,"AID",l.T),hc(l,m),l.m&&l.o&&fm(m,l.m,l.o),f=new fr(l,l.j,f,l.B+1),l.m===null&&(f.H=l.o),d&&(l.i=d.D.concat(l.i)),d=dE(l,f,1e3),f.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),hm(l.h,f),cm(f,m,d)}function hc(l,d){l.H&&ie(l.H,function(f,m){ze(d,m,f)}),l.l&&K0({},function(f,m){ze(d,m,f)})}function dE(l,d,f){f=Math.min(l.i.length,f);var m=l.l?g(l.l.Na,l.l,l):null;e:{var T=l.i;let A=-1;for(;;){let j=["count="+f];A==-1?0<f?(A=T[0].g,j.push("ofs="+A)):A=0:j.push("ofs="+A);let Ue=!0;for(let vt=0;vt<f;vt++){let Ce=T[vt].g,At=T[vt].map;if(Ce-=A,0>Ce)A=Math.max(0,T[vt].g-100),Ue=!1;else try{AO(At,j,"req"+Ce+"_")}catch{m&&m(At)}}if(Ue){m=j.join("&");break e}}}return l=l.i.splice(0,f),d.D=l,m}function hE(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;Ya||w0(),Qa||(Ya(),Qa=!0),Wp.add(d,l),l.v=0}}function mm(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=nc(g(l.Fa,l),mE(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,fE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=nc(g(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bt(10),Fu(this),fE(this))};function gm(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function fE(l){l.g=new fr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Si(l.qa);ze(d,"RID","rpc"),ze(d,"SID",l.K),ze(d,"AID",l.T),ze(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&ze(d,"TO",l.ja),ze(d,"TYPE","xmlhttp"),hc(l,d),l.m&&l.o&&fm(d,l.m,l.o),l.L&&(l.g.I=l.L);var f=l.g;l=l.ia,f.L=1,f.v=Pu(Si(d)),f.m=null,f.P=!0,U0(f,l)}n.Za=function(){this.C!=null&&(this.C=null,Fu(this),mm(this),Bt(19))};function Vu(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function pE(l,d){var f=null;if(l.g==d){Vu(l),gm(l),l.g=null;var m=2}else if(dm(l.h,d))f=d.D,G0(l.h,d),m=1;else return;if(l.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var T=l.B;m=Su(),Ut(m,new F0(m,f)),Lu(l)}else hE(l);else if(T=d.s,T==3||T==0&&0<d.X||!(m==1&&NO(l,d)||m==2&&mm(l)))switch(f&&0<f.length&&(d=l.h,d.i=d.i.concat(f)),T){case 1:oo(l,5);break;case 4:oo(l,10);break;case 3:oo(l,6);break;default:oo(l,2)}}}function mE(l,d){let f=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(f*=2),f*d}function oo(l,d){if(l.j.info("Error code "+d),d==2){var f=g(l.fb,l),m=l.Xa;let T=!m;m=new ro(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Mu(m,"https"),Pu(m),T?DO(m.toString(),f):TO(m.toString(),f)}else Bt(2);l.G=0,l.l&&l.l.sa(d),gE(l),lE(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function gE(l){if(l.G=0,l.ka=[],l.l){let d=W0(l.h);(d.length!=0||l.i.length!=0)&&(M(l.ka,d),M(l.ka,l.i),l.h.i.length=0,x(l.i),l.i.length=0),l.l.ra()}}function _E(l,d,f){var m=f instanceof ro?Si(f):new ro(f);if(m.g!="")d&&(m.g=d+"."+m.g),Nu(m,m.s);else{var T=a.location;m=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var A=new ro(null);m&&Mu(A,m),d&&(A.g=d),T&&Nu(A,T),f&&(A.l=f),m=A}return f=l.D,d=l.ya,f&&d&&ze(m,f,d),ze(m,"VER",l.la),hc(l,m),m}function vE(l,d,f){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Ze(new cc({eb:f})):new Ze(l.pa),d.Ha(l.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function yE(){}n=yE.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ju(){}ju.prototype.g=function(l,d){return new Zt(l,d)};function Zt(l,d){St.call(this),this.g=new cE(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!z(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!z(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new ds(this)}I(Zt,St),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){pm(this.g)},Zt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var f={};f.__data__=l,l=f}else this.u&&(f={},f.__data__=nm(l),l=f);d.i.push(new mO(d.Ya++,l)),d.G==3&&Lu(d)},Zt.prototype.N=function(){this.g.l=null,delete this.j,pm(this.g),delete this.g,Zt.aa.N.call(this)};function bE(l){rm.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(let f in d){l=f;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}I(bE,rm);function wE(){om.call(this),this.status=1}I(wE,om);function ds(l){this.g=l}I(ds,yE),ds.prototype.ua=function(){Ut(this.g,"a")},ds.prototype.ta=function(l){Ut(this.g,new bE(l))},ds.prototype.sa=function(l){Ut(this.g,new wE)},ds.prototype.ra=function(){Ut(this.g,"b")},ju.prototype.createWebChannel=ju.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,vb=or.createWebChannelTransport=function(){return new ju},_b=or.getStatEventTarget=function(){return Su()},gb=or.Event=no,xf=or.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Au.NO_ERROR=0,Au.TIMEOUT=8,Au.HTTP_ERROR=6,kl=or.ErrorCode=Au,L0.COMPLETE="complete",mb=or.EventType=L0,N0.EventType=ec,ec.OPEN="a",ec.CLOSE="b",ec.ERROR="c",ec.MESSAGE="d",St.prototype.listen=St.prototype.K,fa=or.WebChannel=N0,Wq=or.FetchXmlHttpFactory=cc,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,pb=or.XhrIo=Ze}).apply(typeof Af<"u"?Af:typeof self<"u"?self:typeof window<"u"?window:{});var nM="@firebase/firestore";var _t=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};_t.UNAUTHENTICATED=new _t(null),_t.GOOGLE_CREDENTIALS=new _t("google-credentials-uid"),_t.FIRST_PARTY=new _t("first-party-uid"),_t.MOCK_USER=new _t("mock-user");var ka="10.14.0";var qo=new zr("@firebase/firestore");function Ol(){return qo.logLevel}function q(n,...e){if(qo.logLevel<=ye.DEBUG){let t=e.map(iI);qo.debug(`Firestore (${ka}): ${n}`,...t)}}function sr(n,...e){if(qo.logLevel<=ye.ERROR){let t=e.map(iI);qo.error(`Firestore (${ka}): ${n}`,...t)}}function ba(n,...e){if(qo.logLevel<=ye.WARN){let t=e.map(iI);qo.warn(`Firestore (${ka}): ${n}`,...t)}}function iI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function re(n="Unexpected state"){let e=`FIRESTORE (${ka}) INTERNAL ASSERTION FAILED: `+n;throw sr(e),new Error(e)}function Le(n,e){n||re()}function ae(n,e){return n}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$=class extends kt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Bn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var kf=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Eb=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_t.UNAUTHENTICATED))}shutdown(){}},Cb=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Db=class{constructor(e){this.t=e,this.currentUser=_t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Le(this.o===void 0);let i=this.i,r=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve(),o=new Bn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Bn,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>v(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Bn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Le(typeof i.accessToken=="string"),new kf(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string"),new _t(e)}},Tb=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=_t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Sb=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Tb(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(_t.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ab=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},xb=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Le(this.o===void 0);let i=o=>{o.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Le(typeof t.token=="string"),this.R=t.token,new Ab(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Kq(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}var Of=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=Kq(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%e.length))}return i}};function De(n,e){return n<e?-1:n>e?1:0}function wa(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}var Ct=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new $(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new n(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var he=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Ct(0,0))}static max(){return new n(new Ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ff=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&re(),i===void 0?i=e.length-t:i>e.length-t&&re(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Qe=class n extends Ff{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new $(P.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},Yq=/^[_a-zA-Z][_a-zA-Z0-9]*$/,dn=class n extends Ff{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return Yq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],i="",r=0,o=()=>{if(i.length===0)throw new $(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},s=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new $(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new $(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(s=!s,r++):a!=="."||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new $(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var X=class n{constructor(e){this.path=e}static fromPath(e){return new n(Qe.fromString(e))}static fromName(e){return new n(Qe.fromString(e).popFirst(5))}static empty(){return new n(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Qe(e.slice()))}};var Rb=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};Rb.UNKNOWN_ID=-1;function Qq(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=he.fromTimestamp(i===1e9?new Ct(t+1,0):new Ct(t,i));return new Go(r,X.empty(),e)}function Zq(n){return new Go(n.readTime,n.key,-1)}var Go=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(he.min(),X.empty(),-1)}static max(){return new n(he.max(),X.empty(),-1)}};function Xq(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=X.comparator(n.documentKey,e.documentKey),t!==0?t:De(n.largestBatchId,e.largestBatchId))}var Jq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Mb=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Jl(n){return v(this,null,function*(){if(n.code!==P.FAILED_PRECONDITION||n.message!==Jq)throw n;q("LocalStore","Unexpectedly lost primary lease")})}var L=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},c=>i(c))}),s=!0,o===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;t(e[u]).next(h=>{s[u]=h,++a,a===o&&i(s)},h=>r(h))}})}static doWhile(e,t){return new n((i,r)=>{let o=()=>{e()===!0?t().next(()=>{o()},r):i()};o()})}};function eG(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function eu(n){return n.name==="IndexedDbTransactionError"}var FM=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function fp(n){return n==null}function Bl(n){return n===0&&1/n==-1/0}function tG(n){return typeof n=="number"&&Number.isInteger(n)&&!Bl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var nG=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Rte=[...nG,"documentOverlays"],iG=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rG=iG,oG=[...rG,"indexConfiguration","indexState","indexEntries"];var Mte=[...oG,"globals"];function iM(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Jo(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function LM(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Je=class n{constructor(e,t){this.comparator=e,this.root=t||vi.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vi.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _a(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _a(this.root,e,this.comparator,!1)}getReverseIterator(){return new _a(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _a(this.root,e,this.comparator,!0)}},_a=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},vi=class n{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new n(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):o===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw re();let e=this.left.check();if(e!==this.right.check())throw re();return e+(this.isRed()?0:1)}};vi.EMPTY=null,vi.RED=!0,vi.BLACK=!1;vi.EMPTY=new class{constructor(){this.size=0}get key(){throw re()}get value(){throw re()}get color(){throw re()}get left(){throw re()}get right(){throw re()}copy(e,t,i,r,o){return this}insert(e,t,i){return new vi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Lt=class n{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Lf(this.data.getIterator())}getIteratorFrom(e){return new Lf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Lf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var En=class n{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Lt(dn.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return wa(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var Vf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var jt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Vf("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};jt.EMPTY_BYTE_STRING=new jt("");var sG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ar(n){if(Le(!!n),typeof n=="string"){let e=0,t=sG.exec(n);if(Le(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ye(n.seconds),nanos:Ye(n.nanos)}}function Ye(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Zr(n){return typeof n=="string"?jt.fromBase64String(n):jt.fromUint8Array(n)}function rI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function oI(n){let e=n.mapValue.fields.__previous_value__;return rI(e)?oI(e):e}function $l(n){let e=ar(n.mapValue.fields.__local_write_time__.timestampValue);return new Ct(e.seconds,e.nanos)}var Nb=class{constructor(e,t,i,r,o,s,a,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},jf=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Rf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Wo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?rI(n)?4:jM(n)?9007199254740991:VM(n)?10:11:re()}function Ii(n,e){if(n===e)return!0;let t=Wo(n);if(t!==Wo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $l(n).isEqual($l(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=ar(r.timestampValue),a=ar(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,o){return Zr(r.bytesValue).isEqual(Zr(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Ye(r.geoPointValue.latitude)===Ye(o.geoPointValue.latitude)&&Ye(r.geoPointValue.longitude)===Ye(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Ye(r.integerValue)===Ye(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=Ye(r.doubleValue),a=Ye(o.doubleValue);return s===a?Bl(s)===Bl(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return wa(n.arrayValue.values||[],e.arrayValue.values||[],Ii);case 10:case 11:return function(r,o){let s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(iM(s)!==iM(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Ii(s[c],a[c])))return!1;return!0}(n,e);default:return re()}}function zl(n,e){return(n.values||[]).find(t=>Ii(t,e))!==void 0}function Ia(n,e){if(n===e)return 0;let t=Wo(n),i=Wo(e);if(t!==i)return De(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ye(o.integerValue||o.doubleValue),c=Ye(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return rM(n.timestampValue,e.timestampValue);case 4:return rM($l(n),$l(e));case 5:return De(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Zr(o),c=Zr(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let h=De(a[u],c[u]);if(h!==0)return h}return De(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=De(Ye(o.latitude),Ye(s.latitude));return a!==0?a:De(Ye(o.longitude),Ye(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return oM(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,u,h;let p=o.fields||{},g=s.fields||{},_=(a=p.value)===null||a===void 0?void 0:a.arrayValue,I=(c=g.value)===null||c===void 0?void 0:c.arrayValue,x=De(((u=_?.values)===null||u===void 0?void 0:u.length)||0,((h=I?.values)===null||h===void 0?void 0:h.length)||0);return x!==0?x:oM(_,I)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Rf.mapValue&&s===Rf.mapValue)return 0;if(o===Rf.mapValue)return 1;if(s===Rf.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){let g=De(c[p],h[p]);if(g!==0)return g;let _=Ia(a[c[p]],u[h[p]]);if(_!==0)return _}return De(c.length,h.length)}(n.mapValue,e.mapValue);default:throw re()}}function rM(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return De(n,e);let t=ar(n),i=ar(e),r=De(t.seconds,i.seconds);return r!==0?r:De(t.nanos,i.nanos)}function oM(n,e){let t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){let o=Ia(t[r],i[r]);if(o)return o}return De(t.length,i.length)}function Ea(n){return Pb(n)}function Pb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let i=ar(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Zr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return X.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(let o of t.values||[])r?r=!1:i+=",",i+=Pb(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){let i=Object.keys(t.fields||{}).sort(),r="{",o=!0;for(let s of i)o?o=!1:r+=",",r+=`${s}:${Pb(t.fields[s])}`;return r+"}"}(n.mapValue):re()}function sM(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function kb(n){return!!n&&"integerValue"in n}function sI(n){return!!n&&"arrayValue"in n}function aM(n){return!!n&&"nullValue"in n}function cM(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Nf(n){return!!n&&"mapValue"in n}function VM(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ll(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Jo(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ll(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ll(n.arrayValue.values[t]);return e}return Object.assign({},n)}function jM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var un=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Nf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(t)}setAll(e){let t=dn.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=Ll(s):r.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){let t=this.field(e.popLast());Nf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ii(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Nf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Jo(t,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new n(Ll(this.value))}};function UM(n){let e=[];return Jo(n.fields,(t,i)=>{let r=new dn([t]);if(Nf(i)){let o=UM(i.mapValue).fields;if(o.length===0)e.push(r);else for(let s of o)e.push(r.child(s))}else e.push(r)}),new En(e)}var $n=class n{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,he.min(),he.min(),he.min(),un.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,he.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,he.min(),he.min(),un.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,he.min(),he.min(),un.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ca=class{constructor(e,t){this.position=e,this.inclusive=t}};function lM(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let o=e[r],s=n.position[r];if(o.field.isKeyField()?i=X.comparator(X.fromName(s.referenceValue),t.key):i=Ia(s,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function uM(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ii(n.position[t],e.position[t]))return!1;return!0}var Da=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function aG(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Uf=class{},dt=class n extends Uf{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Fb(e,t,i):t==="array-contains"?new jb(e,i):t==="in"?new Ub(e,i):t==="not-in"?new Bb(e,i):t==="array-contains-any"?new $b(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Lb(e,i):new Vb(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ia(t,this.value)):t!==null&&Wo(this.value)===Wo(t)&&this.matchesComparison(Ia(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},zn=class n extends Uf{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return BM(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function BM(n){return n.op==="and"}function $M(n){return cG(n)&&BM(n)}function cG(n){for(let e of n.filters)if(e instanceof zn)return!1;return!0}function Ob(n){if(n instanceof dt)return n.field.canonicalString()+n.op.toString()+Ea(n.value);if($M(n))return n.filters.map(e=>Ob(e)).join(",");{let e=n.filters.map(t=>Ob(t)).join(",");return`${n.op}(${e})`}}function zM(n,e){return n instanceof dt?function(i,r){return r instanceof dt&&i.op===r.op&&i.field.isEqual(r.field)&&Ii(i.value,r.value)}(n,e):n instanceof zn?function(i,r){return r instanceof zn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,s,a)=>o&&zM(s,r.filters[a]),!0):!1}(n,e):void re()}function HM(n){return n instanceof dt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ea(t.value)}`}(n):n instanceof zn?function(t){return t.op.toString()+" {"+t.getFilters().map(HM).join(" ,")+"}"}(n):"Filter"}var Fb=class extends dt{constructor(e,t,i){super(e,t,i),this.key=X.fromName(i.referenceValue)}matches(e){let t=X.comparator(e.key,this.key);return this.matchesComparison(t)}},Lb=class extends dt{constructor(e,t){super(e,"in",t),this.keys=qM("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Vb=class extends dt{constructor(e,t){super(e,"not-in",t),this.keys=qM("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function qM(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>X.fromName(i.referenceValue))}var jb=class extends dt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return sI(t)&&zl(t.arrayValue,this.value)}},Ub=class extends dt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&zl(this.value.arrayValue,t)}},Bb=class extends dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!zl(this.value.arrayValue,t)}},$b=class extends dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!sI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>zl(this.value.arrayValue,i))}};var zb=class{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function dM(n,e=null,t=[],i=[],r=null,o=null,s=null){return new zb(n,e,t,i,r,o,s)}function aI(n){let e=ae(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Ob(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),fp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ea(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ea(i)).join(",")),e.ue=t}return e.ue}function cI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!aG(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!zM(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!uM(n.startAt,e.startAt)&&uM(n.endAt,e.endAt)}function Hb(n){return X.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ko=class{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function lG(n,e,t,i,r,o,s,a){return new Ko(n,e,t,i,r,o,s,a)}function lI(n){return new Ko(n)}function hM(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function GM(n){return n.collectionGroup!==null}function Vl(n){let e=ae(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Lt(dn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Da(o,i))}),t.has(dn.keyField().canonicalString())||e.ce.push(new Da(dn.keyField(),i))}return e.ce}function yi(n){let e=ae(n);return e.le||(e.le=uG(e,Vl(n))),e.le}function uG(n,e){if(n.limitType==="F")return dM(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new Da(r.field,o)});let t=n.endAt?new Ca(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ca(n.startAt.position,n.startAt.inclusive):null;return dM(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function qb(n,e){let t=n.filters.concat([e]);return new Ko(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Gb(n,e,t){return new Ko(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function pp(n,e){return cI(yi(n),yi(e))&&n.limitType===e.limitType}function WM(n){return`${aI(yi(n))}|lt:${n.limitType}`}function pa(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>HM(r)).join(", ")}]`),fp(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Ea(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Ea(r)).join(",")),`Target(${i})`}(yi(n))}; limitType=${n.limitType})`}function mp(n,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):X.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(let o of Vl(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(s,a,c){let u=lM(s,a,c);return s.inclusive?u<=0:u<0}(i.startAt,Vl(i),r)||i.endAt&&!function(s,a,c){let u=lM(s,a,c);return s.inclusive?u>=0:u>0}(i.endAt,Vl(i),r))}(n,e)}function dG(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function KM(n){return(e,t)=>{let i=!1;for(let r of Vl(n)){let o=hG(r,e,t);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function hG(n,e,t){let i=n.field.isKeyField()?X.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?Ia(c,u):re()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return re()}}var Xr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Jo(this.inner,(t,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return LM(this.inner)}size(){return this.innerSize}};var fG=new Je(X.comparator);function cr(){return fG}var YM=new Je(X.comparator);function Fl(...n){let e=YM;for(let t of n)e=e.insert(t.key,t);return e}function QM(n){let e=YM;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function $o(){return jl()}function ZM(){return jl()}function jl(){return new Xr(n=>n.toString(),(n,e)=>n.isEqual(e))}var pG=new Je(X.comparator),mG=new Lt(X.comparator);function be(...n){let e=mG;for(let t of n)e=e.add(t);return e}var gG=new Lt(De);function _G(){return gG}function uI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bl(e)?"-0":e}}function XM(n){return{integerValue:""+n}}function JM(n,e){return tG(e)?XM(e):uI(n,e)}var Ta=class{constructor(){this._=void 0}};function vG(n,e,t){return n instanceof Sa?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&rI(o)&&(o=oI(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Yo?tN(n,e):n instanceof Qo?nN(n,e):function(r,o){let s=eN(r,o),a=fM(s)+fM(r.Pe);return kb(s)&&kb(r.Pe)?XM(a):uI(r.serializer,a)}(n,e)}function yG(n,e,t){return n instanceof Yo?tN(n,e):n instanceof Qo?nN(n,e):t}function eN(n,e){return n instanceof Zo?function(i){return kb(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var Sa=class extends Ta{},Yo=class extends Ta{constructor(e){super(),this.elements=e}};function tN(n,e){let t=iN(e);for(let i of n.elements)t.some(r=>Ii(r,i))||t.push(i);return{arrayValue:{values:t}}}var Qo=class extends Ta{constructor(e){super(),this.elements=e}};function nN(n,e){let t=iN(e);for(let i of n.elements)t=t.filter(r=>!Ii(r,i));return{arrayValue:{values:t}}}var Zo=class extends Ta{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function fM(n){return Ye(n.integerValue||n.doubleValue)}function iN(n){return sI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var Wb=class{constructor(e,t){this.field=e,this.transform=t}};function bG(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof Yo&&r instanceof Yo||i instanceof Qo&&r instanceof Qo?wa(i.elements,r.elements,Ii):i instanceof Zo&&r instanceof Zo?Ii(i.Pe,r.Pe):i instanceof Sa&&r instanceof Sa}(n.transform,e.transform)}var Kb=class{constructor(e,t){this.version=e,this.transformResults=t}},bi=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Pf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Aa=class{};function rN(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Hl(n.key,bi.none()):new Xo(n.key,n.data,bi.none());{let t=n.data,i=un.empty(),r=new Lt(dn.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new Ei(n.key,i,new En(r.toArray()),bi.none())}}function wG(n,e,t){n instanceof Xo?function(r,o,s){let a=r.value.clone(),c=mM(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ei?function(r,o,s){if(!Pf(r.precondition,o))return void o.convertToUnknownDocument(s.version);let a=mM(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(oN(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Ul(n,e,t,i){return n instanceof Xo?function(o,s,a,c){if(!Pf(o.precondition,s))return a;let u=o.value.clone(),h=gM(o.fieldTransforms,c,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ei?function(o,s,a,c){if(!Pf(o.precondition,s))return a;let u=gM(o.fieldTransforms,c,s),h=s.data;return h.setAll(oN(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,i):function(o,s,a){return Pf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function IG(n,e){let t=null;for(let i of n.fieldTransforms){let r=e.data.field(i.field),o=eN(i.transform,r||null);o!=null&&(t===null&&(t=un.empty()),t.set(i.field,o))}return t||null}function pM(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&wa(i,r,(o,s)=>bG(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Xo=class extends Aa{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Ei=class extends Aa{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function oN(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function mM(n,e,t){let i=new Map;Le(n.length===t.length);for(let r=0;r<t.length;r++){let o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,yG(s,a,t[r]))}return i}function gM(n,e,t){let i=new Map;for(let r of n){let o=r.transform,s=t.data.field(r.field);i.set(r.field,vG(o,s,e))}return i}var Hl=class extends Aa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Yb=class extends Aa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Qb=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&wG(o,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ul(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=Ul(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=ZM();return this.mutations.forEach(r=>{let o=e.get(r.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;let c=rN(s,a);c!==null&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(he.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),be())}isEqual(e){return this.batchId===e.batchId&&wa(this.mutations,e.mutations,(t,i)=>pM(t,i))&&wa(this.baseMutations,e.baseMutations,(t,i)=>pM(t,i))}},Zb=class n{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Le(e.mutations.length===i.length);let r=function(){return pG}(),o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new n(e,t,i,r)}};var Xb=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Jb=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var lt,we;function EG(n){switch(n){default:return re();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function sN(n){if(n===void 0)return sr("GRPC error has no .code"),P.UNKNOWN;switch(n){case lt.OK:return P.OK;case lt.CANCELLED:return P.CANCELLED;case lt.UNKNOWN:return P.UNKNOWN;case lt.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case lt.INTERNAL:return P.INTERNAL;case lt.UNAVAILABLE:return P.UNAVAILABLE;case lt.UNAUTHENTICATED:return P.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case lt.NOT_FOUND:return P.NOT_FOUND;case lt.ALREADY_EXISTS:return P.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return P.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case lt.ABORTED:return P.ABORTED;case lt.OUT_OF_RANGE:return P.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return P.UNIMPLEMENTED;case lt.DATA_LOSS:return P.DATA_LOSS;default:return re()}}(we=lt||(lt={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";var _M=null;function CG(){return new TextEncoder}var DG=new Yr([4294967295,4294967295],0);function vM(n){let e=CG().encode(n),t=new fb;return t.update(e),new Uint8Array(t.digest())}function yM(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Yr([t,i],0),new Yr([r,o],0)]}var ew=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new zo(`Invalid padding: ${t}`);if(i<0)throw new zo(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new zo(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new zo(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Yr.fromNumber(this.Ie)}Ee(e,t,i){let r=e.add(t.multiply(Yr.fromNumber(i)));return r.compare(DG)===1&&(r=new Yr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=vM(e),[i,r]=yM(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(i,r,o);if(!this.de(s))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=vM(e),[i,r]=yM(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(i,r,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},zo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Bf=class n{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,ql.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(he.min(),r,new Je(De),cr(),be())}},ql=class n{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,be(),be(),be())}};var va=class{constructor(e,t,i,r){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=r}},$f=class{constructor(e,t){this.targetId=e,this.me=t}},zf=class{constructor(e,t,i=jt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},Hf=class{constructor(){this.fe=0,this.ge=wM(),this.pe=jt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=be(),t=be(),i=be();return this.ge.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:re()}}),new ql(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=wM()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Le(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},tw=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=cr(),this.qe=bM(),this.Qe=new Je(De)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:re()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,r)=>{this.ze(r)&&t(r)})}He(e){let t=e.targetId,i=e.me.count,r=this.Je(t);if(r){let o=r.target;if(Hb(o))if(i===0){let s=new X(o.path);this.Ue(t,s,$n.newNoDocument(s,he.min()))}else Le(i===1);else{let s=this.Ye(t);if(s!==i){let a=this.Ze(e),c=a?this.Xe(a,e,s):1;if(c!==0){this.je(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,u)}_M?.et(function(h,p,g,_,I){var x,M,V,z,G,Z;let je={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},ie=p.unchangedNames;return ie&&(je.bloomFilter={applied:I===0,hashCount:(x=ie?.hashCount)!==null&&x!==void 0?x:0,bitmapLength:(z=(V=(M=ie?.bits)===null||M===void 0?void 0:M.bitmap)===null||V===void 0?void 0:V.length)!==null&&z!==void 0?z:0,padding:(Z=(G=ie?.bits)===null||G===void 0?void 0:G.padding)!==null&&Z!==void 0?Z:0,mightContain:E=>{var y;return(y=_?.mightContain(E))!==null&&y!==void 0&&y}}),je}(s,e.me,this.Le.tt(),a,c))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t,s,a;try{s=Zr(i).toUint8Array()}catch(c){if(c instanceof Vf)return ba("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new ew(s,r,o)}catch(c){return ba(c instanceof zo?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){let i=this.Le.getRemoteKeysForTarget(t),r=0;return i.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),r++)}),r}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&Hb(a.target)){let c=new X(a.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,$n.newNoDocument(c,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let i=be();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let r=new Bf(e,t,this.Qe,this.ke,i);return this.ke=cr(),this.qe=bM(),this.Qe=new Je(De),r}$e(e,t){if(!this.ze(e))return;let i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Hf,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Lt(De),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||q("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Hf),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function bM(){return new Je(X.comparator)}function wM(){return new Je(X.comparator)}var TG={asc:"ASCENDING",desc:"DESCENDING"},SG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AG={and:"AND",or:"OR"},nw=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function iw(n,e){return n.useProto3Json||fp(e)?e:{value:e}}function qf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function xG(n,e){return qf(n,e.toTimestamp())}function wi(n){return Le(!!n),he.fromTimestamp(function(t){let i=ar(t);return new Ct(i.seconds,i.nanos)}(n))}function dI(n,e){return rw(n,e).canonicalString()}function rw(n,e){let t=function(r){return new Qe(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function cN(n){let e=Qe.fromString(n);return Le(fN(e)),e}function ow(n,e){return dI(n.databaseId,e.path)}function yb(n,e){let t=cN(e);if(t.get(1)!==n.databaseId.projectId)throw new $(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new X(uN(t))}function lN(n,e){return dI(n.databaseId,e)}function RG(n){let e=cN(n);return e.length===4?Qe.emptyPath():uN(e)}function sw(n){return new Qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function uN(n){return Le(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function IM(n,e,t){return{name:ow(n,e),fields:t.value.mapValue.fields}}function MG(n,e){let t;if("targetChange"in e){e.targetChange;let i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:re()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(u,h){return u.useProto3Json?(Le(h===void 0||typeof h=="string"),jt.fromBase64String(h||"")):(Le(h===void 0||h instanceof Buffer||h instanceof Uint8Array),jt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let h=u.code===void 0?P.UNKNOWN:sN(u.code);return new $(h,u.message||"")}(s);t=new zf(i,r,o,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=yb(n,i.document.name),o=wi(i.document.updateTime),s=i.document.createTime?wi(i.document.createTime):he.min(),a=new un({mapValue:{fields:i.document.fields}}),c=$n.newFoundDocument(r,o,s,a),u=i.targetIds||[],h=i.removedTargetIds||[];t=new va(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=yb(n,i.document),o=i.readTime?wi(i.readTime):he.min(),s=$n.newNoDocument(r,o),a=i.removedTargetIds||[];t=new va([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=yb(n,i.document),o=i.removedTargetIds||[];t=new va([],o,r,null)}else{if(!("filter"in e))return re();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,s=new Jb(r,o),a=i.targetId;t=new $f(a,s)}}return t}function NG(n,e){let t;if(e instanceof Xo)t={update:IM(n,e.key,e.value)};else if(e instanceof Hl)t={delete:ow(n,e.key)};else if(e instanceof Ei)t={update:IM(n,e.key,e.data),updateMask:BG(e.fieldMask)};else{if(!(e instanceof Yb))return re();t={verify:ow(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,s){let a=s.transform;if(a instanceof Sa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Yo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Qo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Zo)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw re()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:xG(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:re()}(n,e.precondition)),t}function PG(n,e){return n&&n.length>0?(Le(e!==void 0),n.map(t=>function(r,o){let s=r.updateTime?wi(r.updateTime):wi(o);return s.isEqual(he.min())&&(s=wi(o)),new Kb(s,r.transformResults||[])}(t,e))):[]}function kG(n,e){return{documents:[lN(n,e.path)]}}function OG(n,e){let t={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=lN(n,r);let o=function(u){if(u.length!==0)return hN(zn.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(h=>function(g){return{field:ma(g.field),direction:VG(g.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=iw(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:r}}function FG(n){let e=RG(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){Le(i===1);let h=t.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let g=dN(p);return g instanceof zn&&$M(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(g=>function(I){return new Da(ga(I.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(g))}(t.orderBy));let a=null;t.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,fp(g)?null:g}(t.limit));let c=null;t.startAt&&(c=function(p){let g=!!p.before,_=p.values||[];return new Ca(_,g)}(t.startAt));let u=null;return t.endAt&&(u=function(p){let g=!p.before,_=p.values||[];return new Ca(_,g)}(t.endAt)),lG(e,r,s,o,a,"F",c,u)}function LG(n,e){let t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function dN(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=ga(t.unaryFilter.field);return dt.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=ga(t.unaryFilter.field);return dt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ga(t.unaryFilter.field);return dt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ga(t.unaryFilter.field);return dt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return re()}}(n):n.fieldFilter!==void 0?function(t){return dt.create(ga(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return re()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return zn.create(t.compositeFilter.filters.map(i=>dN(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return re()}}(t.compositeFilter.op))}(n):re()}function VG(n){return TG[n]}function jG(n){return SG[n]}function UG(n){return AG[n]}function ma(n){return{fieldPath:n.canonicalString()}}function ga(n){return dn.fromServerFormat(n.fieldPath)}function hN(n){return n instanceof dt?function(t){if(t.op==="=="){if(cM(t.value))return{unaryFilter:{field:ma(t.field),op:"IS_NAN"}};if(aM(t.value))return{unaryFilter:{field:ma(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(cM(t.value))return{unaryFilter:{field:ma(t.field),op:"IS_NOT_NAN"}};if(aM(t.value))return{unaryFilter:{field:ma(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ma(t.field),op:jG(t.op),value:t.value}}}(n):n instanceof zn?function(t){let i=t.getFilters().map(r=>hN(r));return i.length===1?i[0]:{compositeFilter:{op:UG(t.op),filters:i}}}(n):re()}function BG(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function fN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Gl=class n{constructor(e,t,i,r,o=he.min(),s=he.min(),a=jt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var aw=class{constructor(e){this.ct=e}};function $G(n){let e=FG({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Gb(e,e.limit,"L"):e}var Gf=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Ye(e.integerValue));else if("doubleValue"in e){let i=Ye(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),Bl(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),typeof i=="string"&&(i=ar(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Zr(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?jM(e)?this.dt(t,Number.MAX_SAFE_INTEGER):VM(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):re()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let i=e.fields||{};this.dt(t,55);for(let r of Object.keys(i))this.Vt(r,t),this.Tt(i[r],t)}wt(e,t){var i,r;let o=e.fields||{};this.dt(t,53);let s="value",a=((r=(i=o[s].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.dt(t,15),t.At(Ye(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let i=e.values||[];this.dt(t,50);for(let r of i)this.Tt(r,t)}yt(e,t){this.dt(t,37),X.fromName(e).path.forEach(i=>{this.dt(t,60),this.Dt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Gf.vt=new Gf;var cw=class{constructor(){this.un=new lw}addToCollectionParentIndex(e,t){return this.un.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve(Go.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve(Go.min())}updateCollectionGroup(e,t,i){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}},lw=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Lt(Qe.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Lt(Qe.comparator)).toArray()}};var Pte=new Uint8Array(0);var _i=class n{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};_i.DEFAULT_COLLECTION_PERCENTILE=10,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_i.DEFAULT=new _i(41943040,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_i.DISABLED=new _i(-1,0,0);var Wl=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var uw=class{constructor(){this.changes=new Xr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?L.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var dw=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var hw=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&Ul(i.mutation,r,En.empty(),Ct.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,be()).next(()=>i))}getLocalViewOfDocuments(e,t,i=be()){let r=$o();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=Fl();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let i=$o();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,be()))}populateOverlays(e,t,i){let r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=cr(),s=jl(),a=function(){return jl()}();return t.forEach((c,u)=>{let h=i.get(u.key);r.has(u.key)&&(h===void 0||h.mutation instanceof Ei)?o=o.insert(u.key,u):h!==void 0?(s.set(u.key,h.mutation.getFieldMask()),Ul(h.mutation,u,h.mutation.getFieldMask(),Ct.now())):s.set(u.key,En.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,h)=>s.set(u,h)),t.forEach((u,h)=>{var p;return a.set(u,new dw(h,(p=s.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let i=jl(),r=new Je((s,a)=>s-a),o=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let h=i.get(c)||En.empty();h=a.applyToLocalView(u,h),i.set(c,h);let p=(r.get(a.batchId)||be()).add(c);r=r.insert(a.batchId,p)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,h=c.value,p=ZM();h.forEach(g=>{if(!o.has(g)){let _=rN(t.get(g),i.get(g));_!==null&&p.set(g,_),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,p))}return L.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(s){return X.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):GM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):L.resolve($o()),a=-1,c=o;return s.next(u=>L.forEach(u,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,be())).next(h=>({batchId:a,changes:QM(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new X(t)).next(i=>{let r=Fl();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let o=t.collectionGroup,s=Fl();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,c=>{let u=function(p,g){return new Ko(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(s=>{o.forEach((c,u)=>{let h=u.getKey();s.get(h)===null&&(s=s.insert(h,$n.newInvalidDocument(h)))});let a=Fl();return s.forEach((c,u)=>{let h=o.get(c);h!==void 0&&Ul(h.mutation,u,En.empty(),Ct.now()),mp(t,u)&&(a=a.insert(c,u))}),a})}};var fw=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return L.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:wi(r.createTime)}}(t)),L.resolve()}getNamedQuery(e,t){return L.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(r){return{name:r.name,query:$G(r.bundledQuery),readTime:wi(r.readTime)}}(t)),L.resolve()}};var pw=class{constructor(){this.overlays=new Je(X.comparator),this.Ir=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){let i=$o();return L.forEach(t,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.ht(e,t,o)}),L.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.Ir.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(i)),L.resolve()}getOverlaysForCollection(e,t,i){let r=$o(),o=t.length+1,s=new X(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return L.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new Je((u,h)=>u-h),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>i){let h=o.get(u.largestBatchId);h===null&&(h=$o(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}let a=$o(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=r)););return L.resolve(a)}ht(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let s=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new Xb(t,i));let o=this.Ir.get(t);o===void 0&&(o=be(),this.Ir.set(t,o)),this.Ir.set(t,o.add(i.key))}};var mw=class{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,L.resolve()}};var Kl=class{constructor(){this.Tr=new Lt(ut.Er),this.dr=new Lt(ut.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let i=new ut(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Vr(new ut(e,t))}mr(e,t){e.forEach(i=>this.removeReference(i,t))}gr(e){let t=new X(new Qe([])),i=new ut(t,e),r=new ut(t,e+1),o=[];return this.dr.forEachInRange([i,r],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new X(new Qe([])),i=new ut(t,e),r=new ut(t,e+1),o=be();return this.dr.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new ut(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},ut=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return X.comparator(e.key,t.key)||De(e.wr,t.wr)}static Ar(e,t){return De(e.wr,t.wr)||X.comparator(e.key,t.key)}};var gw=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Lt(ut.Er)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Qb(o,t,i,r);this.mutationQueue.push(s);for(let a of r)this.br=this.br.add(new ut(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,t){return L.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.vr(i),o=r<0?0:r;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new ut(t,0),r=new ut(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([i,r],s=>{let a=this.Dr(s.wr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Lt(De);return t.forEach(r=>{let o=new ut(r,0),s=new ut(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{i=i.add(a.wr)})}),L.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,o=i;X.isDocumentKey(o)||(o=o.child(""));let s=new ut(new X(o),0),a=new Lt(De);return this.br.forEachWhile(c=>{let u=c.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(c.wr)),!0)},s),L.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(i=>{let r=this.Dr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){Le(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return L.forEach(t.mutations,r=>{let o=new ut(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,t){let i=new ut(t,0),r=this.br.firstAfterOrEqual(i);return L.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var _w=class{constructor(e){this.Mr=e,this.docs=function(){return new Je(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return L.resolve(i?i.document.mutableCopy():$n.newInvalidDocument(t))}getEntries(e,t){let i=cr();return t.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():$n.newInvalidDocument(r))}),L.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=cr(),s=t.path,a=new X(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:h}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Xq(Zq(h),i)<=0||(r.has(h.key)||mp(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,t,i,r){re()}Or(e,t){return L.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new vw(this)}getSize(e){return L.resolve(this.size)}},vw=class extends uw{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),L.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var yw=class{constructor(e){this.persistence=e,this.Nr=new Xr(t=>aI(t),cI),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Kl,this.targetCount=0,this.kr=Wl.Bn()}forEachTarget(e,t){return this.Nr.forEach((i,r)=>t(r)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),L.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Wl(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.Kn(t),L.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,i){let r=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&i.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),L.waitFor(o).next(()=>r)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){let i=this.Nr.get(t)||null;return L.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),L.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);let r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),L.resolve()}getMatchingKeysForTargetId(e,t){let i=this.Br.yr(t);return L.resolve(i)}containsKey(e,t){return L.resolve(this.Br.containsKey(t))}};var bw=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new FM(0),this.Kr=!1,this.Kr=!0,this.$r=new mw,this.referenceDelegate=e(this),this.Ur=new yw(this),this.indexManager=new cw,this.remoteDocumentCache=function(r){return new _w(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new aw(t),this.Gr=new fw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new gw(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){q("MemoryPersistence","Starting transaction:",e);let r=new ww(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(o=>this.referenceDelegate.jr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Hr(e,t){return L.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,t)))}},ww=class extends Mb{constructor(e){super(),this.currentSequenceNumber=e}},Iw=class n{constructor(e){this.persistence=e,this.Jr=new Kl,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw re()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),L.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),L.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(r=>this.Xr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Xr.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Xr,i=>{let r=X.fromPath(i);return this.ei(e,r).next(o=>{o||t.removeEntry(r,he.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return L.or([()=>L.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var Ew=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=r}static Wi(e,t){let i=be(),r=be();for(let o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new n(e,t.fromCache,i,r)}};var Cw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Dw=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Rx()?8:eG(gt())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,r){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Cw;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,i,r){return i.documentReadCount<this.ji?(Ol()<=ye.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",pa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),L.resolve()):(Ol()<=ye.DEBUG&&q("QueryEngine","Query:",pa(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(Ol()<=ye.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",pa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(t))):L.resolve())}Yi(e,t){if(hM(t))return L.resolve(null);let i=yi(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=Gb(t,null,"F"),i=yi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let s=be(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let u=this.ts(t,a);return this.ns(t,u,s,c.readTime)?this.Yi(e,Gb(t,null,"F")):this.rs(e,u,t,c)}))})))}Zi(e,t,i,r){return hM(t)||r.isEqual(he.min())?L.resolve(null):this.Ji.getDocuments(e,i).next(o=>{let s=this.ts(t,o);return this.ns(t,s,i,r)?L.resolve(null):(Ol()<=ye.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),pa(t)),this.rs(e,s,t,Qq(r,-1)).next(a=>a))})}ts(e,t){let i=new Lt(KM(e));return t.forEach((r,o)=>{mp(e,o)&&(i=i.add(o))}),i}ns(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Xi(e,t,i){return Ol()<=ye.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",pa(t)),this.Ji.getDocumentsMatchingQuery(e,t,Go.min(),i)}rs(e,t,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Tw=class{constructor(e,t,i,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new Je(De),this._s=new Xr(o=>aI(o),cI),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hw(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function zG(n,e,t,i){return new Tw(n,e,t,i)}function pN(n,e){return v(this,null,function*(){let t=ae(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.ls(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{let s=[],a=[],c=be();for(let u of r){s.push(u.batchId);for(let h of u.mutations)c=c.add(h.key)}for(let u of o){a.push(u.batchId);for(let h of u.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(i,c).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function HG(n,e){let t=ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,h){let p=u.batch,g=p.keys(),_=L.resolve();return g.forEach(I=>{_=_.next(()=>h.getEntry(c,I)).next(x=>{let M=u.docVersions.get(I);Le(M!==null),x.version.compareTo(M)<0&&(p.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),h.addEntry(x)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=be();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function mN(n){let e=ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function qG(n,e){let t=ae(n),i=e.snapshotVersion,r=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});r=t.os;let a=[];e.targetChanges.forEach((h,p)=>{let g=r.get(p);if(!g)return;a.push(t.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(o,h.addedDocuments,p)));let _=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(jt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,i)),r=r.insert(p,_),function(x,M,V){return x.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(g,_,h)&&a.push(t.Ur.updateTargetData(o,_))});let c=cr(),u=be();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(GG(o,s,e.documentUpdates).next(h=>{c=h.Ps,u=h.Is})),!i.isEqual(he.min())){let h=t.Ur.getLastRemoteSnapshotVersion(o).next(p=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(h)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(t.os=r,o))}function GG(n,e,t){let i=be(),r=be();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=cr();return t.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(he.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ps:s,Is:r}})}function WG(n,e){let t=ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function KG(n,e){let t=ae(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ur.getTargetData(i,e).next(o=>o?(r=o,L.resolve(r)):t.Ur.allocateTargetId(i).next(s=>(r=new Gl(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i})}function Sw(n,e,t){return v(this,null,function*(){let i=ae(n),r=i.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!eu(s))throw s;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.os=i.os.remove(e),i._s.delete(r.target)})}function EM(n,e,t){let i=ae(n),r=he.min(),o=be();return i.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,h){let p=ae(c),g=p._s.get(h);return g!==void 0?L.resolve(p.os.get(g)):p.Ur.getTargetData(u,h)}(i,s,yi(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.ss.getDocumentsMatchingQuery(s,e,t?r:he.min(),t?o:be())).next(a=>(YG(i,dG(e),a),{documents:a,Ts:o})))}function YG(n,e,t){let i=n.us.get(e)||he.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.us.set(e,i)}var Wf=class{constructor(){this.activeTargetIds=_G()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Aw=class{constructor(){this.so=new Wf,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Wf,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var xw=class{_o(e){}shutdown(){}};var Kf=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Mf=null;function bb(){return Mf===null?Mf=function(){return 268435456+Math.round(2147483648*Math.random())}():Mf++,"0x"+Mf.toString(16)}var QG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Rw=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Ft="WebChannelConnection",Mw=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${r}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Fo(){return!1}Mo(t,i,r,o,s){let a=bb(),c=this.xo(t,i.toUriEncodedString());q("RestConnection",`Sending RPC '${t}' ${a}:`,c,r);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(t,c,u,r).then(h=>(q("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw ba("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",c,"request:",r),h})}Lo(t,i,r,o,s,a){return this.Mo(t,i,r,o,s)}Oo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ka}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>t[s]=o),r&&r.headers.forEach((o,s)=>t[s]=o)}xo(t,i){let r=QG[t];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,r){let o=bb();return new Promise((s,a)=>{let c=new pb;c.setWithCredentials(!0),c.listenOnce(mb.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case kl.NO_ERROR:let h=c.getResponseJson();q(Ft,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case kl.TIMEOUT:q(Ft,`RPC '${e}' ${o} timed out`),a(new $(P.DEADLINE_EXCEEDED,"Request time out"));break;case kl.HTTP_ERROR:let p=c.getStatus();if(q(Ft,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);let _=g?.error;if(_&&_.status&&_.message){let I=function(M){let V=M.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(V)>=0?V:P.UNKNOWN}(_.status);a(new $(I,_.message))}else a(new $(P.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new $(P.UNAVAILABLE,"Connection failed."));break;default:re()}}finally{q(Ft,`RPC '${e}' ${o} completed.`)}});let u=JSON.stringify(r);q(Ft,`RPC '${e}' ${o} sending request:`,r),c.send(t,"POST",u,i,15)})}Bo(e,t,i){let r=bb(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=vb(),a=_b(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;let h=o.join("");q(Ft,`Creating RPC '${e}' stream ${r}: ${h}`,c);let p=s.createWebChannel(h,c),g=!1,_=!1,I=new Rw({Io:M=>{_?q(Ft,`Not sending because RPC '${e}' stream ${r} is closed:`,M):(g||(q(Ft,`Opening RPC '${e}' stream ${r} transport.`),p.open(),g=!0),q(Ft,`RPC '${e}' stream ${r} sending:`,M),p.send(M))},To:()=>p.close()}),x=(M,V,z)=>{M.listen(V,G=>{try{z(G)}catch(Z){setTimeout(()=>{throw Z},0)}})};return x(p,fa.EventType.OPEN,()=>{_||(q(Ft,`RPC '${e}' stream ${r} transport opened.`),I.yo())}),x(p,fa.EventType.CLOSE,()=>{_||(_=!0,q(Ft,`RPC '${e}' stream ${r} transport closed`),I.So())}),x(p,fa.EventType.ERROR,M=>{_||(_=!0,ba(Ft,`RPC '${e}' stream ${r} transport errored:`,M),I.So(new $(P.UNAVAILABLE,"The operation could not be completed")))}),x(p,fa.EventType.MESSAGE,M=>{var V;if(!_){let z=M.data[0];Le(!!z);let G=z,Z=G.error||((V=G[0])===null||V===void 0?void 0:V.error);if(Z){q(Ft,`RPC '${e}' stream ${r} received error:`,Z);let je=Z.status,ie=function(b){let C=lt[b];if(C!==void 0)return sN(C)}(je),E=Z.message;ie===void 0&&(ie=P.INTERNAL,E="Unknown error status: "+je+" with message "+Z.message),_=!0,I.So(new $(ie,E)),p.close()}else q(Ft,`RPC '${e}' stream ${r} received:`,z),I.bo(z)}}),x(a,gb.STAT_EVENT,M=>{M.stat===xf.PROXY?q(Ft,`RPC '${e}' stream ${r} detected buffering proxy`):M.stat===xf.NOPROXY&&q(Ft,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{I.wo()},0),I}};function wb(){return typeof document<"u"?document:null}function gp(n){return new nw(n,!0)}var Yf=class{constructor(e,t,i=1e3,r=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=r,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-i);r>0&&q("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Qf=class{constructor(e,t,i,r,o,s,a,c){this.ui=e,this.Ho=i,this.Jo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Yf(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return v(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return v(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return v(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===P.RESOURCE_EXHAUSTED?(sr(t.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===t&&this.P_(i,r)},i=>{e(()=>{let r=new $(P.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,t){let i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(()=>v(this,null,function*(){this.state=0,this.start()}))}I_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Nw=class extends Qf{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=MG(this.serializer,e),i=function(o){if(!("targetChange"in o))return he.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?he.min():s.readTime?wi(s.readTime):he.min()}(e);return this.listener.d_(t,i)}A_(e){let t={};t.database=sw(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=Hb(c)?{documents:kG(o,c)}:{query:OG(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=aN(o,s.resumeToken);let u=iw(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(he.min())>0){a.readTime=qf(o,s.snapshotVersion.toTimestamp());let u=iw(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let i=LG(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){let t={};t.database=sw(this.serializer),t.removeTarget=e,this.a_(t)}},Pw=class extends Qf{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Le(!!e.streamToken),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=PG(e.writeResults,e.commitTime),i=wi(e.commitTime);return this.listener.g_(i,t)}p_(){let e={};e.database=sw(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>NG(this.serializer,i))};this.a_(t)}};var kw=class extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new $(P.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,rw(t,i),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(P.UNKNOWN,o.toString())})}Lo(e,t,i,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,rw(t,i),r,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(P.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Ow=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(sr(t),this.D_=!1):q("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Fw=class{constructor(e,t,i,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{i.enqueueAndForget(()=>v(this,null,function*(){es(this)&&(q("RemoteStore","Restarting streams for network reachability change."),yield function(c){return v(this,null,function*(){let u=ae(c);u.L_.add(4),yield tu(u),u.q_.set("Unknown"),u.L_.delete(4),yield _p(u)})}(this))}))}),this.q_=new Ow(i,r)}};function _p(n){return v(this,null,function*(){if(es(n))for(let e of n.B_)yield e(!0)})}function tu(n){return v(this,null,function*(){for(let e of n.B_)yield e(!1)})}function gN(n,e){let t=ae(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),mI(t)?pI(t):Oa(t).r_()&&fI(t,e))}function hI(n,e){let t=ae(n),i=Oa(t);t.N_.delete(e),i.r_()&&_N(t,e),t.N_.size===0&&(i.r_()?i.o_():es(t)&&t.q_.set("Unknown"))}function fI(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Oa(n).A_(e)}function _N(n,e){n.Q_.xe(e),Oa(n).R_(e)}function pI(n){n.Q_=new tw({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Oa(n).start(),n.q_.v_()}function mI(n){return es(n)&&!Oa(n).n_()&&n.N_.size>0}function es(n){return ae(n).L_.size===0}function vN(n){n.Q_=void 0}function ZG(n){return v(this,null,function*(){n.q_.set("Online")})}function XG(n){return v(this,null,function*(){n.N_.forEach((e,t)=>{fI(n,e)})})}function JG(n,e){return v(this,null,function*(){vN(n),mI(n)?(n.q_.M_(e),pI(n)):n.q_.set("Unknown")})}function eW(n,e,t){return v(this,null,function*(){if(n.q_.set("Online"),e instanceof zf&&e.state===2&&e.cause)try{yield function(r,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)r.N_.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.N_.delete(a),r.Q_.removeTarget(a))})}(n,e)}catch(i){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Zf(n,i)}else if(e instanceof va?n.Q_.Ke(e):e instanceof $f?n.Q_.He(e):n.Q_.We(e),!t.isEqual(he.min()))try{let i=yield mN(n.localStore);t.compareTo(i)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let h=o.N_.get(u);h&&o.N_.set(u,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let h=o.N_.get(c);if(!h)return;o.N_.set(c,h.withResumeToken(jt.EMPTY_BYTE_STRING,h.snapshotVersion)),_N(o,c);let p=new Gl(h.target,c,u,h.sequenceNumber);fI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){q("RemoteStore","Failed to raise snapshot:",i),yield Zf(n,i)}})}function Zf(n,e,t){return v(this,null,function*(){if(!eu(e))throw e;n.L_.add(1),yield tu(n),n.q_.set("Offline"),t||(t=()=>mN(n.localStore)),n.asyncQueue.enqueueRetryable(()=>v(this,null,function*(){q("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield _p(n)}))})}function yN(n,e){return e().catch(t=>Zf(n,t,e))}function vp(n){return v(this,null,function*(){let e=ae(n),t=Jr(e),i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;tW(e);)try{let r=yield WG(e.localStore,i);if(r===null){e.O_.length===0&&t.o_();break}i=r.batchId,nW(e,r)}catch(r){yield Zf(e,r)}bN(e)&&wN(e)})}function tW(n){return es(n)&&n.O_.length<10}function nW(n,e){n.O_.push(e);let t=Jr(n);t.r_()&&t.V_&&t.m_(e.mutations)}function bN(n){return es(n)&&!Jr(n).n_()&&n.O_.length>0}function wN(n){Jr(n).start()}function iW(n){return v(this,null,function*(){Jr(n).p_()})}function rW(n){return v(this,null,function*(){let e=Jr(n);for(let t of n.O_)e.m_(t.mutations)})}function oW(n,e,t){return v(this,null,function*(){let i=n.O_.shift(),r=Zb.from(i,e,t);yield yN(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield vp(n)})}function sW(n,e){return v(this,null,function*(){e&&Jr(n).V_&&(yield function(i,r){return v(this,null,function*(){if(function(s){return EG(s)&&s!==P.ABORTED}(r.code)){let o=i.O_.shift();Jr(i).s_(),yield yN(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield vp(i)}})}(n,e)),bN(n)&&wN(n)})}function CM(n,e){return v(this,null,function*(){let t=ae(n);t.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");let i=es(t);t.L_.add(3),yield tu(t),i&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield _p(t)})}function aW(n,e){return v(this,null,function*(){let t=ae(n);e?(t.L_.delete(2),yield _p(t)):e||(t.L_.add(2),yield tu(t),t.q_.set("Unknown"))})}function Oa(n){return n.K_||(n.K_=function(t,i,r){let o=ae(t);return o.w_(),new Nw(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Eo:ZG.bind(null,n),Ro:XG.bind(null,n),mo:JG.bind(null,n),d_:eW.bind(null,n)}),n.B_.push(e=>v(this,null,function*(){e?(n.K_.s_(),mI(n)?pI(n):n.q_.set("Unknown")):(yield n.K_.stop(),vN(n))}))),n.K_}function Jr(n){return n.U_||(n.U_=function(t,i,r){let o=ae(t);return o.w_(),new Pw(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:iW.bind(null,n),mo:sW.bind(null,n),f_:rW.bind(null,n),g_:oW.bind(null,n)}),n.B_.push(e=>v(this,null,function*(){e?(n.U_.s_(),yield vp(n)):(yield n.U_.stop(),n.O_.length>0&&(q("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var Lw=class n{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Bn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){let s=Date.now()+i,a=new n(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function gI(n,e){if(sr("AsyncQueue",`${e}: ${n}`),eu(n))return new $(P.UNAVAILABLE,`${e}: ${n}`);throw n}var Xf=class n{constructor(e){this.comparator=e?(t,i)=>e(t,i)||X.comparator(t.key,i.key):(t,i)=>X.comparator(t.key,i.key),this.keyedMap=Fl(),this.sortedSet=new Je(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var Jf=class{constructor(){this.W_=new Je(X.comparator)}track(e){let t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):re():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,i)=>{e.push(i)}),e}},xa=class n{constructor(e,t,i,r,o,s,a,c,u){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,i,r,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Xf.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var Vw=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},jw=class{constructor(){this.queries=DM(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){let r=ae(t),o=r.queries;r.queries=DM(),o.forEach((s,a)=>{for(let c of a.j_)c.onError(i)})})(this,new $(P.ABORTED,"Firestore shutting down"))}};function DM(){return new Xr(n=>WM(n),pp)}function IN(n,e){return v(this,null,function*(){let t=ae(n),i=3,r=e.query,o=t.queries.get(r);o?!o.H_()&&e.J_()&&(i=2):(o=new Vw,i=e.J_()?0:1);try{switch(i){case 0:o.z_=yield t.onListen(r,!0);break;case 1:o.z_=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(s){let a=gI(s,`Initialization of query '${pa(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&_I(t)})}function EN(n,e){return v(this,null,function*(){let t=ae(n),i=e.query,r=3,o=t.queries.get(i);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?r=e.J_()?0:1:!o.H_()&&e.J_()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})}function cW(n,e){let t=ae(n),i=!1;for(let r of e){let o=r.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(r)&&(i=!0);s.z_=r}}i&&_I(t)}function lW(n,e,t){let i=ae(n),r=i.queries.get(e);if(r)for(let o of r.j_)o.onError(t);i.queries.delete(e)}function _I(n){n.Y_.forEach(e=>{e.next()})}var Uw,TM;(TM=Uw||(Uw={})).ea="default",TM.Cache="cache";var ep=class{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new xa(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=xa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Uw.Cache}};var tp=class{constructor(e){this.key=e}},np=class{constructor(e){this.key=e}},Bw=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=be(),this.mutatedKeys=be(),this.Aa=KM(e),this.Ra=new Xf(this.Aa)}get Va(){return this.Ta}ma(e,t){let i=t?t.fa:new Jf,r=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,p)=>{let g=r.get(h),_=mp(this.query,p)?p:null,I=!!g&&this.mutatedKeys.has(g.key),x=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations),M=!1;g&&_?g.data.isEqual(_.data)?I!==x&&(i.track({type:3,doc:_}),M=!0):this.ga(g,_)||(i.track({type:2,doc:_}),M=!0,(c&&this.Aa(_,c)>0||u&&this.Aa(_,u)<0)&&(a=!0)):!g&&_?(i.track({type:0,doc:_}),M=!0):g&&!_&&(i.track({type:1,doc:g}),M=!0,(c||u)&&(a=!0)),M&&(_?(s=s.add(_),o=x?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),i.track({type:1,doc:h})}return{Ra:s,fa:i,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(_,I){let x=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re()}};return x(_)-x(I)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(i),r=r!=null&&r;let a=t&&!r?this.ya():[],c=this.da.size===0&&this.current&&!r?1:0,u=c!==this.Ea;return this.Ea=c,s.length!==0||u?{snapshot:new xa(this.query,e.Ra,o,s,e.mutatedKeys,c===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Jf,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=be(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});let t=[];return e.forEach(i=>{this.da.has(i)||t.push(new np(i))}),this.da.forEach(i=>{e.has(i)||t.push(new tp(i))}),t}ba(e){this.Ta=e.Ts,this.da=be();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return xa.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},$w=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},zw=class{constructor(e){this.key=e,this.va=!1}},Hw=class{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Xr(a=>WM(a),pp),this.Ma=new Map,this.xa=new Set,this.Oa=new Je(X.comparator),this.Na=new Map,this.La=new Kl,this.Ba={},this.ka=new Map,this.qa=Wl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function uW(n,e,t=!0){return v(this,null,function*(){let i=xN(n),r,o=i.Fa.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.Da()):r=yield CN(i,e,t,!0),r})}function dW(n,e){return v(this,null,function*(){let t=xN(n);yield CN(t,e,!0,!1)})}function CN(n,e,t,i){return v(this,null,function*(){let r=yield KG(n.localStore,yi(e)),o=r.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return i&&(a=yield hW(n,e,o,s==="current",r.resumeToken)),n.isPrimaryClient&&t&&gN(n.remoteStore,r),a})}function hW(n,e,t,i,r){return v(this,null,function*(){n.Ka=(p,g,_)=>function(x,M,V,z){return v(this,null,function*(){let G=M.view.ma(V);G.ns&&(G=yield EM(x.localStore,M.query,!1).then(({documents:E})=>M.view.ma(E,G)));let Z=z&&z.targetChanges.get(M.targetId),je=z&&z.targetMismatches.get(M.targetId)!=null,ie=M.view.applyChanges(G,x.isPrimaryClient,Z,je);return AM(x,M.targetId,ie.wa),ie.snapshot})}(n,p,g,_);let o=yield EM(n.localStore,e,!0),s=new Bw(e,o.Ts),a=s.ma(o.documents),c=ql.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),u=s.applyChanges(a,n.isPrimaryClient,c);AM(n,t,u.wa);let h=new $w(e,t,s);return n.Fa.set(e,h),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),u.snapshot})}function fW(n,e,t){return v(this,null,function*(){let i=ae(n),r=i.Fa.get(e),o=i.Ma.get(r.targetId);if(o.length>1)return i.Ma.set(r.targetId,o.filter(s=>!pp(s,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Sw(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&hI(i.remoteStore,r.targetId),qw(i,r.targetId)}).catch(Jl))):(qw(i,r.targetId),yield Sw(i.localStore,r.targetId,!0))})}function pW(n,e){return v(this,null,function*(){let t=ae(n),i=t.Fa.get(e),r=t.Ma.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),hI(t.remoteStore,i.targetId))})}function mW(n,e,t){return v(this,null,function*(){let i=IW(n);try{let r=yield function(s,a){let c=ae(s),u=Ct.now(),h=a.reduce((_,I)=>_.add(I.key),be()),p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let I=cr(),x=be();return c.cs.getEntries(_,h).next(M=>{I=M,I.forEach((V,z)=>{z.isValidDocument()||(x=x.add(V))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,I)).next(M=>{p=M;let V=[];for(let z of a){let G=IG(z,p.get(z.key).overlayedDocument);G!=null&&V.push(new Ei(z.key,G,UM(G.value.mapValue),bi.exists(!0)))}return c.mutationQueue.addMutationBatch(_,u,V,a)}).next(M=>{g=M;let V=M.applyToLocalDocumentSet(p,x);return c.documentOverlayCache.saveOverlays(_,M.batchId,V)})}).then(()=>({batchId:g.batchId,changes:QM(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let u=s.Ba[s.currentUser.toKey()];u||(u=new Je(De)),u=u.insert(a,c),s.Ba[s.currentUser.toKey()]=u}(i,r.batchId,t),yield nu(i,r.changes),yield vp(i.remoteStore)}catch(r){let o=gI(r,"Failed to persist write");t.reject(o)}})}function DN(n,e){return v(this,null,function*(){let t=ae(n);try{let i=yield qG(t.localStore,e);e.targetChanges.forEach((r,o)=>{let s=t.Na.get(o);s&&(Le(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.va=!0:r.modifiedDocuments.size>0?Le(s.va):r.removedDocuments.size>0&&(Le(s.va),s.va=!1))}),yield nu(t,i,e)}catch(i){yield Jl(i)}})}function SM(n,e,t){let i=ae(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){let c=ae(s);c.onlineState=a;let u=!1;c.queries.forEach((h,p)=>{for(let g of p.j_)g.Z_(a)&&(u=!0)}),u&&_I(c)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function gW(n,e,t){return v(this,null,function*(){let i=ae(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.Na.get(e),o=r&&r.key;if(o){let s=new Je(X.comparator);s=s.insert(o,$n.newNoDocument(o,he.min()));let a=be().add(o),c=new Bf(he.min(),new Map,new Je(De),s,a);yield DN(i,c),i.Oa=i.Oa.remove(o),i.Na.delete(e),vI(i)}else yield Sw(i.localStore,e,!1).then(()=>qw(i,e,t)).catch(Jl)})}function _W(n,e){return v(this,null,function*(){let t=ae(n),i=e.batch.batchId;try{let r=yield HG(t.localStore,e);SN(t,i,null),TN(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield nu(t,r)}catch(r){yield Jl(r)}})}function vW(n,e,t){return v(this,null,function*(){let i=ae(n);try{let r=yield function(s,a){let c=ae(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,a).next(p=>(Le(p!==null),h=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(i.localStore,e);SN(i,e,t),TN(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield nu(i,r)}catch(r){yield Jl(r)}})}function TN(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function SN(n,e,t){let i=ae(n),r=i.Ba[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function qw(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(i=>{n.La.containsKey(i)||AN(n,i)})}function AN(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(hI(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),vI(n))}function AM(n,e,t){for(let i of t)i instanceof tp?(n.La.addReference(i.key,e),yW(n,i)):i instanceof np?(q("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||AN(n,i.key)):re()}function yW(n,e){let t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||(q("SyncEngine","New document in limbo: "+t),n.xa.add(i),vI(n))}function vI(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new X(Qe.fromString(e)),i=n.qa.next();n.Na.set(i,new zw(t)),n.Oa=n.Oa.insert(t,i),gN(n.remoteStore,new Gl(yi(lI(t.path)),i,"TargetPurposeLimboResolution",FM.oe))}}function nu(n,e,t){return v(this,null,function*(){let i=ae(n),r=[],o=[],s=[];i.Fa.isEmpty()||(i.Fa.forEach((a,c)=>{s.push(i.Ka(c,e,t).then(u=>{var h;if((u||t)&&i.isPrimaryClient){let p=u?!u.fromCache:(h=t?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;i.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){r.push(u);let p=Ew.Wi(c.targetId,u);o.push(p)}}))}),yield Promise.all(s),i.Ca.d_(r),yield function(c,u){return v(this,null,function*(){let h=ae(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(u,g=>L.forEach(g.$i,_=>h.persistence.referenceDelegate.addReference(p,g.targetId,_)).next(()=>L.forEach(g.Ui,_=>h.persistence.referenceDelegate.removeReference(p,g.targetId,_)))))}catch(p){if(!eu(p))throw p;q("LocalStore","Failed to update sequence numbers: "+p)}for(let p of u){let g=p.targetId;if(!p.fromCache){let _=h.os.get(g),I=_.snapshotVersion,x=_.withLastLimboFreeSnapshotVersion(I);h.os=h.os.insert(g,x)}}})}(i.localStore,o))})}function bW(n,e){return v(this,null,function*(){let t=ae(n);if(!t.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());let i=yield pN(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(c=>{c.reject(new $(P.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield nu(t,i.hs)}})}function wW(n,e){let t=ae(n),i=t.Na.get(e);if(i&&i.va)return be().add(i.key);{let r=be(),o=t.Ma.get(e);if(!o)return r;for(let s of o){let a=t.Fa.get(s);r=r.unionWith(a.view.Va)}return r}}function xN(n){let e=ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=DN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gW.bind(null,e),e.Ca.d_=cW.bind(null,e.eventManager),e.Ca.$a=lW.bind(null,e.eventManager),e}function IW(n){let e=ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_W.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vW.bind(null,e),e}var xM=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return v(this,null,function*(){this.serializer=gp(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,i){return null}Ha(t,i){return null}za(t){return zG(this.persistence,new Dw,t.initialUser,this.serializer)}Ga(t){return new bw(Iw.Zr,this.serializer)}Wa(t){return new Aw}terminate(){return v(this,null,function*(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var EW=(()=>{class n{initialize(t,i){return v(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>SM(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bW.bind(null,this.syncEngine),yield aW(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new jw}()}createDatastore(t){let i=gp(t.databaseInfo.databaseId),r=function(s){return new Mw(s)}(t.databaseInfo);return function(s,a,c,u){return new kw(s,a,c,u)}(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return function(r,o,s,a,c){return new Fw(r,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,i=>SM(this.syncEngine,i,0),function(){return Kf.D()?new Kf:new xw}())}createSyncEngine(t,i){return function(o,s,a,c,u,h,p){let g=new Hw(o,s,a,c,u,h);return p&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){return v(this,null,function*(){var t,i;yield function(o){return v(this,null,function*(){let s=ae(o);q("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield tu(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()})}}return n.provider={build:()=>new n},n})();var ip=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Gw=class{constructor(e,t,i,r,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=_t.UNAUTHENTICATED,this.clientId=Of.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,s=>v(this,null,function*(){q("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Bn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=gI(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function Ib(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>v(this,null,function*(){i.isEqual(r)||(yield pN(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function RM(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield CW(n);q("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>CM(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>CM(e.remoteStore,r)),n._onlineComponents=e})}function CW(n){return v(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ib(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(r){return r.name==="FirebaseError"?r.code===P.FAILED_PRECONDITION||r.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;ba("Error using user provided cache. Falling back to memory cache: "+t),yield Ib(n,new xM)}}else q("FirestoreClient","Using default OfflineComponentProvider"),yield Ib(n,new xM);return n._offlineComponents})}function RN(n){return v(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),yield RM(n,n._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),yield RM(n,new EW))),n._onlineComponents})}function DW(n){return RN(n).then(e=>e.syncEngine)}function MN(n){return v(this,null,function*(){let e=yield RN(n),t=e.eventManager;return t.onListen=uW.bind(null,e.syncEngine),t.onUnlisten=fW.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=dW.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=pW.bind(null,e.syncEngine),t})}function NN(n,e,t={}){let i=new Bn;return n.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return function(o,s,a,c,u){let h=new ip({next:g=>{h.Za(),s.enqueueAndForget(()=>EN(o,p));let _=g.docs.has(a);!_&&g.fromCache?u.reject(new $(P.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&g.fromCache&&c&&c.source==="server"?u.reject(new $(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),p=new ep(lI(a.path),h,{includeMetadataChanges:!0,_a:!0});return IN(o,p)}(yield MN(n),n.asyncQueue,e,t,i)})),i.promise}function TW(n,e,t={}){let i=new Bn;return n.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return function(o,s,a,c,u){let h=new ip({next:g=>{h.Za(),s.enqueueAndForget(()=>EN(o,p)),g.fromCache&&c.source==="server"?u.reject(new $(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),p=new ep(a,h,{includeMetadataChanges:!0,_a:!0});return IN(o,p)}(yield MN(n),n.asyncQueue,e,t,i)})),i.promise}function PN(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var MM=new Map;function kN(n,e,t){if(!t)throw new $(P.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function SW(n,e,t,i){if(e===!0&&i===!0)throw new $(P.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function NM(n){if(!X.isDocumentKey(n))throw new $(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function PM(n){if(X.isDocumentKey(n))throw new $(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function yp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":re()}function hn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=yp(n);throw new $(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var rp=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new $(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PN((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new $(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new $(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new $(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ra=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rp(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Eb;switch(i.type){case"firstParty":return new Sb(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new $(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=MM.get(t);i&&(q("ComponentProvider","Removing Datastore"),MM.delete(t),i.terminate())}(this),Promise.resolve()}};function ON(n,e,t,i={}){var r;let o=(n=hn(n,Ra))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ba("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=_t.MOCK_USER;else{a=Jh(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new $(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new _t(u)}n._authCredentials=new Cb(new kf(a,c))}}var Ma=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Vt=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Qr=class n extends Ma{constructor(e,t,i){super(e,t,lI(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new X(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function FN(n,e,...t){if(n=Ve(n),kN("collection","path",e),n instanceof Ra){let i=Qe.fromString(e,...t);return PM(i),new Qr(n,null,i)}{if(!(n instanceof Vt||n instanceof Qr))throw new $(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(Qe.fromString(e,...t));return PM(i),new Qr(n.firestore,null,i)}}function yI(n,e,...t){if(n=Ve(n),arguments.length===1&&(e=Of.newId()),kN("doc","path",e),n instanceof Ra){let i=Qe.fromString(e,...t);return NM(i),new Vt(n,null,new X(i))}{if(!(n instanceof Vt||n instanceof Qr))throw new $(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(Qe.fromString(e,...t));return NM(i),new Vt(n.firestore,n instanceof Qr?n.converter:null,new X(i))}}var op=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Yf(this,"async_queue_retry"),this.Vu=()=>{let i=wb();i&&q("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;let t=wb();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=wb();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Bn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return v(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!eu(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;let r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i);throw sr("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let r=Lw.createAndSchedule(this,e,t,i,o=>this.yu(o));return this.Tu.push(r),r}fu(){this.Eu&&re()}verifyOperationInProgress(){}wu(){return v(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};var Ci=class extends Ra{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new op,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new op(e),this._firestoreClient=void 0,yield e}})}};function LN(n,e){let t=typeof n=="object"?n:hi(),i=typeof n=="string"?n:e||"(default)",r=Zi(t,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=aa("firestore");o&&ON(r,...o)}return r}function bp(n){if(n._terminated)throw new $(P.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||AW(n),n._firestoreClient}function AW(n){var e,t,i;let r=n._freezeSettings(),o=function(a,c,u,h){return new Nb(a,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,PN(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new Gw(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var Yl=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(jt.fromBase64String(e))}catch(t){throw new $(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Na=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new $(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Pa=class{constructor(e){this._methodName=e}};var Ql=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}};var Zl=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,e._values)}};var xW=/^__.*__$/,Ww=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ei(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xo(e,this.data,t,this.fieldTransforms)}},sp=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ei(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function VN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re()}}var Kw=class n{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Fu({path:i,xu:!1});return r.Ou(e),r}Nu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return cp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(VN(this.Cu)&&xW.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Yw=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||gp(e)}Qu(e,t,i,r=!1){return new Kw({Cu:e,methodName:t,qu:i,path:dn.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function wp(n){let e=n._freezeSettings(),t=gp(n._databaseId);return new Yw(n._databaseId,!!e.ignoreUndefinedProperties,t)}function jN(n,e,t,i,r,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,r);bI("Data must be an object, but it was:",s,i);let a=UN(i,s),c,u;if(o.merge)c=new En(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=Zw(e,p,t);if(!s.contains(g))throw new $(P.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);$N(h,g)||h.push(g)}c=new En(h),u=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=s.fieldTransforms;return new Ww(new un(a),c,u)}var ap=class n extends Pa{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};var Qw=class n extends Pa{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){let t=new Zo(e.serializer,JM(e.serializer,this.$u));return new Wb(e.path,t)}isEqual(e){return e instanceof n&&this.$u===e.$u}};function RW(n,e,t,i){let r=n.Qu(1,e,t);bI("Data must be an object, but it was:",r,i);let o=[],s=un.empty();Jo(i,(c,u)=>{let h=wI(e,c,t);u=Ve(u);let p=r.Nu(h);if(u instanceof ap)o.push(h);else{let g=iu(u,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new En(o);return new sp(s,a,r.fieldTransforms)}function MW(n,e,t,i,r,o){let s=n.Qu(1,e,t),a=[Zw(e,i,t)],c=[r];if(o.length%2!=0)throw new $(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(Zw(e,o[g])),c.push(o[g+1]);let u=[],h=un.empty();for(let g=a.length-1;g>=0;--g)if(!$N(u,a[g])){let _=a[g],I=c[g];I=Ve(I);let x=s.Nu(_);if(I instanceof ap)u.push(_);else{let M=iu(I,x);M!=null&&(u.push(_),h.set(_,M))}}let p=new En(u);return new sp(h,p,s.fieldTransforms)}function NW(n,e,t,i=!1){return iu(t,n.Qu(i?4:3,e))}function iu(n,e){if(BN(n=Ve(n)))return bI("Unsupported field value:",e,n),UN(n,e);if(n instanceof Pa)return function(i,r){if(!VN(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,r){let o=[],s=0;for(let a of i){let c=iu(a,r.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if((i=Ve(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return JM(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=Ct.fromDate(i);return{timestampValue:qf(r.serializer,o)}}if(i instanceof Ct){let o=new Ct(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:qf(r.serializer,o)}}if(i instanceof Ql)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Yl)return{bytesValue:aN(r.serializer,i._byteString)};if(i instanceof Vt){let o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:dI(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Zl)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return uI(a.serializer,c)})}}}}}}(i,r);throw r.Bu(`Unsupported field value: ${yp(i)}`)}(n,e)}function UN(n,e){let t={};return LM(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jo(n,(i,r)=>{let o=iu(r,e.Mu(i));o!=null&&(t[i]=o)}),{mapValue:{fields:t}}}function BN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ct||n instanceof Ql||n instanceof Yl||n instanceof Vt||n instanceof Pa||n instanceof Zl)}function bI(n,e,t){if(!BN(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){let i=yp(t);throw i==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+i)}}function Zw(n,e,t){if((e=Ve(e))instanceof Na)return e._internalPath;if(typeof e=="string")return wI(n,e);throw cp("Field path arguments must be of type string or ",n,!1,void 0,t)}var PW=new RegExp("[~\\*/\\[\\]]");function wI(n,e,t){if(e.search(PW)>=0)throw cp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Na(...e.split("."))._internalPath}catch{throw cp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function cp(n,e,t,i,r){let o=i&&!i.isEmpty(),s=r!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new $(P.INVALID_ARGUMENT,a+n+c)}function $N(n,e){return n.some(t=>t.isEqual(e))}var lp=class{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Xw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(II("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Xw=class extends lp{data(){return super.data()}};function II(n,e){return typeof e=="string"?wI(n,e):e instanceof Na?e._internalPath:e._delegate._internalPath}function kW(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new $(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Xl=class{},Jw=class extends Xl{};function zN(n,e,...t){let i=[];e instanceof Xl&&i.push(e),i=i.concat(t),function(o){let s=o.filter(c=>c instanceof eI).length,a=o.filter(c=>c instanceof up).length;if(s>1||s>0&&a>0)throw new $(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)n=r._apply(n);return n}var up=class n extends Jw{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=this._parse(e);return qN(e._query,t),new Ma(e.firestore,e.converter,qb(e._query,t))}_parse(e){let t=wp(e.firestore);return function(o,s,a,c,u,h,p){let g;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new $(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){OM(p,h);let _=[];for(let I of p)_.push(kM(c,o,I));g={arrayValue:{values:_}}}else g=kM(c,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||OM(p,h),g=NW(a,s,p,h==="in"||h==="not-in");return dt.create(u,h,g)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function HN(n,e,t){let i=e,r=II("where",n);return up._create(r,i,t)}var eI=class n extends Xl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:zn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(r,o){let s=r,a=o.getFlattenedFilters();for(let c of a)qN(s,c),s=qb(s,c)}(e._query,t),new Ma(e.firestore,e.converter,qb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function kM(n,e,t){if(typeof(t=Ve(t))=="string"){if(t==="")throw new $(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GM(e)&&t.indexOf("/")!==-1)throw new $(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let i=e.path.child(Qe.fromString(t));if(!X.isDocumentKey(i))throw new $(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return sM(n,new X(i))}if(t instanceof Vt)return sM(n,t._key);throw new $(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yp(t)}.`)}function OM(n,e){if(!Array.isArray(n)||n.length===0)throw new $(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qN(n,e){let t=function(r,o){for(let s of r)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new $(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var tI=class{convertValue(e,t="none"){switch(Wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw re()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return Jo(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertVectorValue(e){var t,i,r;let o=(r=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(s=>Ye(s.doubleValue));return new Zl(o)}convertGeoPoint(e){return new Ql(Ye(e.latitude),Ye(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=oI(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){let t=ar(e);return new Ct(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=Qe.fromString(e);Le(fN(i));let r=new jf(i.get(1),i.get(3)),o=new X(i.popFirst(5));return r.isEqual(t)||sr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function GN(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var Ho=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},dp=class extends lp{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ya(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(II("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},ya=class extends dp{data(e={}){return super.data(e)}},nI=class{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ho(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new ya(this._firestore,this._userDataWriter,i.key,i,new Ho(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{let c=new ya(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ho(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new ya(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ho(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),u=-1,h=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:OW(a.type),doc:c,oldIndex:u,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function OW(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re()}}function WN(n){n=hn(n,Vt);let e=hn(n.firestore,Ci);return NN(bp(e),n._key).then(t=>eP(e,n,t))}var hp=class extends tI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yl(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,t)}};function KN(n){n=hn(n,Vt);let e=hn(n.firestore,Ci);return NN(bp(e),n._key,{source:"server"}).then(t=>eP(e,n,t))}function YN(n){n=hn(n,Ma);let e=hn(n.firestore,Ci),t=bp(e),i=new hp(e);return kW(n._query),TW(t,n._query).then(r=>new nI(e,i,n,r))}function QN(n,e,t){n=hn(n,Vt);let i=hn(n.firestore,Ci),r=GN(n.converter,e,t);return Ip(i,[jN(wp(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,bi.none())])}function ZN(n,e,t,...i){n=hn(n,Vt);let r=hn(n.firestore,Ci),o=wp(r),s;return s=typeof(e=Ve(e))=="string"||e instanceof Na?MW(o,"updateDoc",n._key,e,t,i):RW(o,"updateDoc",n._key,e),Ip(r,[s.toMutation(n._key,bi.exists(!0))])}function XN(n){return Ip(hn(n.firestore,Ci),[new Hl(n._key,bi.none())])}function JN(n,e){let t=hn(n.firestore,Ci),i=yI(n),r=GN(n.converter,e);return Ip(t,[jN(wp(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,bi.exists(!1))]).then(()=>i)}function Ip(n,e){return function(i,r){let o=new Bn;return i.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return mW(yield DW(i),r,o)})),o.promise}(bp(n),e)}function eP(n,e,t){let i=t.docs.get(e._key),r=new hp(n);return new dp(n,r,e._key,i,new Ho(t.hasPendingWrites,t.fromCache),e.converter)}function tP(n){return new Qw("increment",n)}(function(e,t=!0){(function(r){ka=r})(di),In(new Ot("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),a=new Ci(new Db(i.getProvider("auth-internal")),new xb(i.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new $(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jf(u.options.projectId,h)}(s,r),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Fe(nM,"4.7.3",e),Fe(nM,"4.7.3","esm2017")})();var ts=class{constructor(e){return e}},nP="firestore",EI=class{constructor(){return Xi(nP)}};var CI=new U("angularfire2.firestore-instances");function FW(n,e){let t=qr(nP,n,e);return t&&new ts(t)}function LW(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new ts(i)}}var VW={provide:EI,deps:[[new $e,CI]]},jW={provide:ts,useFactory:FW,deps:[[new $e,CI],ln]};function iP(n,...e){return Fe("angularfire",Vn.full,"fst"),Yt([jW,VW,{provide:CI,useFactory:LW(n),multi:!0,deps:[W,Oe,pi,jn,[new $e,rr],[new $e,fi],...e]}])}var Ep=Ne(JN,!0);var Fa=Ne(FN,!0);var rP=Ne(XN,!0);var ns=Ne(yI,!0);var DI=Ne(WN,!0);var oP=Ne(KN,!0),TI=Ne(YN,!0);var sP=Ne(LN,!0);var aP=Ne(tP,!0);var cP=Ne(zN,!0);var lP=Ne(QN,!0);var SI=Ne(ZN,!0);var uP=Ne(HN,!0);var eo=class n{constructor(e,t){this.firestore=e;this.auth=t}getUserRole(){return v(this,null,function*(){let e=this.auth.currentUser;if(e){let t=ns(this.firestore,`users/${e.uid}`),i=yield DI(t);if(i.exists())return i.data().role}return null})}addNewRecord(e){return v(this,null,function*(){try{let t=Fa(this.firestore,"candidates"),i=yield Ep(t,e);console.log("Document added with ID: ",i.id)}catch(t){throw console.error("Error adding document: ",t),t}})}addNewUser(e,t){return v(this,null,function*(){try{let i=ns(this.firestore,`users/${t.user.uid}`);yield lP(i,e),alert("Signup successful!")}catch(i){throw console.error("Error adding document: ",i),i}})}recordVote(e,t){return v(this,null,function*(){yield Ep(Fa(this.firestore,"userVotes"),{userId:e,candidateId:t,timestamp:new Date})})}getAllCandidates(){let e=Fa(this.firestore,"candidates");return new te(t=>{TI(e).then(i=>{if(i.empty)t.next([]);else{let r=i.docs.map(a=>{let c=a.data();return c.documentId=a.id,c}),o=r.reduce((a,c)=>a+(c.voteCount||0),0),s=r.map(a=>{let c=o>0?a.voteCount/o*100:0;return ce(k({},a),{percentage:c.toFixed(2)})});t.next(s)}}).catch(i=>{console.error("Error getting candidates:",i),t.next([])})})}incrementVote(e){let t=ns(this.firestore,"candidates",e);return DI(t).then(i=>{if(!i.exists())throw console.error(`Candidate with ID ${e} does not exist.`),new Error(`Candidate with ID ${e} does not exist.`);return SI(t,{voteCount:aP(1)})}).catch(i=>{throw console.error("Error incrementing vote:",i),i})}hasVoted(e){let t=cP(Fa(this.firestore,"userVotes"),uP("userId","==",e));return TI(t).then(i=>!i.empty)}addDocument(e,t){return v(this,null,function*(){let i=Fa(this.firestore,e);return(yield Ep(i,t)).id})}getDocument(e){return v(this,null,function*(){let t=ns(this.firestore,e),i=yield oP(t);return i.exists()?i.data():null})}updateDocument(e,t){return v(this,null,function*(){let i=ns(this.firestore,e);yield SI(i,t)})}deleteDocument(e){return v(this,null,function*(){let t=ns(this.firestore,e);yield rP(t)})}static \u0275fac=function(t){return new(t||n)(R(ts),R(Un))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};var _P="firebasestorage.googleapis.com",vP="storageBucket",BW=2*60*1e3,$W=10*60*1e3;var et=class n extends kt{constructor(e,t,i=0){super(xI(e),`Firebase Storage: ${t} (${xI(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return xI(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},at=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(at||{});function xI(n){return"storage/"+n}function OI(){let n="An unknown error occurred, please check the error payload for server response.";return new et(at.UNKNOWN,n)}function zW(n){return new et(at.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function HW(n){return new et(at.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function qW(){let n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new et(at.UNAUTHENTICATED,n)}function GW(){return new et(at.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function WW(n){return new et(at.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function KW(){return new et(at.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function YW(){return new et(at.CANCELED,"User canceled the upload/download.")}function QW(n){return new et(at.INVALID_URL,"Invalid URL '"+n+"'.")}function ZW(n){return new et(at.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function XW(){return new et(at.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+vP+"' property when initializing the app?")}function JW(){return new et(at.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function e5(){return new et(at.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function t5(n){return new et(at.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function RI(n){return new et(at.INVALID_ARGUMENT,n)}function yP(){return new et(at.APP_DELETED,"The Firebase app was deleted.")}function n5(n){return new et(at.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ou(n,e){return new et(at.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function ru(n){throw new et(at.INTERNAL_ERROR,"Internal error: "+n)}var Hn=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(i.path==="")return i;throw ZW(e)}static makeFromUrl(e,t){let i=null,r="([A-Za-z0-9.\\-_]+)";function o(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+r+s,"i"),c={bucket:1,path:3};function u(Z){Z.path_=decodeURIComponent(Z.path)}let h="v[A-Za-z0-9_]+",p=t.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",_=new RegExp(`^https?://${p}/${h}/b/${r}/o${g}`,"i"),I={bucket:1,path:3},x=t===_P?"(?:storage.googleapis.com|storage.cloud.google.com)":t,M="([^?#]*)",V=new RegExp(`^https?://${x}/${r}/${M}`,"i"),G=[{regex:a,indices:c,postModify:o},{regex:_,indices:I,postModify:u},{regex:V,indices:{bucket:1,path:2},postModify:u}];for(let Z=0;Z<G.length;Z++){let je=G[Z],ie=je.regex.exec(e);if(ie){let E=ie[je.indices.bucket],y=ie[je.indices.path];y||(y=""),i=new n(E,y),je.postModify(i);break}}if(i==null)throw QW(e);return i}},MI=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function i5(n,e,t){let i=1,r=null,o=null,s=!1,a=0;function c(){return a===2}let u=!1;function h(...M){u||(u=!0,e.apply(null,M))}function p(M){r=setTimeout(()=>{r=null,n(_,c())},M)}function g(){o&&clearTimeout(o)}function _(M,...V){if(u){g();return}if(M){g(),h.call(null,M,...V);return}if(c()||s){g(),h.call(null,M,...V);return}i<64&&(i*=2);let G;a===1?(a=2,G=0):G=(i+Math.random())*1e3,p(G)}let I=!1;function x(M){I||(I=!0,g(),!u&&(r!==null?(M||(a=2),clearTimeout(r),p(0)):M||(a=1)))}return p(0),o=setTimeout(()=>{s=!0,x(!0)},t),x}function r5(n){n(!1)}function o5(n){return n!==void 0}function s5(n){return typeof n=="object"&&!Array.isArray(n)}function FI(n){return typeof n=="string"||n instanceof String}function dP(n){return LI()&&n instanceof Blob}function LI(){return typeof Blob<"u"}function hP(n,e,t,i){if(i<e)throw RI(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw RI(`Invalid value for '${n}'. Expected ${t} or less.`)}function VI(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function bP(n){let e=encodeURIComponent,t="?";for(let i in n)if(n.hasOwnProperty(i)){let r=e(i)+"="+e(n[i]);t=t+r+"&"}return t=t.slice(0,-1),t}var Va=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Va||{});function a5(n,e){let t=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||r||o}var NI=class{constructor(e,t,i,r,o,s,a,c,u,h,p,g=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=p,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,I)=>{this.resolve_=_,this.reject_=I,this.start_()})}start_(){let e=(i,r)=>{if(r){i(!1,new La(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===Va.NO_ERROR,c=o.getStatus();if(!a||a5(c,this.additionalRetryCodes_)&&this.retry){let h=o.getErrorCode()===Va.ABORT;i(!1,new La(!1,null,h));return}let u=this.successCodes_.indexOf(c)!==-1;i(!0,new La(u,o))})},t=(i,r)=>{let o=this.resolve_,s=this.reject_,a=r.connection;if(r.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());o5(c)?o(c):o()}catch(c){s(c)}else if(a!==null){let c=OI();c.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,c)):s(c)}else if(r.canceled){let c=this.appDelete_?yP():YW();s(c)}else{let c=KW();s(c)}};this.canceled_?t(!1,new La(!1,null,!0)):this.backoffId_=i5(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&r5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},La=class{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}};function c5(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function l5(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function u5(n,e){e&&(n["X-Firebase-GMPID"]=e)}function d5(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function h5(n,e,t,i,r,o,s=!0){let a=bP(n.urlParams),c=n.url+a,u=Object.assign({},n.headers);return u5(u,e),c5(u,t),l5(u,o),d5(u,i),new NI(c,n.method,u,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,s)}function f5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function p5(...n){let e=f5();if(e!==void 0){let t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(LI())return new Blob(n);throw new et(at.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function m5(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function g5(n){if(typeof atob>"u")throw t5("base-64");return atob(n)}var Di={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},su=class{constructor(e,t){this.data=e,this.contentType=t||null}};function _5(n,e){switch(n){case Di.RAW:return new su(wP(e));case Di.BASE64:case Di.BASE64URL:return new su(IP(n,e));case Di.DATA_URL:return new su(y5(e),b5(e))}throw OI()}function wP(n){let e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{let o=i,s=n.charCodeAt(++t);i=65536|(o&1023)<<10|s&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function v5(n){let e;try{e=decodeURIComponent(n)}catch{throw ou(Di.DATA_URL,"Malformed data URL.")}return wP(e)}function IP(n,e){switch(n){case Di.BASE64:{let r=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(r||o)throw ou(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Di.BASE64URL:{let r=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(r||o)throw ou(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=g5(e)}catch(r){throw r.message.includes("polyfill")?r:ou(n,"Invalid character found")}let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}var Dp=class{constructor(e){this.base64=!1,this.contentType=null;let t=e.match(/^data:([^,]+)?,/);if(t===null)throw ou(Di.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let i=t[1]||null;i!=null&&(this.base64=w5(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}};function y5(n){let e=new Dp(n);return e.base64?IP(Di.BASE64,e.rest):v5(e.rest)}function b5(n){return new Dp(n).contentType}function w5(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}var Tp=class n{constructor(e,t){let i=0,r="";dP(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(dP(this.data_)){let i=this.data_,r=m5(i,e,t);return r===null?null:new n(r)}else{let i=new Uint8Array(this.data_.buffer,e,t-e);return new n(i,!0)}}static getBlob(...e){if(LI()){let t=e.map(i=>i instanceof n?i.data_:i);return new n(p5.apply(null,t))}else{let t=e.map(s=>FI(s)?_5(Di.RAW,s).data:s.data_),i=0;t.forEach(s=>{i+=s.byteLength});let r=new Uint8Array(i),o=0;return t.forEach(s=>{for(let a=0;a<s.length;a++)r[o++]=s[a]}),new n(r,!0)}}uploadData(){return this.data_}};function EP(n){let e;try{e=JSON.parse(n)}catch{return null}return s5(e)?e:null}function I5(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function E5(n,e){let t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function CP(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function C5(n,e){return e}var Dt=class{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||C5}},Cp=null;function D5(n){return!FI(n)||n.length<2?n:CP(n)}function DP(){if(Cp)return Cp;let n=[];n.push(new Dt("bucket")),n.push(new Dt("generation")),n.push(new Dt("metageneration")),n.push(new Dt("name","fullPath",!0));function e(o,s){return D5(s)}let t=new Dt("name");t.xform=e,n.push(t);function i(o,s){return s!==void 0?Number(s):s}let r=new Dt("size");return r.xform=i,n.push(r),n.push(new Dt("timeCreated")),n.push(new Dt("updated")),n.push(new Dt("md5Hash",null,!0)),n.push(new Dt("cacheControl",null,!0)),n.push(new Dt("contentDisposition",null,!0)),n.push(new Dt("contentEncoding",null,!0)),n.push(new Dt("contentLanguage",null,!0)),n.push(new Dt("contentType",null,!0)),n.push(new Dt("metadata","customMetadata",!0)),Cp=n,Cp}function T5(n,e){function t(){let i=n.bucket,r=n.fullPath,o=new Hn(i,r);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function S5(n,e,t){let i={};i.type="file";let r=t.length;for(let o=0;o<r;o++){let s=t[o];i[s.local]=s.xform(i,e[s.server])}return T5(i,n),i}function TP(n,e,t){let i=EP(e);return i===null?null:S5(n,i,t)}function A5(n,e,t,i){let r=EP(e);if(r===null||!FI(r.downloadTokens))return null;let o=r.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(u=>{let h=n.bucket,p=n.fullPath,g="/b/"+s(h)+"/o/"+s(p),_=VI(g,t,i),I=bP({alt:"media",token:u});return _+I})[0]}function x5(n,e){let t={},i=e.length;for(let r=0;r<i;r++){let o=e[r];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}var Sp=class{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function SP(n){if(!n)throw OI()}function R5(n,e){function t(i,r){let o=TP(n,r,e);return SP(o!==null),o}return t}function M5(n,e){function t(i,r){let o=TP(n,r,e);return SP(o!==null),A5(o,r,n.host,n._protocol)}return t}function AP(n){function e(t,i){let r;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?r=GW():r=qW():t.getStatus()===402?r=HW(n.bucket):t.getStatus()===403?r=WW(n.path):r=i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}return e}function N5(n){let e=AP(n);function t(i,r){let o=e(i,r);return i.getStatus()===404&&(o=zW(n.path)),o.serverResponse=r.serverResponse,o}return t}function P5(n,e,t){let i=e.fullServerUrl(),r=VI(i,n.host,n._protocol),o="GET",s=n.maxOperationRetryTime,a=new Sp(r,o,M5(n,t),s);return a.errorHandler=N5(e),a}function k5(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function O5(n,e,t){let i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=k5(null,e)),i}function F5(n,e,t,i,r){let o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let G="";for(let Z=0;Z<2;Z++)G=G+Math.random().toString().slice(2);return G}let c=a();s["Content-Type"]="multipart/related; boundary="+c;let u=O5(e,i,r),h=x5(u,t),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,g=`\r
--`+c+"--",_=Tp.getBlob(p,i,g);if(_===null)throw JW();let I={name:u.fullPath},x=VI(o,n.host,n._protocol),M="POST",V=n.maxUploadRetryTime,z=new Sp(x,M,R5(n,t),V);return z.urlParams=I,z.headers=s,z.body=_.uploadData(),z.errorHandler=AP(e),z}var tie=256*1024;var fP=null,PI=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Va.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Va.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Va.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw ru("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),r!==void 0)for(let o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ru("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ru("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ru("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ru("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},kI=class extends PI{initXhr(){this.xhr_.responseType="text"}};function xP(){return fP?fP():new kI}var ja=class n{constructor(e,t){this._service=e,t instanceof Hn?this._location=t:this._location=Hn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new Hn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return CP(this._location.path)}get storage(){return this._service}get parent(){let e=I5(this._location.path);if(e===null)return null;let t=new Hn(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw n5(e)}};function L5(n,e,t){n._throwIfRoot("uploadBytes");let i=F5(n.storage,n._location,DP(),new Tp(e,!0),t);return n.storage.makeRequestWithTokens(i,xP).then(r=>({metadata:r,ref:n}))}function V5(n){n._throwIfRoot("getDownloadURL");let e=P5(n.storage,n._location,DP());return n.storage.makeRequestWithTokens(e,xP).then(t=>{if(t===null)throw e5();return t})}function j5(n,e){let t=E5(n._location.path,e),i=new Hn(n._location.bucket,t);return new ja(n.storage,i)}function U5(n){return/^[A-Za-z]+:\/\//.test(n)}function B5(n,e){return new ja(n,e)}function RP(n,e){if(n instanceof au){let t=n;if(t._bucket==null)throw XW();let i=new ja(t,t._bucket);return e!=null?RP(i,e):i}else return e!==void 0?j5(n,e):n}function $5(n,e){if(e&&U5(e)){if(n instanceof au)return B5(n,e);throw RI("To use ref(service, url), the first argument must be a Storage instance.")}else return RP(n,e)}function pP(n,e){let t=e?.[vP];return t==null?null:Hn.makeFromBucketSpec(t,n)}function z5(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:r}=i;r&&(n._overrideAuthToken=typeof r=="string"?r:Jh(r,n.app.options.projectId))}var au=class{constructor(e,t,i,r,o){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=_P,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=BW,this._maxUploadRetryTime=$W,this._requests=new Set,r!=null?this._bucket=Hn.makeFromBucketSpec(r,this._host):this._bucket=pP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Hn.makeFromBucketSpec(this._url,e):this._bucket=pP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){hP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){hP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return v(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return v(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ja(this,e)}_makeRequest(e,t,i,r,o=!0){if(this._deleted)return new MI(yP());{let s=h5(e,this._appId,i,r,t,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){return v(this,null,function*(){let[i,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,r).getPromise()})}},mP="@firebase/storage",gP="0.13.2";var MP="storage";function NP(n,e,t){return n=Ve(n),L5(n,e,t)}function PP(n){return n=Ve(n),V5(n)}function kP(n,e){return n=Ve(n),$5(n,e)}function OP(n=hi(),e){n=Ve(n);let i=Zi(n,MP).getImmediate({identifier:e}),r=aa("storage");return r&&FP(i,...r),i}function FP(n,e,t,i={}){z5(n,e,t,i)}function H5(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new au(t,i,r,e,di)}function q5(){In(new Ot(MP,H5,"PUBLIC").setMultipleInstances(!0)),Fe(mP,gP,""),Fe(mP,gP,"esm2017")}q5();var is=class{constructor(e){return e}},LP="storage",jI=class{constructor(){return Xi(LP)}};var UI=new U("angularfire2.storage-instances");function G5(n,e){let t=qr(LP,n,e);return t&&new is(t)}function W5(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new is(i)}}var K5={provide:jI,deps:[[new $e,UI]]},Y5={provide:is,useFactory:G5,deps:[[new $e,UI],ln]};function VP(n,...e){return Fe("angularfire",Vn.full,"gcs"),Yt([Y5,K5,{provide:UI,useFactory:W5(n),multi:!0,deps:[W,Oe,pi,jn,[new $e,rr],[new $e,fi],...e]}])}var BI=Ne(PP,!0);var jP=Ne(OP,!0);var $I=Ne(kP,!0);var zI=Ne(NP,!0);var Ap=class n{constructor(e){this.storage=e}uploadImage(e){let t=`candidate-images/${new Date().getTime()}_${e.name}`,i=$I(this.storage,t),r=zI(i,e);return new te(o=>{r.then(()=>BI(i)).then(s=>{o.next(s),o.complete()}).catch(s=>{o.error(s)})})}uploadFile(e){return v(this,null,function*(){let t=`candidate-images/${new Date().getTime()}_${e.name}`,i=$I(this.storage,t);try{return yield zI(i,e),yield BI(i)}catch(r){throw console.error("Error uploading file:",r),r}})}static \u0275fac=function(t){return new(t||n)(R(is))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};var xp=class n{constructor(e,t,i){this.firestoreService=e;this.fireStorageService=t;this.router=i}id="";name="";description="";imageUrl="";imageFile=null;onFileSelected(e){this.imageFile=e.target.files[0]}addCandidate(){return v(this,null,function*(){if(this.imageFile)try{this.imageUrl=yield this.fireStorageService.uploadFile(this.imageFile)}catch(t){console.error("Error uploading image:",t);return}let e={id:this.id,name:this.name,description:this.description,imageUrl:this.imageUrl,documentId:"",voteCount:0,percentage:0};try{yield this.firestoreService.addNewRecord(e),this.router.navigate(["/candidates"])}catch(t){console.error("Error adding candidate:",t)}})}static \u0275fac=function(t){return new(t||n)(N(eo),N(Ap),N(cn))};static \u0275cmp=Te({type:n,selectors:[["app-add-ancicate"]],standalone:!0,features:[Ae],decls:17,vars:2,consts:[[3,"ngSubmit"],["for","name"],["type","text","id","name","name","name","required","",3,"ngModelChange","ngModel"],["for","description"],["id","description","name","description","required","",3,"ngModelChange","ngModel"],["for","imageUrl"],["type","file","id","imageUrl",3,"change"],["type","submit"]],template:function(t,i){t&1&&(B(0,"h2"),ne(1,"Add New Candidate"),H(),B(2,"form",0),We("ngSubmit",function(){return i.addCandidate()}),B(3,"div")(4,"label",1),ne(5,"FullName:"),H(),B(6,"input",2),on("ngModelChange",function(o){return bn(i.name,o)||(i.name=o),o}),H()(),B(7,"div")(8,"label",3),ne(9,"Slogan:"),H(),B(10,"textarea",4),on("ngModelChange",function(o){return bn(i.description,o)||(i.description=o),o}),H()(),B(11,"div")(12,"label",5),ne(13,"Image:"),H(),B(14,"input",6),We("change",function(o){return i.onFileSelected(o)}),H()(),B(15,"button",7),ne(16,"Add Candidate"),H()()),t&2&&(Se(6),rn("ngModel",i.name),Se(4),rn("ngModel",i.description))},dependencies:[$r,Br,li,jr,Ur,Ki,Wi,Gi]})};var lu=class n{constructor(e,t){this.auth=e;this.router=t}canActivate(e,t){return Sf(this.auth).pipe(Q(i=>i?!0:(this.router.navigate(["/sign-in"]),!1)))}static \u0275fac=function(t){return new(t||n)(R(Un),R(cn))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};var qI;try{qI=typeof Intl<"u"&&Intl.v8BreakIterator}catch{qI=!1}var Ke=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?tA(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||qI)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||n)(R(si))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var uu;function X5(){if(uu==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>uu=!0}))}finally{uu=uu||!1}return uu}function Ua(n){return X5()?n:!!n.capture}var rs;function UP(){if(rs==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return rs=!1,rs;if("scrollBehavior"in document.documentElement.style)rs=!0;else{let n=Element.prototype.scrollTo;n?rs=!/\{\s*\[native code\]\s*\}/.test(n.toString()):rs=!1}}return rs}var HI;function J5(){if(HI==null){let n=typeof document<"u"?document.head:null;HI=!!(n&&(n.createShadowRoot||n.attachShadow))}return HI}function BP(n){if(J5()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function du(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){let e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function qn(n){return n.composedPath?n.composedPath()[0]:n.target}function Rp(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Mp(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function hu(n,e=0){return e8(n)?Number(n):e}function e8(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Ba(n){return Array.isArray(n)?n:[n]}function ct(n){return n==null?"":typeof n=="string"?n:`${n}px`}function lr(n){return n instanceof ve?n.nativeElement:n}var $P=new Set,ss,t8=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):i8}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&n8(t,this._nonce),this._matchMedia(t)}static{this.\u0275fac=function(i){return new(i||n)(R(Ke),R(jc,8))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function n8(n,e){if(!$P.has(n))try{ss||(ss=document.createElement("style"),e&&ss.setAttribute("nonce",e),ss.setAttribute("type","text/css"),document.head.appendChild(ss)),ss.sheet&&(ss.sheet.insertRule(`@media ${n} {body{ }}`,0),$P.add(n))}catch(t){console.error(t)}}function i8(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var HP=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new se}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return zP(Ba(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let r=zP(Ba(t)).map(s=>this._registerQuery(s).observable),o=Cs(r);return o=wr(o.pipe(nt(1)),o.pipe(wc(1),gd(0))),o.pipe(Q(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:u})=>{a.matches=a.matches||c,a.breakpoints[u]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let i=this._mediaMatcher.matchMedia(t),o={observable:new te(s=>{let a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Yn(i),Q(({matches:s})=>({query:t,matches:s})),Qn(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static{this.\u0275fac=function(i){return new(i||n)(R(t8),R(W))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function zP(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var qP={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var fu=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return s8(t)&&getComputedStyle(t).visibility==="visible"}isTabbable(t){if(!this._platform.isBrowser)return!1;let i=o8(p8(t));if(i&&(GP(i)===-1||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=GP(t);return t.hasAttribute("contenteditable")?o!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!h8(t)?!1:r==="audio"?t.hasAttribute("controls")?o!==-1:!1:r==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||t.hasAttribute("controls"):t.tabIndex>=0}isFocusable(t,i){return f8(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static{this.\u0275fac=function(i){return new(i||n)(R(Ke))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function o8(n){try{return n.frameElement}catch{return null}}function s8(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function a8(n){let e=n.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function c8(n){return u8(n)&&n.type=="hidden"}function l8(n){return d8(n)&&n.hasAttribute("href")}function u8(n){return n.nodeName.toLowerCase()=="input"}function d8(n){return n.nodeName.toLowerCase()=="a"}function WP(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let e=n.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function GP(n){if(!WP(n))return null;let e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function h8(n){let e=n.nodeName.toLowerCase(),t=e==="input"&&n.type;return t==="text"||t==="password"||e==="select"||e==="textarea"}function f8(n){return c8(n)?!1:a8(n)||l8(n)||n.hasAttribute("contenteditable")||WP(n)}function p8(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var GI=class{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){let e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){let i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){let t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let i=0;i<t.length;i++){let r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let i=t.length-1;i>=0;i--){let r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(nt(1)).subscribe(e)}},kp=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new GI(t,this._checker,this._ngZone,this._document,i)}static{this.\u0275fac=function(i){return new(i||n)(R(fu),R(W),R(ue))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function WI(n){return n.buttons===0||n.detail===0}function KI(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var m8=new U("cdk-input-modality-detector-options"),g8={ignoreKeys:[18,17,224,91,16]},KP=650,$a=Ua({passive:!0,capture:!0}),_8=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new ft(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=qn(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<KP||(this._modality.next(WI(s)?"keyboard":"mouse"),this._mostRecentTarget=qn(s))},this._onTouchstart=s=>{if(KI(s)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=qn(s)},this._options=k(k({},g8),o),this.modalityDetected=this._modality.pipe(wc(1)),this.modalityChanged=this.modalityDetected.pipe(_d()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,$a),r.addEventListener("mousedown",this._onMousedown,$a),r.addEventListener("touchstart",this._onTouchstart,$a)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,$a),document.removeEventListener("mousedown",this._onMousedown,$a),document.removeEventListener("touchstart",this._onTouchstart,$a))}static{this.\u0275fac=function(i){return new(i||n)(R(Ke),R(W),R(ue),R(m8,8))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Pp=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(Pp||{}),v8=new U("cdk-focus-monitor-default-options"),Np=Ua({passive:!0,capture:!0}),za=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new se,this._rootNodeFocusAndBlurListener=a=>{let c=qn(a);for(let u=c;u;u=u.parentElement)a.type==="focus"?this._onFocus(a,u):this._onBlur(a,u)},this._document=o,this._detectionMode=s?.detectionMode||Pp.IMMEDIATE}monitor(t,i=!1){let r=lr(t);if(!this._platform.isBrowser||r.nodeType!==1)return K();let o=BP(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;let a={checkChildren:i,subject:new se,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){let i=lr(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){let o=lr(t),s=this._getDocument().activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===Pp.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused",i==="touch"),t.classList.toggle("cdk-keyboard-focused",i==="keyboard"),t.classList.toggle("cdk-mouse-focused",i==="mouse"),t.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&i,this._detectionMode===Pp.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?KP:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(t,i){let r=this._elementInfo.get(i),o=qn(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Np),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Np)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Qn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){let i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Np),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Np),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){let i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let o=t.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0}return!1}static{this.\u0275fac=function(i){return new(i||n)(R(W),R(Ke),R(_8),R(ue,8),R(v8,8))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var y8=new U("cdk-dir-doc",{providedIn:"root",factory:b8});function b8(){return O(ue)}var w8=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function I8(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?w8.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var pu=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new xe,t){let i=t.body?t.body.dir:null,r=t.documentElement?t.documentElement.dir:null;this.value=I8(i||r||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||n)(R(y8,8))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Cn=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(Cn||{}),ZI=class{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=Cn.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},QP=Ua({passive:!0,capture:!0}),XI=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let t=qn(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){let o=this._events.get(t);if(o){let s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,QP)})}removeHandler(e,t,i){let r=this._events.get(e);if(!r)return;let o=r.get(t);o&&(o.delete(i),o.size===0&&r.delete(t),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,QP)))}},ZP={enterDuration:225,exitDuration:150},C8=800,XP=Ua({passive:!0,capture:!0}),JP=["mousedown","touchstart"],ek=["mouseup","mouseleave","touchend","touchcancel"],JI=class n{static{this._eventManager=new XI}constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=lr(i))}fadeInRipple(e,t,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=k(k({},ZP),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);let s=i.radius||D8(e,t,r),a=e-r.left,c=t-r.top,u=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=`${a-s}px`,h.style.top=`${c-s}px`,h.style.height=`${s*2}px`,h.style.width=`${s*2}px`,i.color!=null&&(h.style.backgroundColor=i.color),h.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(h);let p=window.getComputedStyle(h),g=p.transitionProperty,_=p.transitionDuration,I=g==="none"||_==="0s"||_==="0s, 0s"||r.width===0&&r.height===0,x=new ZI(this,h,i,I);h.style.transform="scale3d(1, 1, 1)",x.state=Cn.FADING_IN,i.persistent||(this._mostRecentTransientRipple=x);let M=null;return!I&&(u||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let V=()=>this._finishRippleTransition(x),z=()=>this._destroyRipple(x);h.addEventListener("transitionend",V),h.addEventListener("transitioncancel",z),M={onTransitionEnd:V,onTransitionCancel:z}}),this._activeRipples.set(x,M),(I||!u)&&this._finishRippleTransition(x),x}fadeOutRipple(e){if(e.state===Cn.FADING_OUT||e.state===Cn.HIDDEN)return;let t=e.element,i=k(k({},ZP),e.config.animation);t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=Cn.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=lr(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,JP.forEach(i=>{n._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{ek.forEach(t=>{this._triggerElement.addEventListener(t,this,XP)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Cn.FADING_IN?this._startFadeOutTransition(e):e.state===Cn.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=Cn.VISIBLE,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Cn.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){let t=WI(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+C8;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!KI(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===Cn.VISIBLE||e.config.terminateOnPointerUp&&e.state===Cn.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(JP.forEach(t=>n._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(ek.forEach(t=>e.removeEventListener(t,this,XP)),this._pointerUpEventsRegistered=!1))}};function D8(n,e,t){let i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}var rk=new U("mat-ripple-global-options"),T8=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new JI(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:k(k(k({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return typeof t=="number"?this._rippleRenderer.fadeInRipple(t,i,k(k({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,k(k({},this.rippleConfig),t))}static{this.\u0275fac=function(i){return new(i||n)(N(ve),N(W),N(Ke),N(rk,8),N(Nn,8))}}static{this.\u0275dir=ge({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){i&2&&st("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return n})();var tk={capture:!0},nk=["focus","click","mouseenter","touchstart"],YI="mat-ripple-loader-uninitialized",QI="mat-ripple-loader-class-name",ik="mat-ripple-loader-centered",Op="mat-ripple-loader-disabled",ok=(()=>{class n{constructor(){this._document=O(ue,{optional:!0}),this._animationMode=O(Nn,{optional:!0}),this._globalRippleOptions=O(rk,{optional:!0}),this._platform=O(Ke),this._ngZone=O(W),this._hosts=new Map,this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;let r=t.target.closest(`[${YI}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(let t of nk)this._document?.addEventListener(t,this._onInteraction,tk)})}ngOnDestroy(){let t=this._hosts.keys();for(let i of t)this.destroyRipple(i);for(let i of nk)this._document?.removeEventListener(i,this._onInteraction,tk)}configureRipple(t,i){t.setAttribute(YI,""),(i.className||!t.hasAttribute(QI))&&t.setAttribute(QI,i.className||""),i.centered&&t.setAttribute(ik,""),i.disabled&&t.setAttribute(Op,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,i){let r=this._hosts.get(t);if(r){r.disabled=i;return}i?t.setAttribute(Op,""):t.removeAttribute(Op)}_createRipple(t){if(!this._document)return;let i=this._hosts.get(t);if(i)return i;t.querySelector(".mat-ripple")?.remove();let r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(QI)),t.append(r);let o=new T8(new ve(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=t,o.centered=t.hasAttribute(ik),o.disabled=t.hasAttribute(Op),this.attachRipple(t,o),o}attachRipple(t,i){t.removeAttribute(YI),this._hosts.set(t,i)}destroyRipple(t){let i=this._hosts.get(t);i&&(i.ngOnDestroy(),this._hosts.delete(t))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var S8=["*"];var A8=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],x8=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],R8=new U("MAT_CARD_CONFIG"),sk=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}static{this.\u0275fac=function(i){return new(i||n)(N(R8,8))}}static{this.\u0275cmp=Te({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){i&2&&st("mat-mdc-card-outlined",r.appearance==="outlined")("mdc-card--outlined",r.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[Ae],ngContentSelectors:S8,decls:1,vars:0,template:function(i,r){i&1&&(yn(),It(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}}return n})(),ak=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=ge({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}}return n})();var ck=(()=>{class n{constructor(){this.align="start"}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=ge({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(i,r){i&2&&st("mat-mdc-card-actions-align-end",r.align==="end")},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0})}}return n})(),lk=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Te({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[Ae],ngContentSelectors:x8,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){i&1&&(yn(A8),It(0),B(1,"div",0),It(2,1),H(),It(3,2))},encapsulation:2,changeDetection:0})}}return n})();var uk=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=ge({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"],standalone:!0})}}return n})();var M8=["mat-button",""],N8=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],P8=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var k8=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}";var O8=["mat-icon-button",""],F8=["*"];var L8=new U("MAT_BUTTON_CONFIG");var V8=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],dk=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,i,r,o){this._elementRef=t,this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=O(za),this._rippleLoader=O(ok),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let s=O(L8,{optional:!0}),a=t.nativeElement,c=a.classList;this.disabledInteractive=s?.disabledInteractive??!1,this._rippleLoader?.configureRipple(a,{className:"mat-mdc-button-ripple"});for(let{attribute:u,mdcClasses:h}of V8)a.hasAttribute(u)&&c.add(...h)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(i){k_()}}static{this.\u0275dir=ge({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",mt],disabled:[2,"disabled","disabled",mt],ariaDisabled:[2,"aria-disabled","ariaDisabled",mt],disabledInteractive:[2,"disabledInteractive","disabledInteractive",mt]},features:[kn]})}}return n})();var e0=(()=>{class n extends dk{constructor(t,i,r,o){super(t,i,r,o)}static{this.\u0275fac=function(i){return new(i||n)(N(ve),N(Ke),N(W),N(Nn,8))}}static{this.\u0275cmp=Te({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,r){i&2&&(bt("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),To(r.color?"mat-"+r.color:""),st("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[ot,Ae],attrs:M8,ngContentSelectors:P8,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(yn(N8),Gt(0,"span",0),It(1),B(2,"span",1),It(3,1),H(),It(4,2),Gt(5,"span",2)(6,"span",3)),i&2&&st("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return n})();var hk=(()=>{class n extends dk{constructor(t,i,r,o){super(t,i,r,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static{this.\u0275fac=function(i){return new(i||n)(N(ve),N(Ke),N(W),N(Nn,8))}}static{this.\u0275cmp=Te({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,r){i&2&&(bt("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),To(r.color?"mat-"+r.color:""),st("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[ot,Ae],attrs:O8,ngContentSelectors:F8,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(yn(),Gt(0,"span",0),It(1),Gt(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{color:var(--mdc-icon-button-icon-color)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',k8],encapsulation:2,changeDetection:0})}}return n})();var j8=["*"],Fp;function U8(){if(Fp===void 0&&(Fp=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(Fp=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Fp}function mu(n){return U8()?.createHTML(n)||n}function fk(n){return Error(`Unable to find icon with the name "${n}"`)}function B8(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}function pk(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function mk(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var ur=class{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}},$8=(()=>{class n{constructor(t,i,r,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,o){return this._addSvgIconConfig(t,i,new ur(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,o){let s=this._sanitizer.sanitize(Nt.HTML,r);if(!s)throw mk(r);let a=mu(s);return this._addSvgIconConfig(t,i,new ur("",a,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new ur(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){let o=this._sanitizer.sanitize(Nt.HTML,i);if(!o)throw mk(i);let s=mu(o);return this._addSvgIconSetConfig(t,new ur("",s,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){let i=this._sanitizer.sanitize(Nt.RESOURCE_URL,t);if(!i)throw pk(t);let r=this._cachedIconsByUrl.get(i);return r?K(Lp(r)):this._loadSvgIconFromConfig(new ur(t,null)).pipe(Ge(o=>this._cachedIconsByUrl.set(i,o)),Q(o=>Lp(o)))}getNamedSvgIcon(t,i=""){let r=gk(i,t),o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);let s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(t,s):br(fk(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?K(Lp(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Q(i=>Lp(i)))}_getSvgFromIconSetConfigs(t,i){let r=this._extractIconWithNameFromAnySet(t,i);if(r)return K(r);let o=i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Wn(a=>{let u=`Loading icon set URL: ${this._sanitizer.sanitize(Nt.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(u)),K(null)})));return vc(o).pipe(Q(()=>{let s=this._extractIconWithNameFromAnySet(t,i);if(!s)throw fk(t);return s}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){let o=i[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){let s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Ge(i=>t.svgText=i),Q(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?K(null):this._fetchIcon(t).pipe(Ge(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){let o=t.querySelector(`[id="${i}"]`);if(!o)return null;let s=o.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,r);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),r);let a=this._svgElementFromString(mu("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(t){let i=this._document.createElement("DIV");i.innerHTML=t;let r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){let i=this._svgElementFromString(mu("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){let{name:s,value:a}=r[o];s!=="id"&&i.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){let{url:i,options:r}=t,o=r?.withCredentials??!1;if(!this._httpClient)throw B8();if(i==null)throw Error(`Cannot fetch icon from URL "${i}".`);let s=this._sanitizer.sanitize(Nt.RESOURCE_URL,i);if(!s)throw pk(i);let a=this._inProgressUrlFetches.get(s);if(a)return a;let c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(Q(u=>mu(u)),Dr(()=>this._inProgressUrlFetches.delete(s)),zm());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(gk(t,i),r),this}_addSvgIconSetConfig(t,i){let r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){let i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){let o=this._resolvers[r](i,t);if(o)return z8(o)?new ur(o.url,null,o.options):new ur(o,null)}}static{this.\u0275fac=function(i){return new(i||n)(R(aA,8),R(uv),R(ue,8),R(tn))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Lp(n){return n.cloneNode(!0)}function gk(n,e){return n+":"+e}function z8(n){return!!(n.url&&n.options)}var H8=new U("MAT_ICON_DEFAULT_OPTIONS"),q8=new U("mat-icon-location",{providedIn:"root",factory:G8});function G8(){let n=O(ue),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var _k=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],W8=_k.map(n=>`[${n}]`).join(", "),K8=/^url\(['"]?#(.*?)['"]?\)$/,vk=(()=>{class n{get color(){return this._color||this._defaultColor}set color(t){this._color=t}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){let i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){let i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,o,s,a){this._elementRef=t,this._iconRegistry=i,this._location=o,this._errorHandler=s,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Pe.EMPTY,a&&(a.color&&(this.color=this._defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];let i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let t=this._elementsWithExternalReferences;if(t&&t.size){let i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();let i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){let t=this._elementRef.nativeElement,i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){let r=t.childNodes[i];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return typeof t=="string"?t.trim().split(" ")[0]:t}_prependPathToReferences(t){let i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){let i=t.querySelectorAll(W8),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)_k.forEach(s=>{let a=i[o],c=a.getAttribute(s),u=c?c.match(K8):null;if(u){let h=r.get(a);h||(h=[],r.set(a,h)),h.push({name:s,value:u[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){let[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(nt(1)).subscribe(o=>this._setSvgElement(o),o=>{let s=`Error retrieving icon ${i}:${r}! ${o.message}`;this._errorHandler.handleError(new Error(s))})}}static{this.\u0275fac=function(i){return new(i||n)(N(ve),N($8),Vc("aria-hidden"),N(q8),N(tn),N(H8,8))}}static{this.\u0275cmp=Te({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,r){i&2&&(bt("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),To(r.color?"mat-"+r.color:""),st("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",mt],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[kn,Ae],ngContentSelectors:j8,decls:1,vars:0,template:function(i,r){i&1&&(yn(),It(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return n})();var Y8=20,yk=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new se,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=Y8){return this._platform.isBrowser?new te(i=>{this._globalSubscription||this._addGlobalListener();let r=t>0?this._scrolled.pipe(md(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):K()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){let r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(qe(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){let i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=lr(i),o=t.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let t=this._getWindow();return yc(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||n)(R(W),R(Ke),R(ue,8))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Q8=20,t0=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new se,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect(),s=-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,a=-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:s,left:a}}change(t=Q8){return t>0?this._change.pipe(md(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||n)(R(Ke),R(W),R(ue,8))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var gu=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Ha=class extends gu{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}},qa=class extends gu{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},n0=class extends gu{constructor(e){super(),this.element=e instanceof ve?e.nativeElement:e}},Ga=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof Ha)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof qa)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof n0)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Vp=class extends Ga{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(e){let i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||Oe.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);r!==-1&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var _u=(()=>{class n extends Ga{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new xe,this.attachDomPortal=o=>{this._document;let s=o.element;s.parentNode;let a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);let i=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=i.createComponent(o,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static{this.\u0275fac=function(i){return new(i||n)(N(ii),N(vn),N(ue))}}static{this.\u0275dir=ge({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[ot]})}}return n})();var bk=UP(),i0=class{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ct(-this._previousScrollPosition.left),e.style.top=ct(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,i=e.style,r=t.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),bk&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),bk&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}};var r0=class{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(qe(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},jp=class{enable(){}disable(){}attach(){}};function o0(n,e){return e.some(t=>{let i=n.bottom<t.top,r=n.top>t.bottom,o=n.right<t.left,s=n.left>t.right;return i||r||o||s})}function wk(n,e){return e.some(t=>{let i=n.top<t.top,r=n.bottom>t.bottom,o=n.left<t.left,s=n.right>t.right;return i||r||o||s})}var s0=class{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();o0(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},X8=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new jp,this.close=s=>new r0(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new i0(this._viewportRuler,this._document),this.reposition=s=>new s0(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static{this.\u0275fac=function(i){return new(i||n)(R(yk),R(t0),R(W),R(ue))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vu=class{constructor(e){if(this.scrollStrategy=new jp,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let t=Object.keys(e);for(let i of t)e[i]!==void 0&&(this[i]=e[i])}}};var a0=class{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var Sk=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static{this.\u0275fac=function(i){return new(i||n)(R(ue))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),J8=(()=>{class n extends Sk{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{let o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){let a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||n)(R(ue),R(W,8))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),e3=(()=>{class n extends Sk{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=qn(o)},this._clickListener=o=>{let s=qn(o),a=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;let c=this._attachedOverlays.slice();for(let u=c.length-1;u>-1;u--){let h=c[u];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(h.overlayElement.contains(s)||h.overlayElement.contains(a))break;let p=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>p.next(o)):p.next(o)}}}add(t){if(super.add(t),!this._isAttached){let i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||n)(R(ue),R(Ke),R(W,8))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Wa=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||Rp()){let r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let i=this._document.createElement("div");i.classList.add(t),Rp()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||n)(R(ue),R(Ke))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),dr=class{constructor(e,t,i,r,o,s,a,c,u,h=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=u,this._animationsDisabled=h,this._backdropElement=null,this._backdropClick=new se,this._attachments=new se,this._detachments=new se,this._locationChanges=Pe.EMPTY,this._backdropClickHandler=p=>this._backdropClick.next(p),this._backdropTransitionendHandler=p=>{this._disposeBackdrop(p.target)},this._keydownEvents=new se,this._outsidePointerEvents=new se,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(nt(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=k(k({},this._config),e),this._updateElementSize()}setDirection(e){this._config=ce(k({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=ct(this._config.width),e.height=ct(this._config.height),e.minWidth=ct(this._config.minWidth),e.minHeight=ct(this._config.minHeight),e.maxWidth=ct(this._config.maxWidth),e.maxHeight=ct(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){let r=Ba(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let e=this._ngZone.onStable.pipe(Qn(bc(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},Ik="cdk-overlay-connected-position-bounding-box",t3=/([A-Za-z%]+)$/,c0=class{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new se,this._resizeSubscription=Pe.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(Ik),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,r,a),u=this._getOverlayPoint(c,t,a),h=this._getOverlayFit(u,t,i,a);if(h.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(h,u,i)){o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!s||s.overlayFit.visibleArea<h.visibleArea)&&(s={overlayFit:h,overlayPoint:u,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(let u of o){let h=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);h>c&&(c=h,a=u)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&as(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Ik),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r;if(i.originX=="center")r=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r=i.originX=="start"?s:a}t.left<0&&(r-=t.left);let o;return i.originY=="center"?o=e.top+e.height/2:o=i.originY=="top"?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r;i.overlayX=="center"?r=-t.width/2:i.overlayX==="start"?r=this._isRtl()?-t.width:0:r=this._isRtl()?0:-t.width;let o;return i.overlayY=="center"?o=-t.height/2:o=i.overlayY=="top"?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){let o=Ck(t),{x:s,y:a}=e,c=this._getOffset(r,"x"),u=this._getOffset(r,"y");c&&(s+=c),u&&(a+=u);let h=0-s,p=s+o.width-i.width,g=0-a,_=a+o.height-i.height,I=this._subtractOverflows(o.width,h,p),x=this._subtractOverflows(o.height,g,_),M=I*x;return{visibleArea:M,isCompletelyWithinViewport:o.width*o.height===M,fitsInViewportVertically:x===o.height,fitsInViewportHorizontally:I==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){let r=i.bottom-t.y,o=i.right-t.x,s=Ek(this._overlayRef.getConfig().minHeight),a=Ek(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportVertically||s!=null&&s<=r,u=e.fitsInViewportHorizontally||a!=null&&a<=o;return c&&u}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let r=Ck(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),c=Math.max(o.top-i.top-e.y,0),u=Math.max(o.left-i.left-e.x,0),h=0,p=0;return r.width<=o.width?h=u||-s:h=e.x<this._viewportMargin?o.left-i.left-e.x:0,r.height<=o.height?p=c||-a:p=e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:h,y:p},{x:e.x+h,y:e.y+p}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!n3(this._lastScrollVisibility,i)){let r=new a0(e,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=e.overlayY;e.overlayX==="center"?i="center":this._isRtl()?i=e.overlayX==="start"?"right":"left":i=e.overlayX==="start"?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){let i=this._viewportRect,r=this._isRtl(),o,s,a;if(t.overlayY==="top")s=e.y,o=i.height-s+this._viewportMargin;else if(t.overlayY==="bottom")a=i.height-e.y+this._viewportMargin*2,o=i.height-a+this._viewportMargin;else{let _=Math.min(i.bottom-e.y+i.top,e.y),I=this._lastBoundingBoxSize.height;o=_*2,s=e.y-_,o>I&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-I/2)}let c=t.overlayX==="start"&&!r||t.overlayX==="end"&&r,u=t.overlayX==="end"&&!r||t.overlayX==="start"&&r,h,p,g;if(u)g=i.width-e.x+this._viewportMargin*2,h=e.x-this._viewportMargin;else if(c)p=e.x,h=i.right-e.x;else{let _=Math.min(i.right-e.x+i.left,e.x),I=this._lastBoundingBoxSize.width;h=_*2,p=e.x-_,h>I&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-I/2)}return{top:s,left:p,bottom:a,right:g,width:h,height:o}}_setBoundingBoxStyles(e,t){let i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=ct(i.height),r.top=ct(i.top),r.bottom=ct(i.bottom),r.width=ct(i.width),r.left=ct(i.left),r.right=ct(i.right),t.overlayX==="center"?r.alignItems="center":r.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?r.justifyContent="center":r.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=ct(o)),s&&(r.maxWidth=ct(s))}this._lastBoundingBoxSize=i,as(this._boundingBox.style,r)}_resetBoundingBoxStyles(){as(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){as(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let h=this._viewportRuler.getViewportScrollPosition();as(i,this._getExactOverlayY(t,e,h)),as(i,this._getExactOverlayX(t,e,h))}else i.position="static";let a="",c=this._getOffset(t,"x"),u=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),u&&(a+=`translateY(${u}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=ct(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=ct(s.maxWidth):o&&(i.maxWidth="")),as(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=ct(o.y);return r}_getExactOverlayX(e,t,i){let r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=ct(o.x);return r}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:wk(e,i),isOriginOutsideView:o0(e,i),isOverlayClipped:wk(t,i),isOverlayOutsideView:o0(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Ba(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof ve)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}};function as(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Ek(n){if(typeof n!="number"&&n!=null){let[e,t]=n.split(t3);return!t||t==="px"?parseFloat(e):null}return n||null}function Ck(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function n3(n,e){return n===e?!0:n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}var Dk="cdk-global-overlay-wrapper",l0=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Dk),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),u=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),h=this._xPosition,p=this._xOffset,g=this._overlayRef.getConfig().direction==="rtl",_="",I="",x="";c?x="flex-start":h==="center"?(x="center",g?I=p:_=p):g?h==="left"||h==="end"?(x="flex-end",_=p):(h==="right"||h==="start")&&(x="flex-start",I=p):h==="left"||h==="start"?(x="flex-start",_=p):(h==="right"||h==="end")&&(x="flex-end",I=p),e.position=this._cssPosition,e.marginLeft=c?"0":_,e.marginTop=u?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":I,t.justifyContent=x,t.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(Dk),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},i3=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new l0}flexibleConnectedTo(t){return new c0(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||n)(R(t0),R(ue),R(Ke),R(Wa))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),r3=0,to=(()=>{class n{constructor(t,i,r,o,s,a,c,u,h,p,g,_){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=u,this._directionality=h,this._location=p,this._outsideClickDispatcher=g,this._animationsModuleType=_}create(t){let i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new vu(t);return s.direction=s.direction||this._directionality.value,new dr(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(t){let i=this._document.createElement("div");return i.id=`cdk-overlay-${r3++}`,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){let t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Ui)),new Vp(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||n)(R(X8),R(Wa),R(ii),R(i3),R(J8),R(Oe),R(W),R(ue),R(pu),R(zi),R(e3),R(Nn,8))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function s3(n,e){}var cs=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var h0=(()=>{class n extends Ga{constructor(t,i,r,o,s,a,c,u){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=c,this._focusMonitor=u,this._platform=O(Ke),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=O(On),this.attachDomPortal=h=>{this._portalOutlet.hasAttached();let p=this._portalOutlet.attachDomPortal(h);return this._contentAttached(),p},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){let i=this._ariaLabelledByQueue.indexOf(t);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){let t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}}_restoreFocus(){let t=this._config.restoreFocus,i=null;if(typeof t=="string"?i=this._document.querySelector(t):typeof t=="boolean"?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&typeof i.focus=="function"){let r=du(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let t=this._elementRef.nativeElement,i=du();return t===i||t.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=du()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static{this.\u0275fac=function(i){return new(i||n)(N(ve),N(kp),N(ue,8),N(cs),N(fu),N(W),N(dr),N(za))}}static{this.\u0275cmp=Te({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(i&1&&_h(_u,7),i&2){let o;So(o=Ao())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){i&2&&bt("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},standalone:!0,features:[ot,Ae],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){i&1&&yt(0,s3,0,0,"ng-template",0)},dependencies:[_u],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}}return n})(),yu=class{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new se,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!Mp(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{t.closeOnOverlayDetachments!==!1&&this.close()})}close(e,t){if(this.containerInstance){let i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}},a3=new U("DialogScrollStrategy",{providedIn:"root",factory:()=>{let n=O(to);return()=>n.scrollStrategies.block()}}),c3=new U("DialogData"),l3=new U("DefaultDialogConfig");var u3=0,xk=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,r,o,s,a){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new se,this._afterOpenedAtThisLevel=new se,this._ariaHiddenElements=new Map,this.afterAllClosed=Ir(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Yn(void 0))),this._scrollStrategy=a}open(t,i){let r=this._defaultOptions||new cs;i=k(k({},r),i),i.id=i.id||`cdk-dialog-${u3++}`,i.id&&this.getDialogById(i.id);let o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new yu(s,i),c=this._attachContainer(s,a,i);return a.containerInstance=c,this._attachDialogContent(t,a,c,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){u0(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){u0(this._openDialogsAtThisLevel,t=>{t.config.closeOnDestroy===!1&&this._removeOpenDialog(t,!1)}),u0(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){let i=new vu({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){let o=r.injector||r.viewContainerRef?.injector,s=[{provide:cs,useValue:r},{provide:yu,useValue:i},{provide:dr,useValue:t}],a;r.container?typeof r.container=="function"?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=h0;let c=new Ha(a,r.viewContainerRef,Oe.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return t.attach(c).instance}_attachDialogContent(t,i,r,o){if(t instanceof gn){let s=this._createInjector(o,i,r,void 0),a={$implicit:o.data,dialogRef:i};o.templateContext&&(a=k(k({},a),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),r.attachTemplatePortal(new qa(t,null,a,s))}else{let s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new Ha(t,o.viewContainerRef,s,o.componentFactoryResolver));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(t,i,r,o){let s=t.injector||t.viewContainerRef?.injector,a=[{provide:c3,useValue:t.data},{provide:yu,useValue:i}];return t.providers&&(typeof t.providers=="function"?a.push(...t.providers(i,t,r)):a.push(...t.providers)),t.direction&&(!s||!s.get(pu,null,{optional:!0}))&&a.push({provide:pu,useValue:{value:t.direction,change:K()}}),Oe.create({parent:s||o,providers:a})}_removeOpenDialog(t,i){let r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let t=this._overlayContainer.getContainerElement();if(t.parentElement){let i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){let o=i[r];o!==t&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static{this.\u0275fac=function(i){return new(i||n)(R(to),R(Oe),R(l3,8),R(n,12),R(Wa),R(a3))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function u0(n,e){let t=n.length;for(;t--;)e(n[t])}function d3(n,e){}var bu=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},f0="mdc-dialog--open",Rk="mdc-dialog--opening",Mk="mdc-dialog--closing",h3=150,f3=75,p3=(()=>{class n extends h0{constructor(t,i,r,o,s,a,c,u,h){super(t,i,r,o,s,a,c,h),this._animationMode=u,this._animationStateChanged=new xe,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Pk(this._config.enterAnimationDuration)??h3:0,this._exitAnimationDuration=this._animationsEnabled?Pk(this._config.exitAnimationDuration)??f3:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Nk,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Rk,f0)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(f0),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(f0),this._animationsEnabled?(this._hostElement.style.setProperty(Nk,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Mk)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(t){this._actionSectionCount+=t,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(Rk,Mk)}_waitForAnimationToComplete(t,i){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(t){let i=super.attachComponentPortal(t);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static{this.\u0275fac=function(i){return new(i||n)(N(ve),N(kp),N(ue,8),N(bu),N(fu),N(W),N(dr),N(Nn,8),N(za))}}static{this.\u0275cmp=Te({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,r){i&2&&(Hc("id",r._config.id),bt("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),st("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},standalone:!0,features:[ot,Ae],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){i&1&&(B(0,"div",0)(1,"div",1),yt(2,d3,0,0,"ng-template",2),H()())},dependencies:[_u],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}}return n})(),Nk="--mat-dialog-transition-duration";function Pk(n){return n==null?null:typeof n=="number"?n:n.endsWith("ms")?hu(n.substring(0,n.length-2)):n.endsWith("s")?hu(n.substring(0,n.length-1))*1e3:n==="0"?0:null}var Up=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(Up||{}),wu=class{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new se,this._beforeClosed=new se,this._state=Up.OPEN,this.disableClose=t.disableClose,this.id=e.id,e.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(qe(r=>r.state==="opened"),nt(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(qe(r=>r.state==="closed"),nt(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),bc(this.backdropClick(),this.keydownEvents().pipe(qe(r=>r.keyCode===27&&!this.disableClose&&!Mp(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),kk(this,r.type==="keydown"?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(qe(t=>t.state==="closing"),nt(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=Up.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=Up.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function kk(n,e,t){return n._closeInteractionType=e,n.close(t)}var p0=new U("MatMdcDialogData"),m3=new U("mat-mdc-dialog-default-options"),g3=new U("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let n=O(to);return()=>n.scrollStrategies.block()}});var _3=0,Bp=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,i,r,o,s,a,c,u){this._overlay=t,this._defaultOptions=o,this._scrollStrategy=s,this._parentDialog=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new se,this._afterOpenedAtThisLevel=new se,this.dialogConfigClass=bu,this.afterAllClosed=Ir(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Yn(void 0))),this._dialog=i.get(xk),this._dialogRefConstructor=wu,this._dialogContainerType=p3,this._dialogDataToken=p0}open(t,i){let r;i=k(k({},this._defaultOptions||new bu),i),i.id=i.id||`mat-mdc-dialog-${_3++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(t,ce(k({},i),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:cs,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(s,a,c)=>(r=new this._dialogRefConstructor(s,i,c),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])}));return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}static{this.\u0275fac=function(i){return new(i||n)(R(to),R(Oe),R(zi,8),R(m3,8),R(g3),R(n,12),R(Wa),R(Nn,8))}}static{this.\u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),v3=0,Ok=(()=>{class n{constructor(t,i,r){this.dialogRef=t,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=Uk(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){let i=t._matDialogClose||t._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(t){kk(this.dialogRef,t.screenX===0&&t.screenY===0?"keyboard":"mouse",this.dialogResult)}static{this.\u0275fac=function(i){return new(i||n)(N(wu,8),N(ve),N(Bp))}}static{this.\u0275dir=ge({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(i,r){i&1&&We("click",function(s){return r._onButtonClick(s)}),i&2&&bt("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[nn]})}}return n})(),Fk=(()=>{class n{constructor(t,i,r){this._dialogRef=t,this._elementRef=i,this._dialog=r}ngOnInit(){this._dialogRef||(this._dialogRef=Uk(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static{this.\u0275fac=function(i){return new(i||n)(N(wu,8),N(ve),N(Bp))}}static{this.\u0275dir=ge({type:n,standalone:!0})}}return n})(),Lk=(()=>{class n extends Fk{constructor(){super(...arguments),this.id=`mat-mdc-dialog-title-${v3++}`}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=oi(n)))(r||n)}})()}static{this.\u0275dir=ge({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,r){i&2&&Hc("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[ot]})}}return n})(),Vk=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=ge({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0})}}return n})(),jk=(()=>{class n extends Fk{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=oi(n)))(r||n)}})()}static{this.\u0275dir=ge({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(i,r){i&2&&st("mat-mdc-dialog-actions-align-start",r.align==="start")("mat-mdc-dialog-actions-align-center",r.align==="center")("mat-mdc-dialog-actions-align-end",r.align==="end")},inputs:{align:"align"},standalone:!0,features:[ot]})}}return n})();function Uk(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?e.find(i=>i.id===t.id):null}var b3=["*",[["mat-toolbar-row"]]],w3=["*","mat-toolbar-row"],I3=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=ge({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}}return n})(),Bk=(()=>{class n{constructor(t,i,r){this._elementRef=t,this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static{this.\u0275fac=function(i){return new(i||n)(N(ve),N(Ke),N(ue))}}static{this.\u0275cmp=Te({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(i&1&&z_(o,I3,5),i&2){let s;So(s=Ao())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(i,r){i&2&&(To(r.color?"mat-"+r.color:""),st("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",r._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[Ae],ngContentSelectors:w3,decls:2,vars:0,template:function(i,r){i&1&&(yn(b3),It(0),It(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return n})();var Dn=class n{constructor(e,t){this.auth=e;this.firestoreService=t;this.listenToAuthStateChanges()}user=null;listenToAuthStateChanges(){Sf(this.auth).subscribe(e=>{})}signUpWithEmailAndPassword(e){return v(this,null,function*(){try{let t=yield QR(this.auth,e.email,e.password);return t.user&&(t.user.emailVerified||(yield XR(t.user)),yield this.firestoreService.addNewUser(e,t),this.user=t.user),t}catch(t){throw console.error("Error signing up with email and password:",t),t}})}signInWithEmailAndPassword(e,t){return v(this,null,function*(){try{let i=yield JR(this.auth,e,t);if(i.user){if(!i.user.emailVerified)throw new Error("Email not verified. Please verify your email before signing in.");this.user=i.user}return i}catch(i){throw console.error("Error signing in:",i),i}})}forgotPassword(e){return v(this,null,function*(){try{yield db(this.auth,e),console.log(`Password reset email sent to ${e}`)}catch(t){throw console.error("Error sending password reset email:",t),t}})}signOut(){return v(this,null,function*(){yield this.auth.signOut()})}sendPasswordResetEmail(e){return v(this,null,function*(){return db(this.auth,e)})}getCurrentUser(){return this.auth.currentUser?.uid}static \u0275fac=function(t){return new(t||n)(R(Un),R(eo))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})};function E3(n,e){if(n&1){let t=qs();B(0,"button",8),We("click",function(){Bs(t);let r=wt();return $s(r.toggleSideNav())}),B(1,"mat-icon"),ne(2,"menu"),H()()}}function C3(n,e){n&1&&(B(0,"button",9),ne(1," Add Candidate "),H())}function D3(n,e){if(n&1){let t=qs();B(0,"button",14),We("click",function(){Bs(t);let r=wt().$implicit,o=wt();return $s(o.vote(r==null?null:r.documentId))}),ne(1," Vote "),H()}}function T3(n,e){if(n&1){let t=qs();B(0,"button",14),We("click",function(){Bs(t);let r=wt().$implicit,o=wt();return $s(o.vote(r==null?null:r.documentId))}),ne(1," Edit "),H()}}function S3(n,e){if(n&1){let t=qs();B(0,"button",14),We("click",function(){Bs(t);let r=wt().$implicit,o=wt();return $s(o.vote(r==null?null:r.documentId))}),ne(1," Delete "),H()}}function A3(n,e){if(n&1){let t=qs();B(0,"mat-card",10)(1,"mat-card-header")(2,"mat-card-title"),ne(3),H()(),Gt(4,"img",11),B(5,"p"),ne(6),H(),B(7,"mat-card-actions")(8,"button",12),We("click",function(){let r=Bs(t).$implicit,o=wt();return $s(o.openDescriptionDialog(r==null?null:r.description))}),ne(9," View Slogan "),H(),yt(10,D3,2,0,"button",13)(11,T3,2,0,"button",13)(12,S3,2,0,"button",13),H()()}if(n&2){let t=e.$implicit,i=wt();Se(3),qc(t==null?null:t.name),Se(),Pt("src",t==null?null:t.imageUrl,x_),Se(2),ai(" ",(t==null?null:t.percentage)=="NaN"?0:t==null?null:t.percentage,"%"),Se(4),Pt("ngIf",i.role=="voter"),Se(),Pt("ngIf",i.role=="member"&&(t==null?null:t.percentage)=="NaN"),Se(),Pt("ngIf",i.role=="member"&&(t==null?null:t.percentage)=="NaN")}}var $p=class n{constructor(e,t,i,r,o){this.firestoreService=e;this.router=t;this.authService=i;this.dialog=r;this.breakpointObserver=o;this.currentUser=this.authService.getCurrentUser()}isSmallScreen=!1;candidates=[];candidatesSubscription;userId="";currentUser;role=null;ngOnInit(){this.breakpointObserver.observe([qP.Handset]).subscribe(e=>{this.isSmallScreen=e.matches}),this.userId=this.authService.getCurrentUser(),this.firestoreService.getUserRole().then(e=>{this.role=e}),this.getAllCandidates()}toggleSideNav(){}openDescriptionDialog(e){this.dialog.closeAll(),this.dialog.open(m0,{data:{description:e},width:"400px",disableClose:!0,panelClass:"centered-dialog"})}getAllCandidates(){this.candidatesSubscription=this.firestoreService.getAllCandidates().subscribe(e=>{console.log("candidates=",e),this.candidates=e},e=>{console.error("Error fetching candidates:",e)})}ngOnDestroy(){this.candidatesSubscription&&this.candidatesSubscription.unsubscribe()}vote(e){console.log("candidateId=",e),this.firestoreService.hasVoted(this.userId).then(t=>{t?alert("You have already voted!"):this.firestoreService.incrementVote(e).then(()=>{this.firestoreService.recordVote(this.userId,e).then(()=>{console.log("Vote recorded"),this.getAllCandidates()}).catch(i=>{console.error("Error recording vote:",i)})}).catch(i=>{console.error("Error voting:",i)})}).catch(t=>{console.error("Error checking if user has voted:",t)})}logout(){this.authService.signOut().then(e=>{this.router.navigate(["/sign-in"])})}static \u0275fac=function(t){return new(t||n)(N(eo),N(cn),N(Dn),N(Bp),N(HP))};static \u0275cmp=Te({type:n,selectors:[["app-candidates"]],standalone:!0,features:[Ae],decls:12,vars:3,consts:[["color","primary",1,"responsive-toolbar"],["mat-icon-button","","class","menu-icon",3,"click",4,"ngIf"],[1,"spacer"],["mat-button","","routerLink","/home"],["mat-button","","routerLink","/add-candidate",4,"ngIf"],["mat-button","",3,"click"],[1,"candidate-container"],["class","candidate-card",4,"ngFor","ngForOf"],["mat-icon-button","",1,"menu-icon",3,"click"],["mat-button","","routerLink","/add-candidate"],[1,"candidate-card"],["mat-card-image","","alt","Candidate",3,"src"],["mat-button","",1,"btn-slogan",3,"click"],["class","btn-vote","mat-flat-button","","color","primary",3,"click",4,"ngIf"],["mat-flat-button","","color","primary",1,"btn-vote",3,"click"]],template:function(t,i){t&1&&(B(0,"mat-toolbar",0),yt(1,E3,3,0,"button",1),B(2,"span"),ne(3,"Candidates"),H(),Gt(4,"span",2),B(5,"button",3),ne(6,"Home"),H(),yt(7,C3,2,0,"button",4),B(8,"button",5),We("click",function(){return i.logout()}),ne(9,"Logout"),H()(),B(10,"div",6),yt(11,A3,13,6,"mat-card",7),H()),t&2&&(Se(),Pt("ngIf",i.isSmallScreen),Se(6),Pt("ngIf",i.role=="member"),Se(4),Pt("ngForOf",i.candidates))},dependencies:[JA,eA,sk,lk,ck,uk,vk,ak,e0,Bk,hk,Or],styles:[".responsive-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 16px;box-shadow:0 4px 6px #0000001a}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.candidate-container[_ngcontent-%COMP%]{margin:16px;display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:16px}.candidate-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;border-radius:8px;overflow:hidden;transition:transform .2s ease,box-shadow .2s ease;box-shadow:0 6px 10px #00000026}.candidate-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 15px #0003}.candidate-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;height:150px}mat-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%}mat-card-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%}mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], mat-card-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:5px 0}@media (max-width: 768px){.menu-icon[_ngcontent-%COMP%]{display:block}.responsive-toolbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:center;flex-grow:1}.candidate-container[_ngcontent-%COMP%]{margin:8px;grid-template-columns:1fr}.candidate-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}}.btn-slogan[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#555;border:1px solid #ddd;border-radius:4px;padding:8px 16px;font-size:14px;transition:background-color .3s ease,color .3s ease,transform .2s ease}.btn-slogan[_ngcontent-%COMP%]:hover{background-color:#e0e0e0;color:#333;transform:scale(1.05)}.btn-vote[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff;padding:10px 20px;font-size:14px;font-weight:700;border:none;border-radius:4px;box-shadow:0 4px 6px #0000001a;transition:background-color .3s ease,transform .2s ease,box-shadow .2s ease}.btn-vote[_ngcontent-%COMP%]:hover{background-color:#1565c0;transform:scale(1.05);box-shadow:0 6px 10px #00000026}@media (max-width: 768px){.btn-slogan[_ngcontent-%COMP%], .btn-vote[_ngcontent-%COMP%]{width:100%;font-size:16px;padding:12px}}.centered-dialog[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.mat-dialog-container[_ngcontent-%COMP%]{border-radius:8px;padding:16px;box-shadow:0 4px 10px #00000040;background:#fff}"]})},m0=class n{constructor(e){this.data=e}static \u0275fac=function(t){return new(t||n)(N(p0))};static \u0275cmp=Te({type:n,selectors:[["app-description-dialog"]],standalone:!0,features:[Ae],decls:9,vars:1,consts:[["align","center"],["mat-dialog-title",""],[1,"mat-typography"],["align","end"],["mat-button","","mat-dialog-close",""]],template:function(t,i){t&1&&(B(0,"body",0)(1,"h2",1),ne(2,"Slogan Description"),H(),B(3,"mat-dialog-content",2)(4,"p"),ne(5),H()(),B(6,"mat-dialog-actions",3)(7,"button",4),ne(8,"Cancel"),H()()()),t&2&&(Se(5),ai(" ",i.data.description," "))},dependencies:[Vk,jk,Lk,e0,Ok],encapsulation:2})};function x3(n,e){if(n&1&&(B(0,"div",10),ne(1),H()),n&2){let t=wt();Se(),ai(" ",t.errorMessage," ")}}var zp=class n{constructor(e,t){this.authService=e;this.router=t}email="";password="";errorMessage="";signIn(){this.email&&this.password?this.authService.signInWithEmailAndPassword(this.email,this.password).then(e=>{console.log("User signed in successfully:",e),this.router.navigate(["/candidates"])},e=>{this.errorMessage=e.message,console.error("Sign in error:",e)}):this.errorMessage="Please fill in both email and password."}static \u0275fac=function(t){return new(t||n)(N(Dn),N(cn))};static \u0275cmp=Te({type:n,selectors:[["app-sign-in"]],standalone:!0,features:[Ae],decls:23,vars:3,consts:[[1,"auth-container"],[3,"ngSubmit"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["type","submit"],["href","/sign-up"],["href","/forgot-password"],[1,"error"]],template:function(t,i){t&1&&(B(0,"div",0)(1,"h2"),ne(2,"Sign In"),H(),B(3,"form",1),We("ngSubmit",function(){return i.signIn()}),B(4,"div")(5,"label",2),ne(6,"Email:"),H(),B(7,"input",3),on("ngModelChange",function(o){return bn(i.email,o)||(i.email=o),o}),H()(),B(8,"div")(9,"label",4),ne(10,"Password:"),H(),B(11,"input",5),on("ngModelChange",function(o){return bn(i.password,o)||(i.password=o),o}),H()(),yt(12,x3,2,1,"div",6),B(13,"button",7),ne(14,"Sign In"),H()(),B(15,"p"),ne(16,"Don't have an account? "),B(17,"a",8),ne(18,"Sign Up"),H()(),B(19,"p"),ne(20,"Forgot your password? "),B(21,"a",9),ne(22,"Click here"),H()()()),t&2&&(Se(7),rn("ngModel",i.email),Se(4),rn("ngModel",i.password),Se(),Pt("ngIf",i.errorMessage))},dependencies:[$r,Br,li,jr,Ur,Ki,Wi,Gi,Or],styles:[".auth-container[_ngcontent-%COMP%]{width:100%;max-width:400px;margin:0 auto;padding:20px;border:1px solid #ccc;border-radius:8px;background-color:#f9f9f9;box-shadow:0 4px 8px #0000001a}.auth-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.auth-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:15px}.auth-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;color:#555}.auth-container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .auth-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;font-size:16px}.auth-container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus, .auth-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus{border-color:#4caf50;outline:none}.auth-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red;font-size:14px;margin-bottom:15px}.auth-container[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{width:100%;padding:12px;background-color:#4caf50;border:none;color:#fff;font-size:16px;border-radius:4px;cursor:pointer}.auth-container[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background-color:#45a049}.auth-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-top:20px;font-size:14px}.auth-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4caf50;text-decoration:none}.auth-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};function R3(n,e){if(n&1&&(B(0,"div",12),ne(1),H()),n&2){let t=wt();Se(),ai(" ",t.errorMessage," ")}}var Hp=class n{constructor(e,t){this.authService=e;this.router=t}user;name="";role="voter";email="";password="";errorMessage="";signUp(){if(this.email&&this.password){let e={name:this.name,role:this.role,email:this.email,password:this.password,createdAt:new Date().toISOString()};this.authService.signUpWithEmailAndPassword(e).then(t=>{this.router.navigate(["/sign-in"])},t=>{this.errorMessage=t.message,console.error("Sign up error:",t)})}else this.errorMessage="Please fill in both email and password."}static \u0275fac=function(t){return new(t||n)(N(Dn),N(cn))};static \u0275cmp=Te({type:n,selectors:[["app-sign-up"]],standalone:!0,features:[Ae],decls:27,vars:4,consts:[[1,"auth-container"],[3,"ngSubmit"],["for","name"],["type","text","id","name","name","name","required","",3,"ngModelChange","ngModel"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["type","submit"],["href","/sign-in"],["href","/forgot-password"],[1,"error"]],template:function(t,i){t&1&&(B(0,"div",0)(1,"h2"),ne(2,"Sign Up"),H(),B(3,"form",1),We("ngSubmit",function(){return i.signUp()}),B(4,"div")(5,"label",2),ne(6,"Full-Name:"),H(),B(7,"input",3),on("ngModelChange",function(o){return bn(i.name,o)||(i.name=o),o}),H()(),B(8,"div")(9,"label",4),ne(10,"Email:"),H(),B(11,"input",5),on("ngModelChange",function(o){return bn(i.email,o)||(i.email=o),o}),H()(),B(12,"div")(13,"label",6),ne(14,"Password:"),H(),B(15,"input",7),on("ngModelChange",function(o){return bn(i.password,o)||(i.password=o),o}),H()(),yt(16,R3,2,1,"div",8),B(17,"button",9),ne(18,"Sign Up"),H()(),B(19,"p"),ne(20,"Already have an account? "),B(21,"a",10),ne(22,"Sign In"),H()(),B(23,"p"),ne(24,"Forgot your password? "),B(25,"a",11),ne(26,"Click here"),H()()()),t&2&&(Se(7),rn("ngModel",i.name),Se(4),rn("ngModel",i.email),Se(4),rn("ngModel",i.password),Se(),Pt("ngIf",i.errorMessage))},dependencies:[$r,Br,li,jr,Ur,Ki,Wi,Gi,Or],styles:[".auth-container[_ngcontent-%COMP%]{width:100%;max-width:400px;margin:0 auto;padding:20px;border:1px solid #ccc;border-radius:8px;background-color:#f9f9f9;box-shadow:0 4px 8px #0000001a}.auth-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.auth-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:15px}.auth-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;color:#555}.auth-container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .auth-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .auth-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;font-size:16px}.auth-container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus, .auth-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .auth-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus{border-color:#4caf50;outline:none}.auth-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red;font-size:14px;margin-bottom:15px}.auth-container[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{width:100%;padding:12px;background-color:#4caf50;border:none;color:#fff;font-size:16px;border-radius:4px;cursor:pointer}.auth-container[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background-color:#45a049}.auth-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-top:20px;font-size:14px}.auth-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4caf50;text-decoration:none}.auth-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};function M3(n,e){if(n&1&&(B(0,"p",7),ne(1),H()),n&2){let t=wt();Se(),qc(t.message)}}var qp=class n{constructor(e){this.authService=e}email="";message=null;onForgotPassword(){return v(this,null,function*(){try{yield this.authService.forgotPassword(this.email),this.message="A password reset email has been sent to your email address."}catch(e){this.message="Error: "+(e||"Unable to send reset email.")}})}static \u0275fac=function(t){return new(t||n)(N(Dn))};static \u0275cmp=Te({type:n,selectors:[["app-forgot-password"]],standalone:!0,features:[Ae],decls:11,vars:2,consts:[[1,"forgot-password-container"],[1,"forgot-password-form",3,"ngSubmit"],[1,"form-group"],["for","email"],["id","email","type","email","name","email","required","","placeholder","Enter your email",3,"ngModelChange","ngModel"],["type","submit",1,"btn-primary"],["class","success-message",4,"ngIf"],[1,"success-message"]],template:function(t,i){t&1&&(B(0,"div",0)(1,"h2"),ne(2,"Forgot Password"),H(),B(3,"form",1),We("ngSubmit",function(){return i.onForgotPassword()}),B(4,"div",2)(5,"label",3),ne(6,"Email"),H(),B(7,"input",4),on("ngModelChange",function(o){return bn(i.email,o)||(i.email=o),o}),H()(),B(8,"button",5),ne(9,"Send Reset Email"),H()(),yt(10,M3,2,1,"p",6),H()),t&2&&(Se(7),rn("ngModel",i.email),Se(3),Pt("ngIf",i.message))},dependencies:[$r,Br,li,jr,Ur,Ki,Wi,Gi,Or],styles:[".forgot-password-container[_ngcontent-%COMP%]{background:#fff;border-radius:10px;box-shadow:0 4px 8px #0003;width:90%;max-width:400px;padding:20px;text-align:center;margin:0 auto}.forgot-password-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;color:#333;font-size:24px;font-weight:700}.forgot-password-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:5px;font-size:14px;color:#555}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;font-size:14px}.btn-primary[_ngcontent-%COMP%]{background:#2575fc;color:#fff;padding:10px 15px;border:none;border-radius:5px;cursor:pointer;font-size:16px;transition:background .3s}.btn-primary[_ngcontent-%COMP%]:hover{background:#1e63d5}.success-message[_ngcontent-%COMP%]{margin-top:15px;color:green;font-size:14px}@media (max-width: 768px){.forgot-password-container[_ngcontent-%COMP%]{padding:15px}.forgot-password-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}.btn-primary[_ngcontent-%COMP%]{font-size:14px}}"]})};var $k=[{path:"sign-in",component:zp},{path:"sign-up",component:Hp},{path:"forgot-password",component:qp},{path:"candidates",component:$p,canActivate:[lu]},{path:"add-candidate",component:xp,canActivate:[lu]}];var qk="functions";var g0=class{constructor(e,t,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(r=>this.auth=r,()=>{}),this.messaging||t.get().then(r=>this.messaging=r,()=>{}),this.appCheck||i.get().then(r=>this.appCheck=r,()=>{})}getAuthToken(){return v(this,null,function*(){if(this.auth)try{let e=yield this.auth.getToken();return e?.accessToken}catch{return}})}getMessagingToken(){return v(this,null,function*(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return yield this.messaging.getToken()}catch{return}})}getAppCheckToken(e){return v(this,null,function*(){if(this.appCheck){let t=e?yield this.appCheck.getLimitedUseToken():yield this.appCheck.getToken();return t.error?null:t.token}return null})}getContext(e){return v(this,null,function*(){let t=yield this.getAuthToken(),i=yield this.getMessagingToken(),r=yield this.getAppCheckToken(e);return{authToken:t,messagingToken:i,appCheckToken:r}})}};var _0="us-central1";var v0=class{constructor(e,t,i,r,o=_0,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new g0(t,i,r),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{let a=new URL(o);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=_0}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){let t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}};function N3(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}var zk="@firebase/functions",Hk="0.11.8";var P3="auth-internal",k3="app-check-internal",O3="messaging-internal";function F3(n,e){let t=(i,{instanceIdentifier:r})=>{let o=i.getProvider("app").getImmediate(),s=i.getProvider(P3),a=i.getProvider(O3),c=i.getProvider(k3);return new v0(o,s,a,c,r,n)};In(new Ot(qk,t,"PUBLIC").setMultipleInstances(!0)),Fe(zk,Hk,e),Fe(zk,Hk,"esm2017")}function Gk(n=hi(),e=_0){let i=Zi(Ve(n),qk).getImmediate({identifier:e}),r=aa("functions");return r&&Wk(i,...r),i}function Wk(n,e,t){N3(Ve(n),e,t)}F3(fetch.bind(self));var Eu=class{constructor(e){return e}},Kk="functions",y0=class{constructor(){return Xi(Kk)}};var b0=new U("angularfire2.functions-instances");function L3(n,e){let t=qr(Kk,n,e);return t&&new Eu(t)}function V3(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Eu(i)}}var j3={provide:y0,deps:[[new $e,b0]]},U3={provide:Eu,useFactory:L3,deps:[[new $e,b0],ln]};function Yk(n,...e){return Fe("angularfire",Vn.full,"fn"),Yt([U3,j3,{provide:b0,useFactory:V3(n),multi:!0,deps:[W,Oe,pi,jn,[new $e,rr],[new $e,fi],...e]}])}var Qk=Ne(Gk,!0);var Zk={production:!1,firebase:{apiKey:"AIzaSyC2o9sxnLDjD_QB7CT1Z9bRJ6ysf9-552s",authDomain:"ethiotiktalk.firebaseapp.com",databaseURL:"https://ethiotiktalk-default-rtdb.firebaseio.com",projectId:"ethiotiktalk",storageBucket:"ethiotiktalk.appspot.com",messagingSenderId:"963316466488",appId:"1:963316466488:web:8e6d723492b415a3c777cd",measurementId:"G-F4VCKD8XBY"}};var Xk={providers:[BS({eventCoalescing:!0}),ex($k),Kx(()=>Yx(Zk.firebase)),YR(()=>ZR()),iP(()=>sP()),Yk(()=>Qk()),VP(()=>jP())]};var Gp=class n{constructor(e){this.auth=e}title="angular-18-firebase-boilerplate";static \u0275fac=function(t){return new(t||n)(N(Dn))};static \u0275cmp=Te({type:n,selectors:[["app-root"]],standalone:!0,features:[Ae],decls:1,vars:0,template:function(t,i){t&1&&Gt(0,"router-outlet")},dependencies:[Hv]})};mA(Gp,Xk).catch(n=>console.error(n));
